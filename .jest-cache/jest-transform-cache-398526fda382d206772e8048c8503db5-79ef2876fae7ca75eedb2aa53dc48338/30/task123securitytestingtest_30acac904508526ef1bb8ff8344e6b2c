5cd8b4e5d52ba8abeb0c06a23dc7073d
"use strict";
/**
 * =============================================================================
 * TASK 12.3 - SECURITY AND PENETRATION TESTING IMPLEMENTATION
 * =============================================================================
 *
 * Complete implementation of automated security testing suite, penetration
 * testing for API endpoints, vulnerability scanning and assessment, and
 * security compliance testing and validation as required by task 12.3.
 *
 * Features:
 * - Automated security testing suite
 * - Penetration testing for API endpoints
 * - Vulnerability scanning and assessment
 * - Security compliance testing and validation
 *
 * Requirements: 25.7 - Create security and penetration testing
 *
 * @author AI Crypto Trading System
 * @version 1.0.0
 * @license PROPRIETARY
 * =============================================================================
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
// Mock external dependencies for testing
jest.mock('../../core/logging/logger');
jest.mock('../../core/notifications/notification-service');
jest.mock('../../security/encryption-service');
jest.mock('../../security/threat-detection-engine');
jest.mock('../../security/security-monitoring-service');
jest.mock('../../security/incident-response-service');
jest.mock('../../security/vulnerability-scanner-service');
jest.mock('../../security/compliance-testing');
jest.mock('../../security/automated-security-testing');
jest.mock('../../security/penetration-testing-service');
jest.mock('../../security/security-test-orchestrator');
jest.mock('axios');
jest.mock('child_process');
const logger_1 = require("../../core/logging/logger");
const security_test_orchestrator_1 = require("../../security/security-test-orchestrator");
const penetration_testing_service_1 = require("../../security/penetration-testing-service");
const vulnerability_scanner_service_1 = require("../../security/vulnerability-scanner-service");
const compliance_testing_1 = require("../../security/compliance-testing");
const automated_security_testing_1 = require("../../security/automated-security-testing");
const threat_detection_engine_1 = require("../../security/threat-detection-engine");
const incident_response_service_1 = require("../../security/incident-response-service");
const notification_service_1 = require("../../core/notifications/notification-service");
const encryption_service_1 = require("../../security/encryption-service");
const security_monitoring_service_1 = require("../../security/security-monitoring-service");
const crypto = __importStar(require("crypto"));
const fs = __importStar(require("fs/promises"));
const path = __importStar(require("path"));
const os = __importStar(require("os"));
describe('Task 12.3 - Security and Penetration Testing', () => {
    let logger;
    let securityOrchestrator;
    let penetrationTesting;
    let vulnerabilityScanner;
    let complianceTesting;
    let automatedTesting;
    let threatDetection;
    let incidentResponse;
    let notifications;
    let encryptionService;
    let securityMonitoring;
    let testOutputDir;
    beforeAll(async () => {
        // Set up test environment
        process.env.NODE_ENV = 'test';
        process.env.MASTER_ENCRYPTION_KEY = crypto.randomBytes(32).toString('hex');
        process.env.GATE_IO_API_KEY = 'test_api_key';
        process.env.GATE_IO_SECRET_KEY = 'test_secret_key';
        // Create temporary test output directory
        testOutputDir = path.join(os.tmpdir(), 'task-12-3-security-test-output');
        await fs.mkdir(testOutputDir, { recursive: true });
    });
    beforeEach(async () => {
        // Initialize all security services
        logger = new logger_1.Logger();
        encryptionService = new encryption_service_1.EncryptionService(logger);
        threatDetection = new threat_detection_engine_1.ThreatDetectionEngine(logger);
        securityMonitoring = new security_monitoring_service_1.SecurityMonitoringService(logger);
        notifications = new notification_service_1.NotificationService(logger);
        incidentResponse = new incident_response_service_1.IncidentResponseService(logger, notifications);
        vulnerabilityScanner = new vulnerability_scanner_service_1.VulnerabilityScannerService(logger);
        complianceTesting = new compliance_testing_1.ComplianceTestingService(logger);
        // Configure penetration testing
        const penetrationConfig = {
            targetEndpoints: [
                'http://localhost:3000/api/v4/spot/time',
                'http://localhost:3000/api/v4/spot/accounts',
                'http://localhost:3000/api/v4/spot/orders',
                'http://localhost:3000/api/dashboard/status',
                'http://localhost:3000/api/trading/positions'
            ],
            testTypes: [
                'sql_injection',
                'xss',
                'authentication_bypass',
                'input_validation',
                'rate_limiting',
                'tls_security'
            ],
            maxConcurrentTests: 5,
            timeoutMs: 30000,
            enableDestructiveTesting: false,
            complianceStandards: ['OWASP_TOP_10', 'ISO_27001', 'SOC_2']
        };
        penetrationTesting = new penetration_testing_service_1.PenetrationTestingService(logger, encryptionService, threatDetection, penetrationConfig);
        // Configure automated security testing
        const securityTestConfig = {
            schedules: [
                {
                    id: 'task-12-3-daily-scan',
                    name: 'Task 12.3 Daily Security Scan',
                    cronExpression: '0 2 * * *',
                    testTypes: ['penetration', 'vulnerability', 'compliance'],
                    enabled: true
                }
            ],
            reportingConfig: {
                outputDirectory: testOutputDir,
                retentionDays: 30,
                emailReports: true,
                slackIntegration: false
            },
            alertingConfig: {
                criticalThreshold: 1,
                highThreshold: 3,
                emailAlerts: true,
                immediateNotification: true
            },
            integrationConfig: {
                cicdIntegration: true,
                webhookUrl: 'http://localhost:3000/api/security/webhook',
                apiKey: 'test-security-api-key'
            }
        };
        automatedTesting = new automated_security_testing_1.AutomatedSecurityTestingSuite(logger, penetrationTesting, securityMonitoring, incidentResponse, notifications, securityTestConfig);
        // Initialize security test orchestrator
        securityOrchestrator = new security_test_orchestrator_1.SecurityTestOrchestrator(logger, penetrationTesting, vulnerabilityScanner, complianceTesting, automatedTesting, threatDetection, incidentResponse, notifications);
        // Clear all mocks
        jest.clearAllMocks();
    });
    afterEach(async () => {
        // Clean up test files
        try {
            const files = await fs.readdir(testOutputDir);
            for (const file of files) {
                await fs.unlink(path.join(testOutputDir, file));
            }
        }
        catch (error) {
            // Ignore cleanup errors
        }
    });
    afterAll(async () => {
        // Clean up test environment
        delete process.env.MASTER_ENCRYPTION_KEY;
        delete process.env.GATE_IO_API_KEY;
        delete process.env.GATE_IO_SECRET_KEY;
        delete process.env.NODE_ENV;
        try {
            await fs.rmdir(testOutputDir);
        }
        catch (error) {
            // Ignore cleanup errors
        }
    });
    describe('1. Automated Security Testing Suite', () => {
        it('should initialize automated security testing suite successfully', async () => {
            await expect(automatedTesting.initialize()).resolves.not.toThrow();
            expect(logger.info).toHaveBeenCalledWith('Automated security testing suite initialized successfully', expect.any(Object));
        });
        it('should execute comprehensive security test suite', async () => {
            const result = await securityOrchestrator.executeSecurityTestSuite('daily-security-scan');
            expect(result).toBeDefined();
            expect(result.executionId).toBeDefined();
            expect(result.status).toBe('COMPLETED');
            expect(result.testResults).toBeDefined();
            expect(Array.isArray(result.testResults)).toBe(true);
            expect(result.overallRiskScore).toBeGreaterThanOrEqual(0);
            expect(result.complianceScore).toBeGreaterThanOrEqual(0);
        });
        it('should execute all security test types', async () => {
            const testTypes = [
                security_test_orchestrator_1.SecurityTestType.PENETRATION_TESTING,
                security_test_orchestrator_1.SecurityTestType.VULNERABILITY_SCANNING,
                security_test_orchestrator_1.SecurityTestType.COMPLIANCE_TESTING,
                security_test_orchestrator_1.SecurityTestType.DEPENDENCY_AUDIT,
                security_test_orchestrator_1.SecurityTestType.CODE_ANALYSIS,
                security_test_orchestrator_1.SecurityTestType.CONFIGURATION_REVIEW,
                security_test_orchestrator_1.SecurityTestType.NETWORK_SECURITY,
                security_test_orchestrator_1.SecurityTestType.THREAT_MODELING
            ];
            for (const testType of testTypes) {
                const result = await securityOrchestrator.executeSecurityTest(testType, 'test-execution');
                expect(result).toBeDefined();
                expect(result.testType).toBe(testType);
                expect(['PASS', 'FAIL', 'WARNING', 'ERROR']).toContain(result.status);
                expect(typeof result.executionTime).toBe('number');
                expect(typeof result.riskScore).toBe('number');
            }
        });
    });
    describe('2. Penetration Testing for API Endpoints', () => {
        it('should test all configured API endpoints', async () => {
            const result = await penetrationTesting.executeSecurityTestSuite();
            expect(result).toBeDefined();
            expect(result.scanId).toBeDefined();
            expect(result.vulnerabilities).toBeDefined();
            expect(Array.isArray(result.vulnerabilities)).toBe(true);
            expect(result.totalVulnerabilities).toBeGreaterThanOrEqual(0);
        });
        it('should test for SQL injection vulnerabilities', async () => {
            const mockSQLTest = jest.spyOn(penetrationTesting, 'testSQLInjection');
            mockSQLTest.mockResolvedValue({
                testId: 'sql-injection-test',
                testName: 'SQL Injection Test',
                category: 'API_SECURITY',
                status: 'PASS',
                severity: 'LOW',
                description: 'No SQL injection vulnerabilities detected',
                findings: [],
                recommendations: ['Continue using parameterized queries'],
                timestamp: new Date(),
                executionTime: 2000
            });
            const result = await penetrationTesting.executeSecurityTestSuite();
            expect(mockSQLTest).toHaveBeenCalled();
            expect(result.vulnerabilities).toBeDefined();
        });
        it('should test for XSS vulnerabilities', async () => {
            const mockXSSTest = jest.spyOn(penetrationTesting, 'testXSSVulnerabilities');
            mockXSSTest.mockResolvedValue({
                testId: 'xss-test',
                testName: 'XSS Vulnerability Test',
                category: 'API_SECURITY',
                status: 'PASS',
                severity: 'LOW',
                description: 'No XSS vulnerabilities detected',
                findings: [],
                recommendations: ['Continue using output encoding'],
                timestamp: new Date(),
                executionTime: 1500
            });
            const result = await penetrationTesting.executeSecurityTestSuite();
            expect(mockXSSTest).toHaveBeenCalled();
            expect(result.complianceScore).toBeGreaterThanOrEqual(0);
        });
        it('should test authentication bypass vulnerabilities', async () => {
            const mockAuthTest = jest.spyOn(penetrationTesting, 'testAuthenticationBypass');
            mockAuthTest.mockResolvedValue({
                testId: 'auth-bypass-test',
                testName: 'Authentication Bypass Test',
                category: 'API_SECURITY',
                status: 'PASS',
                severity: 'LOW',
                description: 'Authentication properly enforced',
                findings: [],
                recommendations: ['Maintain current authentication controls'],
                timestamp: new Date(),
                executionTime: 3000
            });
            const result = await penetrationTesting.executeSecurityTestSuite();
            expect(mockAuthTest).toHaveBeenCalled();
            expect(result.recommendations).toBeDefined();
        });
    });
    describe('3. Vulnerability Scanning and Assessment', () => {
        it('should execute comprehensive vulnerability scan', async () => {
            const result = await vulnerabilityScanner.executeComprehensiveVulnerabilityScan();
            expect(result).toBeDefined();
            expect(result.scanId).toBeDefined();
            expect(result.scanType).toBe('comprehensive_scan');
            expect(result.status).toBe('COMPLETED');
            expect(result.findings).toBeDefined();
            expect(Array.isArray(result.findings)).toBe(true);
            expect(result.summary).toBeDefined();
        });
        it('should provide vulnerability severity classification', async () => {
            const result = await vulnerabilityScanner.executeComprehensiveVulnerabilityScan();
            expect(result.summary.criticalCount).toBeGreaterThanOrEqual(0);
            expect(result.summary.highCount).toBeGreaterThanOrEqual(0);
            expect(result.summary.mediumCount).toBeGreaterThanOrEqual(0);
            expect(result.summary.lowCount).toBeGreaterThanOrEqual(0);
            // Total should match sum of severity counts
            const severitySum = result.summary.criticalCount + result.summary.highCount +
                result.summary.mediumCount + result.summary.lowCount;
            expect(severitySum).toBe(result.summary.totalFindings);
        });
        it('should provide remediation priorities', async () => {
            const result = await vulnerabilityScanner.executeComprehensiveVulnerabilityScan();
            expect(result.summary.remediationPriority).toBeDefined();
            expect(Array.isArray(result.summary.remediationPriority)).toBe(true);
            if (result.summary.remediationPriority.length > 0) {
                result.summary.remediationPriority.forEach(item => {
                    expect(item).toHaveProperty('id');
                    expect(item).toHaveProperty('priority');
                    expect(item).toHaveProperty('title');
                    expect(item).toHaveProperty('description');
                    expect(item).toHaveProperty('effort');
                    expect(item).toHaveProperty('impact');
                    expect(item).toHaveProperty('steps');
                    expect(item).toHaveProperty('estimatedTime');
                    expect(['CRITICAL', 'HIGH', 'MEDIUM', 'LOW']).toContain(item.priority);
                    expect(['LOW', 'MEDIUM', 'HIGH']).toContain(item.effort);
                });
            }
        });
    });
    describe('4. Security Compliance Testing and Validation', () => {
        it('should test OWASP Top 10 compliance', async () => {
            const result = await complianceTesting.executeComplianceTest('OWASP_TOP_10');
            expect(result).toBeDefined();
            expect(result.standardId).toBe('OWASP_TOP_10');
            expect(result.standardName).toBe('OWASP Top 10');
            expect(result.overallScore).toBeGreaterThanOrEqual(0);
            expect(result.overallScore).toBeLessThanOrEqual(100);
            expect(['COMPLIANT', 'NON_COMPLIANT', 'PARTIAL']).toContain(result.status);
            expect(result.controlResults.length).toBe(10);
        });
        it('should test ISO 27001 compliance', async () => {
            const result = await complianceTesting.executeComplianceTest('ISO_27001');
            expect(result.standardId).toBe('ISO_27001');
            expect(result.standardName).toBe('ISO/IEC 27001');
            expect(result.requiredScore).toBe(85);
            expect(result.controlResults.length).toBeGreaterThan(0);
        });
        it('should test SOC 2 compliance', async () => {
            const result = await complianceTesting.executeComplianceTest('SOC_2');
            expect(result.standardId).toBe('SOC_2');
            expect(result.standardName).toBe('SOC 2 Type II');
            expect(result.requiredScore).toBe(90);
            expect(result.controlResults.length).toBeGreaterThan(0);
        });
        it('should provide gap analysis for non-compliant standards', async () => {
            const result = await complianceTesting.executeComplianceTest('OWASP_TOP_10');
            expect(result.gapAnalysis).toBeDefined();
            expect(Array.isArray(result.gapAnalysis)).toBe(true);
            if (result.status !== 'COMPLIANT') {
                expect(result.gapAnalysis.length).toBeGreaterThan(0);
                result.gapAnalysis.forEach(gap => {
                    expect(gap).toHaveProperty('controlId');
                    expect(gap).toHaveProperty('controlName');
                    expect(gap).toHaveProperty('currentScore');
                    expect(gap).toHaveProperty('requiredScore');
                    expect(gap).toHaveProperty('gap');
                    expect(gap).toHaveProperty('priority');
                    expect(gap).toHaveProperty('remediation');
                    expect(['LOW', 'MEDIUM', 'HIGH', 'CRITICAL']).toContain(gap.priority);
                });
            }
        });
    });
    describe('5. Security Test Integration and Orchestration', () => {
        it('should integrate with threat detection engine', async () => {
            const result = await securityOrchestrator.executeSecurityTestSuite('daily-security-scan');
            expect(result).toBeDefined();
            expect(threatDetection).toBeDefined();
            expect(result.testResults.length).toBeGreaterThan(0);
        });
        it('should generate comprehensive remediation plans', async () => {
            const result = await securityOrchestrator.executeSecurityTestSuite('weekly-comprehensive-scan');
            expect(result.remediationPlan).toBeDefined();
            expect(result.remediationPlan.planId).toBeDefined();
            expect(['IMMEDIATE', 'HIGH', 'MEDIUM', 'LOW']).toContain(result.remediationPlan.priority);
            expect(result.remediationPlan.estimatedEffort).toBeDefined();
            expect(result.remediationPlan.timeline).toBeDefined();
            expect(Array.isArray(result.remediationPlan.tasks)).toBe(true);
            expect(result.remediationPlan.riskReduction).toBeGreaterThanOrEqual(0);
        });
        it('should provide security dashboard with metrics', async () => {
            // Execute a test suite to populate data
            await securityOrchestrator.executeSecurityTestSuite('daily-security-scan');
            const dashboard = securityOrchestrator.getSecurityDashboard();
            expect(dashboard).toBeDefined();
            expect(dashboard.lastUpdated).toBeInstanceOf(Date);
            expect(dashboard.overallSecurityScore).toBeGreaterThanOrEqual(0);
            expect(dashboard.overallSecurityScore).toBeLessThanOrEqual(100);
            expect(['LOW', 'MEDIUM', 'HIGH', 'CRITICAL']).toContain(dashboard.riskLevel);
            expect(dashboard.vulnerabilities).toBeDefined();
            expect(dashboard.complianceStatus).toBeDefined();
            expect(Array.isArray(dashboard.recentExecutions)).toBe(true);
            expect(Array.isArray(dashboard.trendData)).toBe(true);
        });
    });
    describe('6. Security Test Reporting and Documentation', () => {
        it('should generate comprehensive security reports', async () => {
            const result = await securityOrchestrator.executeSecurityTestSuite('daily-security-scan');
            expect(result.remediationPlan).toBeDefined();
            expect(result.remediationPlan.tasks).toBeDefined();
            expect(Array.isArray(result.remediationPlan.tasks)).toBe(true);
            expect(result.recommendations).toBeDefined();
            expect(Array.isArray(result.recommendations)).toBe(true);
        });
        it('should save security test reports to disk', async () => {
            await automatedTesting.executeSecurityTestsOnDemand();
            // Check if reports are saved
            const files = await fs.readdir(testOutputDir);
            const reportFiles = files.filter(f => f.startsWith('security-report-'));
            expect(reportFiles.length).toBeGreaterThan(0);
        });
        it('should provide security trend analysis', async () => {
            // Execute multiple tests to generate trend data
            await securityOrchestrator.executeSecurityTestSuite('daily-security-scan');
            await securityOrchestrator.executeSecurityTestSuite('daily-security-scan');
            const dashboard = securityOrchestrator.getSecurityDashboard();
            expect(dashboard.trendData).toBeDefined();
            expect(Array.isArray(dashboard.trendData)).toBe(true);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxOaWNrXFxEZXNrdG9wXFxTbW9vdGhTYWlsXFxzcmNcXHRlc3RzXFxzZWN1cml0eVxcdGFzay0xMi0zLXNlY3VyaXR5LXRlc3RpbmcudGVzdC50cyIsIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXFCRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkgseUNBQXlDO0FBQ3pDLElBQUksQ0FBQyxJQUFJLENBQUMsMkJBQTJCLENBQUMsQ0FBQztBQUN2QyxJQUFJLENBQUMsSUFBSSxDQUFDLCtDQUErQyxDQUFDLENBQUM7QUFDM0QsSUFBSSxDQUFDLElBQUksQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO0FBQy9DLElBQUksQ0FBQyxJQUFJLENBQUMsd0NBQXdDLENBQUMsQ0FBQztBQUNwRCxJQUFJLENBQUMsSUFBSSxDQUFDLDRDQUE0QyxDQUFDLENBQUM7QUFDeEQsSUFBSSxDQUFDLElBQUksQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDO0FBQ3RELElBQUksQ0FBQyxJQUFJLENBQUMsOENBQThDLENBQUMsQ0FBQztBQUMxRCxJQUFJLENBQUMsSUFBSSxDQUFDLG1DQUFtQyxDQUFDLENBQUM7QUFDL0MsSUFBSSxDQUFDLElBQUksQ0FBQywyQ0FBMkMsQ0FBQyxDQUFDO0FBQ3ZELElBQUksQ0FBQyxJQUFJLENBQUMsNENBQTRDLENBQUMsQ0FBQztBQUN4RCxJQUFJLENBQUMsSUFBSSxDQUFDLDJDQUEyQyxDQUFDLENBQUM7QUFDdkQsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBN0IzQixzREFBbUQ7QUFDbkQsMEZBQXVHO0FBQ3ZHLDRGQUE4RztBQUM5RyxnR0FBMkY7QUFDM0YsMEVBQTZFO0FBQzdFLDBGQUFtSDtBQUNuSCxvRkFBK0U7QUFDL0Usd0ZBQW1GO0FBQ25GLHdGQUFvRjtBQUNwRiwwRUFBc0U7QUFDdEUsNEZBQXVGO0FBQ3ZG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QyxJQUFJLENBQUMsQ0FBQztRQUMzRCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQywyQ0FBMkMsRUFBRSxLQUFLLElBQUksRUFBRTtZQUN6RCxNQUFNLGdCQUFnQixDQUFDLDRCQUE0QixFQUFFLENBQUM7WUFFdEQsNkJBQTZCO1lBQzdCLE1BQU0sS0FBSyxHQUFHLE1BQU0sRUFBRSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUM5QyxNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7WUFFeEUsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEQsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsd0NBQXdDLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDdEQsZ0RBQWdEO1lBQ2hELE1BQU0sb0JBQW9CLENBQUMsd0JBQXdCLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUMzRSxNQUFNLG9CQUFvQixDQUFDLHdCQUF3QixDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFFM0UsTUFBTSxTQUFTLEdBQUcsb0JBQW9CLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztZQUU5RCxNQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4RCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxOaWNrXFxEZXNrdG9wXFxTbW9vdGhTYWlsXFxzcmNcXHRlc3RzXFxzZWN1cml0eVxcdGFzay0xMi0zLXNlY3VyaXR5LXRlc3RpbmcudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogVEFTSyAxMi4zIC0gU0VDVVJJVFkgQU5EIFBFTkVUUkFUSU9OIFRFU1RJTkcgSU1QTEVNRU5UQVRJT05cclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogXHJcbiAqIENvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGF1dG9tYXRlZCBzZWN1cml0eSB0ZXN0aW5nIHN1aXRlLCBwZW5ldHJhdGlvblxyXG4gKiB0ZXN0aW5nIGZvciBBUEkgZW5kcG9pbnRzLCB2dWxuZXJhYmlsaXR5IHNjYW5uaW5nIGFuZCBhc3Nlc3NtZW50LCBhbmRcclxuICogc2VjdXJpdHkgY29tcGxpYW5jZSB0ZXN0aW5nIGFuZCB2YWxpZGF0aW9uIGFzIHJlcXVpcmVkIGJ5IHRhc2sgMTIuMy5cclxuICogXHJcbiAqIEZlYXR1cmVzOlxyXG4gKiAtIEF1dG9tYXRlZCBzZWN1cml0eSB0ZXN0aW5nIHN1aXRlXHJcbiAqIC0gUGVuZXRyYXRpb24gdGVzdGluZyBmb3IgQVBJIGVuZHBvaW50cyAgXHJcbiAqIC0gVnVsbmVyYWJpbGl0eSBzY2FubmluZyBhbmQgYXNzZXNzbWVudFxyXG4gKiAtIFNlY3VyaXR5IGNvbXBsaWFuY2UgdGVzdGluZyBhbmQgdmFsaWRhdGlvblxyXG4gKiBcclxuICogUmVxdWlyZW1lbnRzOiAyNS43IC0gQ3JlYXRlIHNlY3VyaXR5IGFuZCBwZW5ldHJhdGlvbiB0ZXN0aW5nXHJcbiAqIFxyXG4gKiBAYXV0aG9yIEFJIENyeXB0byBUcmFkaW5nIFN5c3RlbVxyXG4gKiBAdmVyc2lvbiAxLjAuMFxyXG4gKiBAbGljZW5zZSBQUk9QUklFVEFSWVxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4uLy4uL2NvcmUvbG9nZ2luZy9sb2dnZXInO1xyXG5pbXBvcnQgeyBTZWN1cml0eVRlc3RPcmNoZXN0cmF0b3IsIFNlY3VyaXR5VGVzdFR5cGUgfSBmcm9tICcuLi8uLi9zZWN1cml0eS9zZWN1cml0eS10ZXN0LW9yY2hlc3RyYXRvcic7XHJcbmltcG9ydCB7IFBlbmV0cmF0aW9uVGVzdGluZ1NlcnZpY2UsIFBlbmV0cmF0aW9uVGVzdENvbmZpZyB9IGZyb20gJy4uLy4uL3NlY3VyaXR5L3BlbmV0cmF0aW9uLXRlc3Rpbmctc2VydmljZSc7XHJcbmltcG9ydCB7IFZ1bG5lcmFiaWxpdHlTY2FubmVyU2VydmljZSB9IGZyb20gJy4uLy4uL3NlY3VyaXR5L3Z1bG5lcmFiaWxpdHktc2Nhbm5lci1zZXJ2aWNlJztcclxuaW1wb3J0IHsgQ29tcGxpYW5jZVRlc3RpbmdTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VjdXJpdHkvY29tcGxpYW5jZS10ZXN0aW5nJztcclxuaW1wb3J0IHsgQXV0b21hdGVkU2VjdXJpdHlUZXN0aW5nU3VpdGUsIFNlY3VyaXR5VGVzdFN1aXRlQ29uZmlnIH0gZnJvbSAnLi4vLi4vc2VjdXJpdHkvYXV0b21hdGVkLXNlY3VyaXR5LXRlc3RpbmcnO1xyXG5pbXBvcnQgeyBUaHJlYXREZXRlY3Rpb25FbmdpbmUgfSBmcm9tICcuLi8uLi9zZWN1cml0eS90aHJlYXQtZGV0ZWN0aW9uLWVuZ2luZSc7XHJcbmltcG9ydCB7IEluY2lkZW50UmVzcG9uc2VTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VjdXJpdHkvaW5jaWRlbnQtcmVzcG9uc2Utc2VydmljZSc7XHJcbmltcG9ydCB7IE5vdGlmaWNhdGlvblNlcnZpY2UgfSBmcm9tICcuLi8uLi9jb3JlL25vdGlmaWNhdGlvbnMvbm90aWZpY2F0aW9uLXNlcnZpY2UnO1xyXG5pbXBvcnQgeyBFbmNyeXB0aW9uU2VydmljZSB9IGZyb20gJy4uLy4uL3NlY3VyaXR5L2VuY3J5cHRpb24tc2VydmljZSc7XHJcbmltcG9ydCB7IFNlY3VyaXR5TW9uaXRvcmluZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZWN1cml0eS9zZWN1cml0eS1tb25pdG9yaW5nLXNlcnZpY2UnO1xyXG5pbXBvcnQgKiBhcyBjcnlwdG8gZnJvbSAnY3J5cHRvJztcclxuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMvcHJvbWlzZXMnO1xyXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgKiBhcyBvcyBmcm9tICdvcyc7XHJcblxyXG4vLyBNb2NrIGV4dGVybmFsIGRlcGVuZGVuY2llcyBmb3IgdGVzdGluZ1xyXG5qZXN0Lm1vY2soJy4uLy4uL2NvcmUvbG9nZ2luZy9sb2dnZXInKTtcclxuamVzdC5tb2NrKCcuLi8uLi9jb3JlL25vdGlmaWNhdGlvbnMvbm90aWZpY2F0aW9uLXNlcnZpY2UnKTtcclxuamVzdC5tb2NrKCcuLi8uLi9zZWN1cml0eS9lbmNyeXB0aW9uLXNlcnZpY2UnKTtcclxuamVzdC5tb2NrKCcuLi8uLi9zZWN1cml0eS90aHJlYXQtZGV0ZWN0aW9uLWVuZ2luZScpO1xyXG5qZXN0Lm1vY2soJy4uLy4uL3NlY3VyaXR5L3NlY3VyaXR5LW1vbml0b3Jpbmctc2VydmljZScpO1xyXG5qZXN0Lm1vY2soJy4uLy4uL3NlY3VyaXR5L2luY2lkZW50LXJlc3BvbnNlLXNlcnZpY2UnKTtcclxuamVzdC5tb2NrKCcuLi8uLi9zZWN1cml0eS92dWxuZXJhYmlsaXR5LXNjYW5uZXItc2VydmljZScpO1xyXG5qZXN0Lm1vY2soJy4uLy4uL3NlY3VyaXR5L2NvbXBsaWFuY2UtdGVzdGluZycpO1xyXG5qZXN0Lm1vY2soJy4uLy4uL3NlY3VyaXR5L2F1dG9tYXRlZC1zZWN1cml0eS10ZXN0aW5nJyk7XHJcbmplc3QubW9jaygnLi4vLi4vc2VjdXJpdHkvcGVuZXRyYXRpb24tdGVzdGluZy1zZXJ2aWNlJyk7XHJcbmplc3QubW9jaygnLi4vLi4vc2VjdXJpdHkvc2VjdXJpdHktdGVzdC1vcmNoZXN0cmF0b3InKTtcclxuamVzdC5tb2NrKCdheGlvcycpO1xyXG5qZXN0Lm1vY2soJ2NoaWxkX3Byb2Nlc3MnKTtcclxuXHJcbmRlc2NyaWJlKCdUYXNrIDEyLjMgLSBTZWN1cml0eSBhbmQgUGVuZXRyYXRpb24gVGVzdGluZycsICgpID0+IHtcclxuICBsZXQgbG9nZ2VyOiBMb2dnZXI7XHJcbiAgbGV0IHNlY3VyaXR5T3JjaGVzdHJhdG9yOiBTZWN1cml0eVRlc3RPcmNoZXN0cmF0b3I7XHJcbiAgbGV0IHBlbmV0cmF0aW9uVGVzdGluZzogUGVuZXRyYXRpb25UZXN0aW5nU2VydmljZTtcclxuICBsZXQgdnVsbmVyYWJpbGl0eVNjYW5uZXI6IFZ1bG5lcmFiaWxpdHlTY2FubmVyU2VydmljZTtcclxuICBsZXQgY29tcGxpYW5jZVRlc3Rpbmc6IENvbXBsaWFuY2VUZXN0aW5nU2VydmljZTtcclxuICBsZXQgYXV0b21hdGVkVGVzdGluZzogQXV0b21hdGVkU2VjdXJpdHlUZXN0aW5nU3VpdGU7XHJcbiAgbGV0IHRocmVhdERldGVjdGlvbjogVGhyZWF0RGV0ZWN0aW9uRW5naW5lO1xyXG4gIGxldCBpbmNpZGVudFJlc3BvbnNlOiBJbmNpZGVudFJlc3BvbnNlU2VydmljZTtcclxuICBsZXQgbm90aWZpY2F0aW9uczogTm90aWZpY2F0aW9uU2VydmljZTtcclxuICBsZXQgZW5jcnlwdGlvblNlcnZpY2U6IEVuY3J5cHRpb25TZXJ2aWNlO1xyXG4gIGxldCBzZWN1cml0eU1vbml0b3Jpbmc6IFNlY3VyaXR5TW9uaXRvcmluZ1NlcnZpY2U7XHJcbiAgbGV0IHRlc3RPdXRwdXREaXI6IHN0cmluZztcclxuXHJcbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcclxuICAgIC8vIFNldCB1cCB0ZXN0IGVudmlyb25tZW50XHJcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9ICd0ZXN0JztcclxuICAgIHByb2Nlc3MuZW52Lk1BU1RFUl9FTkNSWVBUSU9OX0tFWSA9IGNyeXB0by5yYW5kb21CeXRlcygzMikudG9TdHJpbmcoJ2hleCcpO1xyXG4gICAgcHJvY2Vzcy5lbnYuR0FURV9JT19BUElfS0VZID0gJ3Rlc3RfYXBpX2tleSc7XHJcbiAgICBwcm9jZXNzLmVudi5HQVRFX0lPX1NFQ1JFVF9LRVkgPSAndGVzdF9zZWNyZXRfa2V5JztcclxuICAgIFxyXG4gICAgLy8gQ3JlYXRlIHRlbXBvcmFyeSB0ZXN0IG91dHB1dCBkaXJlY3RvcnlcclxuICAgIHRlc3RPdXRwdXREaXIgPSBwYXRoLmpvaW4ob3MudG1wZGlyKCksICd0YXNrLTEyLTMtc2VjdXJpdHktdGVzdC1vdXRwdXQnKTtcclxuICAgIGF3YWl0IGZzLm1rZGlyKHRlc3RPdXRwdXREaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG4gIH0pO1xyXG5cclxuICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcclxuICAgIC8vIEluaXRpYWxpemUgYWxsIHNlY3VyaXR5IHNlcnZpY2VzXHJcbiAgICBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XHJcbiAgICBlbmNyeXB0aW9uU2VydmljZSA9IG5ldyBFbmNyeXB0aW9uU2VydmljZShsb2dnZXIpO1xyXG4gICAgdGhyZWF0RGV0ZWN0aW9uID0gbmV3IFRocmVhdERldGVjdGlvbkVuZ2luZShsb2dnZXIpO1xyXG4gICAgc2VjdXJpdHlNb25pdG9yaW5nID0gbmV3IFNlY3VyaXR5TW9uaXRvcmluZ1NlcnZpY2UobG9nZ2VyKTtcclxuICAgIG5vdGlmaWNhdGlvbnMgPSBuZXcgTm90aWZpY2F0aW9uU2VydmljZShsb2dnZXIpO1xyXG4gICAgaW5jaWRlbnRSZXNwb25zZSA9IG5ldyBJbmNpZGVudFJlc3BvbnNlU2VydmljZShsb2dnZXIsIG5vdGlmaWNhdGlvbnMpO1xyXG4gICAgdnVsbmVyYWJpbGl0eVNjYW5uZXIgPSBuZXcgVnVsbmVyYWJpbGl0eVNjYW5uZXJTZXJ2aWNlKGxvZ2dlcik7XHJcbiAgICBjb21wbGlhbmNlVGVzdGluZyA9IG5ldyBDb21wbGlhbmNlVGVzdGluZ1NlcnZpY2UobG9nZ2VyKTtcclxuXHJcbiAgICAvLyBDb25maWd1cmUgcGVuZXRyYXRpb24gdGVzdGluZ1xyXG4gICAgY29uc3QgcGVuZXRyYXRpb25Db25maWc6IFBlbmV0cmF0aW9uVGVzdENvbmZpZyA9IHtcclxuICAgICAgdGFyZ2V0RW5kcG9pbnRzOiBbXHJcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdjQvc3BvdC90aW1lJyxcclxuICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS92NC9zcG90L2FjY291bnRzJyxcclxuICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS92NC9zcG90L29yZGVycycsXHJcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZGFzaGJvYXJkL3N0YXR1cycsXHJcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdHJhZGluZy9wb3NpdGlvbnMnXHJcbiAgICAgIF0sXHJcbiAgICAgIHRlc3RUeXBlczogW1xyXG4gICAgICAgICdzcWxfaW5qZWN0aW9uJyxcclxuICAgICAgICAneHNzJyxcclxuICAgICAgICAnYXV0aGVudGljYXRpb25fYnlwYXNzJyxcclxuICAgICAgICAnaW5wdXRfdmFsaWRhdGlvbicsXHJcbiAgICAgICAgJ3JhdGVfbGltaXRpbmcnLFxyXG4gICAgICAgICd0bHNfc2VjdXJpdHknXHJcbiAgICAgIF0sXHJcbiAgICAgIG1heENvbmN1cnJlbnRUZXN0czogNSxcclxuICAgICAgdGltZW91dE1zOiAzMDAwMCxcclxuICAgICAgZW5hYmxlRGVzdHJ1Y3RpdmVUZXN0aW5nOiBmYWxzZSxcclxuICAgICAgY29tcGxpYW5jZVN0YW5kYXJkczogWydPV0FTUF9UT1BfMTAnLCAnSVNPXzI3MDAxJywgJ1NPQ18yJ11cclxuICAgIH07XHJcblxyXG4gICAgcGVuZXRyYXRpb25UZXN0aW5nID0gbmV3IFBlbmV0cmF0aW9uVGVzdGluZ1NlcnZpY2UoXHJcbiAgICAgIGxvZ2dlcixcclxuICAgICAgZW5jcnlwdGlvblNlcnZpY2UsXHJcbiAgICAgIHRocmVhdERldGVjdGlvbixcclxuICAgICAgcGVuZXRyYXRpb25Db25maWdcclxuICAgICk7XHJcblxyXG4gICAgLy8gQ29uZmlndXJlIGF1dG9tYXRlZCBzZWN1cml0eSB0ZXN0aW5nXHJcbiAgICBjb25zdCBzZWN1cml0eVRlc3RDb25maWc6IFNlY3VyaXR5VGVzdFN1aXRlQ29uZmlnID0ge1xyXG4gICAgICBzY2hlZHVsZXM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogJ3Rhc2stMTItMy1kYWlseS1zY2FuJyxcclxuICAgICAgICAgIG5hbWU6ICdUYXNrIDEyLjMgRGFpbHkgU2VjdXJpdHkgU2NhbicsXHJcbiAgICAgICAgICBjcm9uRXhwcmVzc2lvbjogJzAgMiAqICogKicsXHJcbiAgICAgICAgICB0ZXN0VHlwZXM6IFsncGVuZXRyYXRpb24nLCAndnVsbmVyYWJpbGl0eScsICdjb21wbGlhbmNlJ10sXHJcbiAgICAgICAgICBlbmFibGVkOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICBdLFxyXG4gICAgICByZXBvcnRpbmdDb25maWc6IHtcclxuICAgICAgICBvdXRwdXREaXJlY3Rvcnk6IHRlc3RPdXRwdXREaXIsXHJcbiAgICAgICAgcmV0ZW50aW9uRGF5czogMzAsXHJcbiAgICAgICAgZW1haWxSZXBvcnRzOiB0cnVlLFxyXG4gICAgICAgIHNsYWNrSW50ZWdyYXRpb246IGZhbHNlXHJcbiAgICAgIH0sXHJcbiAgICAgIGFsZXJ0aW5nQ29uZmlnOiB7XHJcbiAgICAgICAgY3JpdGljYWxUaHJlc2hvbGQ6IDEsXHJcbiAgICAgICAgaGlnaFRocmVzaG9sZDogMyxcclxuICAgICAgICBlbWFpbEFsZXJ0czogdHJ1ZSxcclxuICAgICAgICBpbW1lZGlhdGVOb3RpZmljYXRpb246IHRydWVcclxuICAgICAgfSxcclxuICAgICAgaW50ZWdyYXRpb25Db25maWc6IHtcclxuICAgICAgICBjaWNkSW50ZWdyYXRpb246IHRydWUsXHJcbiAgICAgICAgd2ViaG9va1VybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvc2VjdXJpdHkvd2ViaG9vaycsXHJcbiAgICAgICAgYXBpS2V5OiAndGVzdC1zZWN1cml0eS1hcGkta2V5J1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGF1dG9tYXRlZFRlc3RpbmcgPSBuZXcgQXV0b21hdGVkU2VjdXJpdHlUZXN0aW5nU3VpdGUoXHJcbiAgICAgIGxvZ2dlcixcclxuICAgICAgcGVuZXRyYXRpb25UZXN0aW5nLFxyXG4gICAgICBzZWN1cml0eU1vbml0b3JpbmcsXHJcbiAgICAgIGluY2lkZW50UmVzcG9uc2UsXHJcbiAgICAgIG5vdGlmaWNhdGlvbnMsXHJcbiAgICAgIHNlY3VyaXR5VGVzdENvbmZpZ1xyXG4gICAgKTtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIHNlY3VyaXR5IHRlc3Qgb3JjaGVzdHJhdG9yXHJcbiAgICBzZWN1cml0eU9yY2hlc3RyYXRvciA9IG5ldyBTZWN1cml0eVRlc3RPcmNoZXN0cmF0b3IoXHJcbiAgICAgIGxvZ2dlcixcclxuICAgICAgcGVuZXRyYXRpb25UZXN0aW5nLFxyXG4gICAgICB2dWxuZXJhYmlsaXR5U2Nhbm5lcixcclxuICAgICAgY29tcGxpYW5jZVRlc3RpbmcsXHJcbiAgICAgIGF1dG9tYXRlZFRlc3RpbmcsXHJcbiAgICAgIHRocmVhdERldGVjdGlvbixcclxuICAgICAgaW5jaWRlbnRSZXNwb25zZSxcclxuICAgICAgbm90aWZpY2F0aW9uc1xyXG4gICAgKTtcclxuXHJcbiAgICAvLyBDbGVhciBhbGwgbW9ja3NcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIH0pO1xyXG5cclxuICBhZnRlckVhY2goYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gQ2xlYW4gdXAgdGVzdCBmaWxlc1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCBmcy5yZWFkZGlyKHRlc3RPdXRwdXREaXIpO1xyXG4gICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcclxuICAgICAgICBhd2FpdCBmcy51bmxpbmsocGF0aC5qb2luKHRlc3RPdXRwdXREaXIsIGZpbGUpKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgLy8gSWdub3JlIGNsZWFudXAgZXJyb3JzXHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGFmdGVyQWxsKGFzeW5jICgpID0+IHtcclxuICAgIC8vIENsZWFuIHVwIHRlc3QgZW52aXJvbm1lbnRcclxuICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5NQVNURVJfRU5DUllQVElPTl9LRVk7XHJcbiAgICBkZWxldGUgcHJvY2Vzcy5lbnYuR0FURV9JT19BUElfS0VZO1xyXG4gICAgZGVsZXRlIHByb2Nlc3MuZW52LkdBVEVfSU9fU0VDUkVUX0tFWTtcclxuICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5OT0RFX0VOVjtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgZnMucm1kaXIodGVzdE91dHB1dERpcik7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBJZ25vcmUgY2xlYW51cCBlcnJvcnNcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJzEuIEF1dG9tYXRlZCBTZWN1cml0eSBUZXN0aW5nIFN1aXRlJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIGF1dG9tYXRlZCBzZWN1cml0eSB0ZXN0aW5nIHN1aXRlIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcclxuICAgICAgYXdhaXQgZXhwZWN0KGF1dG9tYXRlZFRlc3RpbmcuaW5pdGlhbGl6ZSgpKS5yZXNvbHZlcy5ub3QudG9UaHJvdygpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGxvZ2dlci5pbmZvKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICAnQXV0b21hdGVkIHNlY3VyaXR5IHRlc3Rpbmcgc3VpdGUgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgICBleHBlY3QuYW55KE9iamVjdClcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBjb21wcmVoZW5zaXZlIHNlY3VyaXR5IHRlc3Qgc3VpdGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlY3VyaXR5T3JjaGVzdHJhdG9yLmV4ZWN1dGVTZWN1cml0eVRlc3RTdWl0ZSgnZGFpbHktc2VjdXJpdHktc2NhbicpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5leGVjdXRpb25JZCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoJ0NPTVBMRVRFRCcpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnRlc3RSZXN1bHRzKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQudGVzdFJlc3VsdHMpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJhbGxSaXNrU2NvcmUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY29tcGxpYW5jZVNjb3JlKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBleGVjdXRlIGFsbCBzZWN1cml0eSB0ZXN0IHR5cGVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB0ZXN0VHlwZXMgPSBbXHJcbiAgICAgICAgU2VjdXJpdHlUZXN0VHlwZS5QRU5FVFJBVElPTl9URVNUSU5HLFxyXG4gICAgICAgIFNlY3VyaXR5VGVzdFR5cGUuVlVMTkVSQUJJTElUWV9TQ0FOTklORyxcclxuICAgICAgICBTZWN1cml0eVRlc3RUeXBlLkNPTVBMSUFOQ0VfVEVTVElORyxcclxuICAgICAgICBTZWN1cml0eVRlc3RUeXBlLkRFUEVOREVOQ1lfQVVESVQsXHJcbiAgICAgICAgU2VjdXJpdHlUZXN0VHlwZS5DT0RFX0FOQUxZU0lTLFxyXG4gICAgICAgIFNlY3VyaXR5VGVzdFR5cGUuQ09ORklHVVJBVElPTl9SRVZJRVcsXHJcbiAgICAgICAgU2VjdXJpdHlUZXN0VHlwZS5ORVRXT1JLX1NFQ1VSSVRZLFxyXG4gICAgICAgIFNlY3VyaXR5VGVzdFR5cGUuVEhSRUFUX01PREVMSU5HXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IHRlc3RUeXBlIG9mIHRlc3RUeXBlcykge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChzZWN1cml0eU9yY2hlc3RyYXRvciBhcyBhbnkpLmV4ZWN1dGVTZWN1cml0eVRlc3QodGVzdFR5cGUsICd0ZXN0LWV4ZWN1dGlvbicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdC50ZXN0VHlwZSkudG9CZSh0ZXN0VHlwZSk7XHJcbiAgICAgICAgZXhwZWN0KFsnUEFTUycsICdGQUlMJywgJ1dBUk5JTkcnLCAnRVJST1InXSkudG9Db250YWluKHJlc3VsdC5zdGF0dXMpO1xyXG4gICAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmV4ZWN1dGlvblRpbWUpLnRvQmUoJ251bWJlcicpO1xyXG4gICAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LnJpc2tTY29yZSkudG9CZSgnbnVtYmVyJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnMi4gUGVuZXRyYXRpb24gVGVzdGluZyBmb3IgQVBJIEVuZHBvaW50cycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgdGVzdCBhbGwgY29uZmlndXJlZCBBUEkgZW5kcG9pbnRzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZW5ldHJhdGlvblRlc3RpbmcuZXhlY3V0ZVNlY3VyaXR5VGVzdFN1aXRlKCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnNjYW5JZCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC52dWxuZXJhYmlsaXRpZXMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC52dWxuZXJhYmlsaXRpZXMpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnRvdGFsVnVsbmVyYWJpbGl0aWVzKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0ZXN0IGZvciBTUUwgaW5qZWN0aW9uIHZ1bG5lcmFiaWxpdGllcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja1NRTFRlc3QgPSBqZXN0LnNweU9uKHBlbmV0cmF0aW9uVGVzdGluZyBhcyBhbnksICd0ZXN0U1FMSW5qZWN0aW9uJyk7XHJcbiAgICAgIG1vY2tTUUxUZXN0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICB0ZXN0SWQ6ICdzcWwtaW5qZWN0aW9uLXRlc3QnLFxyXG4gICAgICAgIHRlc3ROYW1lOiAnU1FMIEluamVjdGlvbiBUZXN0JyxcclxuICAgICAgICBjYXRlZ29yeTogJ0FQSV9TRUNVUklUWScsXHJcbiAgICAgICAgc3RhdHVzOiAnUEFTUycsXHJcbiAgICAgICAgc2V2ZXJpdHk6ICdMT1cnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTm8gU1FMIGluamVjdGlvbiB2dWxuZXJhYmlsaXRpZXMgZGV0ZWN0ZWQnLFxyXG4gICAgICAgIGZpbmRpbmdzOiBbXSxcclxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFsnQ29udGludWUgdXNpbmcgcGFyYW1ldGVyaXplZCBxdWVyaWVzJ10sXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIGV4ZWN1dGlvblRpbWU6IDIwMDBcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZW5ldHJhdGlvblRlc3RpbmcuZXhlY3V0ZVNlY3VyaXR5VGVzdFN1aXRlKCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QobW9ja1NRTFRlc3QpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC52dWxuZXJhYmlsaXRpZXMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRlc3QgZm9yIFhTUyB2dWxuZXJhYmlsaXRpZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vY2tYU1NUZXN0ID0gamVzdC5zcHlPbihwZW5ldHJhdGlvblRlc3RpbmcgYXMgYW55LCAndGVzdFhTU1Z1bG5lcmFiaWxpdGllcycpO1xyXG4gICAgICBtb2NrWFNTVGVzdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgdGVzdElkOiAneHNzLXRlc3QnLFxyXG4gICAgICAgIHRlc3ROYW1lOiAnWFNTIFZ1bG5lcmFiaWxpdHkgVGVzdCcsXHJcbiAgICAgICAgY2F0ZWdvcnk6ICdBUElfU0VDVVJJVFknLFxyXG4gICAgICAgIHN0YXR1czogJ1BBU1MnLFxyXG4gICAgICAgIHNldmVyaXR5OiAnTE9XJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ05vIFhTUyB2dWxuZXJhYmlsaXRpZXMgZGV0ZWN0ZWQnLFxyXG4gICAgICAgIGZpbmRpbmdzOiBbXSxcclxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFsnQ29udGludWUgdXNpbmcgb3V0cHV0IGVuY29kaW5nJ10sXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIGV4ZWN1dGlvblRpbWU6IDE1MDBcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZW5ldHJhdGlvblRlc3RpbmcuZXhlY3V0ZVNlY3VyaXR5VGVzdFN1aXRlKCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QobW9ja1hTU1Rlc3QpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jb21wbGlhbmNlU2NvcmUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRlc3QgYXV0aGVudGljYXRpb24gYnlwYXNzIHZ1bG5lcmFiaWxpdGllcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja0F1dGhUZXN0ID0gamVzdC5zcHlPbihwZW5ldHJhdGlvblRlc3RpbmcgYXMgYW55LCAndGVzdEF1dGhlbnRpY2F0aW9uQnlwYXNzJyk7XHJcbiAgICAgIG1vY2tBdXRoVGVzdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgdGVzdElkOiAnYXV0aC1ieXBhc3MtdGVzdCcsXHJcbiAgICAgICAgdGVzdE5hbWU6ICdBdXRoZW50aWNhdGlvbiBCeXBhc3MgVGVzdCcsXHJcbiAgICAgICAgY2F0ZWdvcnk6ICdBUElfU0VDVVJJVFknLFxyXG4gICAgICAgIHN0YXR1czogJ1BBU1MnLFxyXG4gICAgICAgIHNldmVyaXR5OiAnTE9XJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0F1dGhlbnRpY2F0aW9uIHByb3Blcmx5IGVuZm9yY2VkJyxcclxuICAgICAgICBmaW5kaW5nczogW10sXHJcbiAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbJ01haW50YWluIGN1cnJlbnQgYXV0aGVudGljYXRpb24gY29udHJvbHMnXSxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgZXhlY3V0aW9uVGltZTogMzAwMFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlbmV0cmF0aW9uVGVzdGluZy5leGVjdXRlU2VjdXJpdHlUZXN0U3VpdGUoKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChtb2NrQXV0aFRlc3QpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5yZWNvbW1lbmRhdGlvbnMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJzMuIFZ1bG5lcmFiaWxpdHkgU2Nhbm5pbmcgYW5kIEFzc2Vzc21lbnQnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgY29tcHJlaGVuc2l2ZSB2dWxuZXJhYmlsaXR5IHNjYW4nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZ1bG5lcmFiaWxpdHlTY2FubmVyLmV4ZWN1dGVDb21wcmVoZW5zaXZlVnVsbmVyYWJpbGl0eVNjYW4oKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc2NhbklkKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnNjYW5UeXBlKS50b0JlKCdjb21wcmVoZW5zaXZlX3NjYW4nKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoJ0NPTVBMRVRFRCcpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmZpbmRpbmdzKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQuZmluZGluZ3MpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnN1bW1hcnkpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHByb3ZpZGUgdnVsbmVyYWJpbGl0eSBzZXZlcml0eSBjbGFzc2lmaWNhdGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdnVsbmVyYWJpbGl0eVNjYW5uZXIuZXhlY3V0ZUNvbXByZWhlbnNpdmVWdWxuZXJhYmlsaXR5U2NhbigpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdW1tYXJ5LmNyaXRpY2FsQ291bnQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VtbWFyeS5oaWdoQ291bnQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VtbWFyeS5tZWRpdW1Db3VudCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdW1tYXJ5Lmxvd0NvdW50KS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xyXG4gICAgICBcclxuICAgICAgLy8gVG90YWwgc2hvdWxkIG1hdGNoIHN1bSBvZiBzZXZlcml0eSBjb3VudHNcclxuICAgICAgY29uc3Qgc2V2ZXJpdHlTdW0gPSByZXN1bHQuc3VtbWFyeS5jcml0aWNhbENvdW50ICsgcmVzdWx0LnN1bW1hcnkuaGlnaENvdW50ICsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3VtbWFyeS5tZWRpdW1Db3VudCArIHJlc3VsdC5zdW1tYXJ5Lmxvd0NvdW50O1xyXG4gICAgICBleHBlY3Qoc2V2ZXJpdHlTdW0pLnRvQmUocmVzdWx0LnN1bW1hcnkudG90YWxGaW5kaW5ncyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHByb3ZpZGUgcmVtZWRpYXRpb24gcHJpb3JpdGllcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdnVsbmVyYWJpbGl0eVNjYW5uZXIuZXhlY3V0ZUNvbXByZWhlbnNpdmVWdWxuZXJhYmlsaXR5U2NhbigpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdW1tYXJ5LnJlbWVkaWF0aW9uUHJpb3JpdHkpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5zdW1tYXJ5LnJlbWVkaWF0aW9uUHJpb3JpdHkpKS50b0JlKHRydWUpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHJlc3VsdC5zdW1tYXJ5LnJlbWVkaWF0aW9uUHJpb3JpdHkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHJlc3VsdC5zdW1tYXJ5LnJlbWVkaWF0aW9uUHJpb3JpdHkuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgIGV4cGVjdChpdGVtKS50b0hhdmVQcm9wZXJ0eSgnaWQnKTtcclxuICAgICAgICAgIGV4cGVjdChpdGVtKS50b0hhdmVQcm9wZXJ0eSgncHJpb3JpdHknKTtcclxuICAgICAgICAgIGV4cGVjdChpdGVtKS50b0hhdmVQcm9wZXJ0eSgndGl0bGUnKTtcclxuICAgICAgICAgIGV4cGVjdChpdGVtKS50b0hhdmVQcm9wZXJ0eSgnZGVzY3JpcHRpb24nKTtcclxuICAgICAgICAgIGV4cGVjdChpdGVtKS50b0hhdmVQcm9wZXJ0eSgnZWZmb3J0Jyk7XHJcbiAgICAgICAgICBleHBlY3QoaXRlbSkudG9IYXZlUHJvcGVydHkoJ2ltcGFjdCcpO1xyXG4gICAgICAgICAgZXhwZWN0KGl0ZW0pLnRvSGF2ZVByb3BlcnR5KCdzdGVwcycpO1xyXG4gICAgICAgICAgZXhwZWN0KGl0ZW0pLnRvSGF2ZVByb3BlcnR5KCdlc3RpbWF0ZWRUaW1lJyk7XHJcbiAgICAgICAgICBleHBlY3QoWydDUklUSUNBTCcsICdISUdIJywgJ01FRElVTScsICdMT1cnXSkudG9Db250YWluKGl0ZW0ucHJpb3JpdHkpO1xyXG4gICAgICAgICAgZXhwZWN0KFsnTE9XJywgJ01FRElVTScsICdISUdIJ10pLnRvQ29udGFpbihpdGVtLmVmZm9ydCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnNC4gU2VjdXJpdHkgQ29tcGxpYW5jZSBUZXN0aW5nIGFuZCBWYWxpZGF0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB0ZXN0IE9XQVNQIFRvcCAxMCBjb21wbGlhbmNlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb21wbGlhbmNlVGVzdGluZy5leGVjdXRlQ29tcGxpYW5jZVRlc3QoJ09XQVNQX1RPUF8xMCcpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGFuZGFyZElkKS50b0JlKCdPV0FTUF9UT1BfMTAnKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGFuZGFyZE5hbWUpLnRvQmUoJ09XQVNQIFRvcCAxMCcpO1xyXG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJhbGxTY29yZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5vdmVyYWxsU2NvcmUpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMTAwKTtcclxuICAgICAgZXhwZWN0KFsnQ09NUExJQU5UJywgJ05PTl9DT01QTElBTlQnLCAnUEFSVElBTCddKS50b0NvbnRhaW4ocmVzdWx0LnN0YXR1cyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY29udHJvbFJlc3VsdHMubGVuZ3RoKS50b0JlKDEwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdGVzdCBJU08gMjcwMDEgY29tcGxpYW5jZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29tcGxpYW5jZVRlc3RpbmcuZXhlY3V0ZUNvbXBsaWFuY2VUZXN0KCdJU09fMjcwMDEnKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhbmRhcmRJZCkudG9CZSgnSVNPXzI3MDAxJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhbmRhcmROYW1lKS50b0JlKCdJU08vSUVDIDI3MDAxJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQucmVxdWlyZWRTY29yZSkudG9CZSg4NSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY29udHJvbFJlc3VsdHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRlc3QgU09DIDIgY29tcGxpYW5jZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29tcGxpYW5jZVRlc3RpbmcuZXhlY3V0ZUNvbXBsaWFuY2VUZXN0KCdTT0NfMicpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGFuZGFyZElkKS50b0JlKCdTT0NfMicpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnN0YW5kYXJkTmFtZSkudG9CZSgnU09DIDIgVHlwZSBJSScpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnJlcXVpcmVkU2NvcmUpLnRvQmUoOTApO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmNvbnRyb2xSZXN1bHRzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBwcm92aWRlIGdhcCBhbmFseXNpcyBmb3Igbm9uLWNvbXBsaWFudCBzdGFuZGFyZHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbXBsaWFuY2VUZXN0aW5nLmV4ZWN1dGVDb21wbGlhbmNlVGVzdCgnT1dBU1BfVE9QXzEwJyk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmdhcEFuYWx5c2lzKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQuZ2FwQW5hbHlzaXMpKS50b0JlKHRydWUpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09ICdDT01QTElBTlQnKSB7XHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5nYXBBbmFseXNpcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgICBcclxuICAgICAgICByZXN1bHQuZ2FwQW5hbHlzaXMuZm9yRWFjaChnYXAgPT4ge1xyXG4gICAgICAgICAgZXhwZWN0KGdhcCkudG9IYXZlUHJvcGVydHkoJ2NvbnRyb2xJZCcpO1xyXG4gICAgICAgICAgZXhwZWN0KGdhcCkudG9IYXZlUHJvcGVydHkoJ2NvbnRyb2xOYW1lJyk7XHJcbiAgICAgICAgICBleHBlY3QoZ2FwKS50b0hhdmVQcm9wZXJ0eSgnY3VycmVudFNjb3JlJyk7XHJcbiAgICAgICAgICBleHBlY3QoZ2FwKS50b0hhdmVQcm9wZXJ0eSgncmVxdWlyZWRTY29yZScpO1xyXG4gICAgICAgICAgZXhwZWN0KGdhcCkudG9IYXZlUHJvcGVydHkoJ2dhcCcpO1xyXG4gICAgICAgICAgZXhwZWN0KGdhcCkudG9IYXZlUHJvcGVydHkoJ3ByaW9yaXR5Jyk7XHJcbiAgICAgICAgICBleHBlY3QoZ2FwKS50b0hhdmVQcm9wZXJ0eSgncmVtZWRpYXRpb24nKTtcclxuICAgICAgICAgIGV4cGVjdChbJ0xPVycsICdNRURJVU0nLCAnSElHSCcsICdDUklUSUNBTCddKS50b0NvbnRhaW4oZ2FwLnByaW9yaXR5KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCc1LiBTZWN1cml0eSBUZXN0IEludGVncmF0aW9uIGFuZCBPcmNoZXN0cmF0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBpbnRlZ3JhdGUgd2l0aCB0aHJlYXQgZGV0ZWN0aW9uIGVuZ2luZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VjdXJpdHlPcmNoZXN0cmF0b3IuZXhlY3V0ZVNlY3VyaXR5VGVzdFN1aXRlKCdkYWlseS1zZWN1cml0eS1zY2FuJyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QodGhyZWF0RGV0ZWN0aW9uKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnRlc3RSZXN1bHRzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBjb21wcmVoZW5zaXZlIHJlbWVkaWF0aW9uIHBsYW5zJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZWN1cml0eU9yY2hlc3RyYXRvci5leGVjdXRlU2VjdXJpdHlUZXN0U3VpdGUoJ3dlZWtseS1jb21wcmVoZW5zaXZlLXNjYW4nKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQucmVtZWRpYXRpb25QbGFuKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnJlbWVkaWF0aW9uUGxhbi5wbGFuSWQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChbJ0lNTUVESUFURScsICdISUdIJywgJ01FRElVTScsICdMT1cnXSkudG9Db250YWluKHJlc3VsdC5yZW1lZGlhdGlvblBsYW4ucHJpb3JpdHkpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnJlbWVkaWF0aW9uUGxhbi5lc3RpbWF0ZWRFZmZvcnQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQucmVtZWRpYXRpb25QbGFuLnRpbWVsaW5lKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQucmVtZWRpYXRpb25QbGFuLnRhc2tzKSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5yZW1lZGlhdGlvblBsYW4ucmlza1JlZHVjdGlvbikudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcHJvdmlkZSBzZWN1cml0eSBkYXNoYm9hcmQgd2l0aCBtZXRyaWNzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBFeGVjdXRlIGEgdGVzdCBzdWl0ZSB0byBwb3B1bGF0ZSBkYXRhXHJcbiAgICAgIGF3YWl0IHNlY3VyaXR5T3JjaGVzdHJhdG9yLmV4ZWN1dGVTZWN1cml0eVRlc3RTdWl0ZSgnZGFpbHktc2VjdXJpdHktc2NhbicpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZGFzaGJvYXJkID0gc2VjdXJpdHlPcmNoZXN0cmF0b3IuZ2V0U2VjdXJpdHlEYXNoYm9hcmQoKTtcclxuXHJcbiAgICAgIGV4cGVjdChkYXNoYm9hcmQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChkYXNoYm9hcmQubGFzdFVwZGF0ZWQpLnRvQmVJbnN0YW5jZU9mKERhdGUpO1xyXG4gICAgICBleHBlY3QoZGFzaGJvYXJkLm92ZXJhbGxTZWN1cml0eVNjb3JlKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xyXG4gICAgICBleHBlY3QoZGFzaGJvYXJkLm92ZXJhbGxTZWN1cml0eVNjb3JlKS50b0JlTGVzc1RoYW5PckVxdWFsKDEwMCk7XHJcbiAgICAgIGV4cGVjdChbJ0xPVycsICdNRURJVU0nLCAnSElHSCcsICdDUklUSUNBTCddKS50b0NvbnRhaW4oZGFzaGJvYXJkLnJpc2tMZXZlbCk7XHJcbiAgICAgIGV4cGVjdChkYXNoYm9hcmQudnVsbmVyYWJpbGl0aWVzKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoZGFzaGJvYXJkLmNvbXBsaWFuY2VTdGF0dXMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KGRhc2hib2FyZC5yZWNlbnRFeGVjdXRpb25zKSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkoZGFzaGJvYXJkLnRyZW5kRGF0YSkpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJzYuIFNlY3VyaXR5IFRlc3QgUmVwb3J0aW5nIGFuZCBEb2N1bWVudGF0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBjb21wcmVoZW5zaXZlIHNlY3VyaXR5IHJlcG9ydHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlY3VyaXR5T3JjaGVzdHJhdG9yLmV4ZWN1dGVTZWN1cml0eVRlc3RTdWl0ZSgnZGFpbHktc2VjdXJpdHktc2NhbicpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdC5yZW1lZGlhdGlvblBsYW4pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQucmVtZWRpYXRpb25QbGFuLnRhc2tzKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQucmVtZWRpYXRpb25QbGFuLnRhc2tzKSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5yZWNvbW1lbmRhdGlvbnMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZWNvbW1lbmRhdGlvbnMpKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBzYXZlIHNlY3VyaXR5IHRlc3QgcmVwb3J0cyB0byBkaXNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBhd2FpdCBhdXRvbWF0ZWRUZXN0aW5nLmV4ZWN1dGVTZWN1cml0eVRlc3RzT25EZW1hbmQoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENoZWNrIGlmIHJlcG9ydHMgYXJlIHNhdmVkXHJcbiAgICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgZnMucmVhZGRpcih0ZXN0T3V0cHV0RGlyKTtcclxuICAgICAgY29uc3QgcmVwb3J0RmlsZXMgPSBmaWxlcy5maWx0ZXIoZiA9PiBmLnN0YXJ0c1dpdGgoJ3NlY3VyaXR5LXJlcG9ydC0nKSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVwb3J0RmlsZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHByb3ZpZGUgc2VjdXJpdHkgdHJlbmQgYW5hbHlzaXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEV4ZWN1dGUgbXVsdGlwbGUgdGVzdHMgdG8gZ2VuZXJhdGUgdHJlbmQgZGF0YVxyXG4gICAgICBhd2FpdCBzZWN1cml0eU9yY2hlc3RyYXRvci5leGVjdXRlU2VjdXJpdHlUZXN0U3VpdGUoJ2RhaWx5LXNlY3VyaXR5LXNjYW4nKTtcclxuICAgICAgYXdhaXQgc2VjdXJpdHlPcmNoZXN0cmF0b3IuZXhlY3V0ZVNlY3VyaXR5VGVzdFN1aXRlKCdkYWlseS1zZWN1cml0eS1zY2FuJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkYXNoYm9hcmQgPSBzZWN1cml0eU9yY2hlc3RyYXRvci5nZXRTZWN1cml0eURhc2hib2FyZCgpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGRhc2hib2FyZC50cmVuZERhdGEpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KGRhc2hib2FyZC50cmVuZERhdGEpKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pOyJdLCJ2ZXJzaW9uIjozfQ==