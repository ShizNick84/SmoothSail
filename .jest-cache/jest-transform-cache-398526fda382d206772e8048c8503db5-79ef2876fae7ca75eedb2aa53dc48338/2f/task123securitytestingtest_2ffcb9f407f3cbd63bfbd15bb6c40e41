98e523384d26c1d102dc3cd66300d4a3
"use strict";
/**
 * =============================================================================
 * TASK 12.3 - SECURITY AND PENETRATION TESTING IMPLEMENTATION
 * =============================================================================
 *
 * Complete implementation of automated security testing suite, penetration
 * testing for API endpoints, vulnerability scanning and assessment, and
 * security compliance testing and validation as required by task 12.3.
 *
 * Features:
 * - Automated security testing suite
 * - Penetration testing for API endpoints
 * - Vulnerability scanning and assessment
 * - Security compliance testing and validation
 *
 * Requirements: 25.7 - Create security and penetration testing
 *
 * @author AI Crypto Trading System
 * @version 1.0.0
 * @license PROPRIETARY
 * =============================================================================
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
// Mock external dependencies for testing
jest.mock('../../core/logging/logger');
jest.mock('../../core/notifications/notification-service');
jest.mock('axios');
jest.mock('child_process');
const logger_1 = require("../../core/logging/logger");
const security_test_orchestrator_1 = require("../../security/security-test-orchestrator");
const penetration_testing_service_1 = require("../../security/penetration-testing-service");
const vulnerability_scanner_service_1 = require("../../security/vulnerability-scanner-service");
const compliance_testing_1 = require("../../security/compliance-testing");
const automated_security_testing_1 = require("../../security/automated-security-testing");
const threat_detection_engine_1 = require("../../security/threat-detection-engine");
const incident_response_service_1 = require("../../security/incident-response-service");
const notification_service_1 = require("../../core/notifications/notification-service");
const encryption_service_1 = require("../../security/encryption-service");
const security_monitoring_service_1 = require("../../security/security-monitoring-service");
const crypto = __importStar(require("crypto"));
const fs = __importStar(require("fs/promises"));
const path = __importStar(require("path"));
const os = __importStar(require("os"));
describe('Task 12.3 - Security and Penetration Testing', () => {
    let logger;
    let securityOrchestrator;
    let penetrationTesting;
    let vulnerabilityScanner;
    let complianceTesting;
    let automatedTesting;
    let threatDetection;
    let incidentResponse;
    let notifications;
    let encryptionService;
    let securityMonitoring;
    let testOutputDir;
    beforeAll(async () => {
        // Set up test environment
        process.env.NODE_ENV = 'test';
        process.env.MASTER_ENCRYPTION_KEY = crypto.randomBytes(32).toString('hex');
        process.env.GATE_IO_API_KEY = 'test_api_key';
        process.env.GATE_IO_SECRET_KEY = 'test_secret_key';
        // Create temporary test output directory
        testOutputDir = path.join(os.tmpdir(), 'task-12-3-security-test-output');
        await fs.mkdir(testOutputDir, { recursive: true });
    });
    beforeEach(async () => {
        // Initialize all security services
        logger = new logger_1.Logger();
        encryptionService = new encryption_service_1.EncryptionService(logger);
        threatDetection = new threat_detection_engine_1.ThreatDetectionEngine(logger);
        securityMonitoring = new security_monitoring_service_1.SecurityMonitoringService(logger);
        notifications = new notification_service_1.NotificationService(logger);
        incidentResponse = new incident_response_service_1.IncidentResponseService(logger, notifications);
        vulnerabilityScanner = new vulnerability_scanner_service_1.VulnerabilityScannerService(logger);
        complianceTesting = new compliance_testing_1.ComplianceTestingService(logger);
        // Configure penetration testing
        const penetrationConfig = {
            targetEndpoints: [
                'http://localhost:3000/api/v4/spot/time',
                'http://localhost:3000/api/v4/spot/accounts',
                'http://localhost:3000/api/v4/spot/orders',
                'http://localhost:3000/api/dashboard/status',
                'http://localhost:3000/api/trading/positions'
            ],
            testTypes: [
                'sql_injection',
                'xss',
                'authentication_bypass',
                'input_validation',
                'rate_limiting',
                'tls_security'
            ],
            maxConcurrentTests: 5,
            timeoutMs: 30000,
            enableDestructiveTesting: false,
            complianceStandards: ['OWASP_TOP_10', 'ISO_27001', 'SOC_2']
        };
        penetrationTesting = new penetration_testing_service_1.PenetrationTestingService(logger, encryptionService, threatDetection, penetrationConfig);
        // Configure automated security testing
        const securityTestConfig = {
            schedules: [
                {
                    id: 'task-12-3-daily-scan',
                    name: 'Task 12.3 Daily Security Scan',
                    cronExpression: '0 2 * * *',
                    testTypes: ['penetration', 'vulnerability', 'compliance'],
                    enabled: true
                }
            ],
            reportingConfig: {
                outputDirectory: testOutputDir,
                retentionDays: 30,
                emailReports: true,
                slackIntegration: false
            },
            alertingConfig: {
                criticalThreshold: 1,
                highThreshold: 3,
                emailAlerts: true,
                immediateNotification: true
            },
            integrationConfig: {
                cicdIntegration: true,
                webhookUrl: 'http://localhost:3000/api/security/webhook',
                apiKey: 'test-security-api-key'
            }
        };
        automatedTesting = new automated_security_testing_1.AutomatedSecurityTestingSuite(logger, penetrationTesting, securityMonitoring, incidentResponse, notifications, securityTestConfig);
        // Initialize security test orchestrator
        securityOrchestrator = new security_test_orchestrator_1.SecurityTestOrchestrator(logger, penetrationTesting, vulnerabilityScanner, complianceTesting, automatedTesting, threatDetection, incidentResponse, notifications);
        // Clear all mocks
        jest.clearAllMocks();
    });
    afterEach(async () => {
        // Clean up test files
        try {
            const files = await fs.readdir(testOutputDir);
            for (const file of files) {
                await fs.unlink(path.join(testOutputDir, file));
            }
        }
        catch (error) {
            // Ignore cleanup errors
        }
    });
    afterAll(async () => {
        // Clean up test environment
        delete process.env.MASTER_ENCRYPTION_KEY;
        delete process.env.GATE_IO_API_KEY;
        delete process.env.GATE_IO_SECRET_KEY;
        delete process.env.NODE_ENV;
        try {
            await fs.rmdir(testOutputDir);
        }
        catch (error) {
            // Ignore cleanup errors
        }
    });
    describe('1. Automated Security Testing Suite', () => {
        it('should initialize automated security testing suite successfully', async () => {
            await expect(automatedTesting.initialize()).resolves.not.toThrow();
            expect(logger.info).toHaveBeenCalledWith('Automated security testing suite initialized successfully', expect.any(Object));
        });
        it('should execute comprehensive security test suite', async () => {
            const result = await securityOrchestrator.executeSecurityTestSuite('daily-security-scan');
            expect(result).toBeDefined();
            expect(result.executionId).toBeDefined();
            expect(result.status).toBe('COMPLETED');
            expect(result.testResults).toBeDefined();
            expect(Array.isArray(result.testResults)).toBe(true);
            expect(result.overallRiskScore).toBeGreaterThanOrEqual(0);
            expect(result.complianceScore).toBeGreaterThanOrEqual(0);
        });
        it('should execute all security test types', async () => {
            const testTypes = [
                security_test_orchestrator_1.SecurityTestType.PENETRATION_TESTING,
                security_test_orchestrator_1.SecurityTestType.VULNERABILITY_SCANNING,
                security_test_orchestrator_1.SecurityTestType.COMPLIANCE_TESTING,
                security_test_orchestrator_1.SecurityTestType.DEPENDENCY_AUDIT,
                security_test_orchestrator_1.SecurityTestType.CODE_ANALYSIS,
                security_test_orchestrator_1.SecurityTestType.CONFIGURATION_REVIEW,
                security_test_orchestrator_1.SecurityTestType.NETWORK_SECURITY,
                security_test_orchestrator_1.SecurityTestType.THREAT_MODELING
            ];
            for (const testType of testTypes) {
                const result = await securityOrchestrator.executeSecurityTest(testType, 'test-execution');
                expect(result).toBeDefined();
                expect(result.testType).toBe(testType);
                expect(['PASS', 'FAIL', 'WARNING', 'ERROR']).toContain(result.status);
                expect(typeof result.executionTime).toBe('number');
                expect(typeof result.riskScore).toBe('number');
            }
        });
    });
    describe('2. Penetration Testing for API Endpoints', () => {
        it('should test all configured API endpoints', async () => {
            const result = await penetrationTesting.executeSecurityTestSuite();
            expect(result).toBeDefined();
            expect(result.scanId).toBeDefined();
            expect(result.vulnerabilities).toBeDefined();
            expect(Array.isArray(result.vulnerabilities)).toBe(true);
            expect(result.totalVulnerabilities).toBeGreaterThanOrEqual(0);
        });
        it('should test for SQL injection vulnerabilities', async () => {
            const mockSQLTest = jest.spyOn(penetrationTesting, 'testSQLInjection');
            mockSQLTest.mockResolvedValue({
                testId: 'sql-injection-test',
                testName: 'SQL Injection Test',
                category: 'API_SECURITY',
                status: 'PASS',
                severity: 'LOW',
                description: 'No SQL injection vulnerabilities detected',
                findings: [],
                recommendations: ['Continue using parameterized queries'],
                timestamp: new Date(),
                executionTime: 2000
            });
            const result = await penetrationTesting.executeSecurityTestSuite();
            expect(mockSQLTest).toHaveBeenCalled();
            expect(result.vulnerabilities).toBeDefined();
        });
        it('should test for XSS vulnerabilities', async () => {
            const mockXSSTest = jest.spyOn(penetrationTesting, 'testXSSVulnerabilities');
            mockXSSTest.mockResolvedValue({
                testId: 'xss-test',
                testName: 'XSS Vulnerability Test',
                category: 'API_SECURITY',
                status: 'PASS',
                severity: 'LOW',
                description: 'No XSS vulnerabilities detected',
                findings: [],
                recommendations: ['Continue using output encoding'],
                timestamp: new Date(),
                executionTime: 1500
            });
            const result = await penetrationTesting.executeSecurityTestSuite();
            expect(mockXSSTest).toHaveBeenCalled();
            expect(result.complianceScore).toBeGreaterThanOrEqual(0);
        });
        it('should test authentication bypass vulnerabilities', async () => {
            const mockAuthTest = jest.spyOn(penetrationTesting, 'testAuthenticationBypass');
            mockAuthTest.mockResolvedValue({
                testId: 'auth-bypass-test',
                testName: 'Authentication Bypass Test',
                category: 'API_SECURITY',
                status: 'PASS',
                severity: 'LOW',
                description: 'Authentication properly enforced',
                findings: [],
                recommendations: ['Maintain current authentication controls'],
                timestamp: new Date(),
                executionTime: 3000
            });
            const result = await penetrationTesting.executeSecurityTestSuite();
            expect(mockAuthTest).toHaveBeenCalled();
            expect(result.recommendations).toBeDefined();
        });
    });
    describe('3. Vulnerability Scanning and Assessment', () => {
        it('should execute comprehensive vulnerability scan', async () => {
            const result = await vulnerabilityScanner.executeComprehensiveVulnerabilityScan();
            expect(result).toBeDefined();
            expect(result.scanId).toBeDefined();
            expect(result.scanType).toBe('comprehensive_scan');
            expect(result.status).toBe('COMPLETED');
            expect(result.findings).toBeDefined();
            expect(Array.isArray(result.findings)).toBe(true);
            expect(result.summary).toBeDefined();
        });
        it('should provide vulnerability severity classification', async () => {
            const result = await vulnerabilityScanner.executeComprehensiveVulnerabilityScan();
            expect(result.summary.criticalCount).toBeGreaterThanOrEqual(0);
            expect(result.summary.highCount).toBeGreaterThanOrEqual(0);
            expect(result.summary.mediumCount).toBeGreaterThanOrEqual(0);
            expect(result.summary.lowCount).toBeGreaterThanOrEqual(0);
            // Total should match sum of severity counts
            const severitySum = result.summary.criticalCount + result.summary.highCount +
                result.summary.mediumCount + result.summary.lowCount;
            expect(severitySum).toBe(result.summary.totalFindings);
        });
        it('should provide remediation priorities', async () => {
            const result = await vulnerabilityScanner.executeComprehensiveVulnerabilityScan();
            expect(result.summary.remediationPriority).toBeDefined();
            expect(Array.isArray(result.summary.remediationPriority)).toBe(true);
            if (result.summary.remediationPriority.length > 0) {
                result.summary.remediationPriority.forEach(item => {
                    expect(item).toHaveProperty('id');
                    expect(item).toHaveProperty('priority');
                    expect(item).toHaveProperty('title');
                    expect(item).toHaveProperty('description');
                    expect(item).toHaveProperty('effort');
                    expect(item).toHaveProperty('impact');
                    expect(item).toHaveProperty('steps');
                    expect(item).toHaveProperty('estimatedTime');
                    expect(['CRITICAL', 'HIGH', 'MEDIUM', 'LOW']).toContain(item.priority);
                    expect(['LOW', 'MEDIUM', 'HIGH']).toContain(item.effort);
                });
            }
        });
    });
    describe('4. Security Compliance Testing and Validation', () => {
        it('should test OWASP Top 10 compliance', async () => {
            const result = await complianceTesting.executeComplianceTest('OWASP_TOP_10');
            expect(result).toBeDefined();
            expect(result.standardId).toBe('OWASP_TOP_10');
            expect(result.standardName).toBe('OWASP Top 10');
            expect(result.overallScore).toBeGreaterThanOrEqual(0);
            expect(result.overallScore).toBeLessThanOrEqual(100);
            expect(['COMPLIANT', 'NON_COMPLIANT', 'PARTIAL']).toContain(result.status);
            expect(result.controlResults.length).toBe(10);
        });
        it('should test ISO 27001 compliance', async () => {
            const result = await complianceTesting.executeComplianceTest('ISO_27001');
            expect(result.standardId).toBe('ISO_27001');
            expect(result.standardName).toBe('ISO/IEC 27001');
            expect(result.requiredScore).toBe(85);
            expect(result.controlResults.length).toBeGreaterThan(0);
        });
        it('should test SOC 2 compliance', async () => {
            const result = await complianceTesting.executeComplianceTest('SOC_2');
            expect(result.standardId).toBe('SOC_2');
            expect(result.standardName).toBe('SOC 2 Type II');
            expect(result.requiredScore).toBe(90);
            expect(result.controlResults.length).toBeGreaterThan(0);
        });
        it('should provide gap analysis for non-compliant standards', async () => {
            const result = await complianceTesting.executeComplianceTest('OWASP_TOP_10');
            expect(result.gapAnalysis).toBeDefined();
            expect(Array.isArray(result.gapAnalysis)).toBe(true);
            if (result.status !== 'COMPLIANT') {
                expect(result.gapAnalysis.length).toBeGreaterThan(0);
                result.gapAnalysis.forEach(gap => {
                    expect(gap).toHaveProperty('controlId');
                    expect(gap).toHaveProperty('controlName');
                    expect(gap).toHaveProperty('currentScore');
                    expect(gap).toHaveProperty('requiredScore');
                    expect(gap).toHaveProperty('gap');
                    expect(gap).toHaveProperty('priority');
                    expect(gap).toHaveProperty('remediation');
                    expect(['LOW', 'MEDIUM', 'HIGH', 'CRITICAL']).toContain(gap.priority);
                });
            }
        });
    });
    describe('5. Security Test Integration and Orchestration', () => {
        it('should integrate with threat detection engine', async () => {
            const result = await securityOrchestrator.executeSecurityTestSuite('daily-security-scan');
            expect(result).toBeDefined();
            expect(threatDetection).toBeDefined();
            expect(result.testResults.length).toBeGreaterThan(0);
        });
        it('should generate comprehensive remediation plans', async () => {
            const result = await securityOrchestrator.executeSecurityTestSuite('weekly-comprehensive-scan');
            expect(result.remediationPlan).toBeDefined();
            expect(result.remediationPlan.planId).toBeDefined();
            expect(['IMMEDIATE', 'HIGH', 'MEDIUM', 'LOW']).toContain(result.remediationPlan.priority);
            expect(result.remediationPlan.estimatedEffort).toBeDefined();
            expect(result.remediationPlan.timeline).toBeDefined();
            expect(Array.isArray(result.remediationPlan.tasks)).toBe(true);
            expect(result.remediationPlan.riskReduction).toBeGreaterThanOrEqual(0);
        });
        it('should provide security dashboard with metrics', async () => {
            // Execute a test suite to populate data
            await securityOrchestrator.executeSecurityTestSuite('daily-security-scan');
            const dashboard = securityOrchestrator.getSecurityDashboard();
            expect(dashboard).toBeDefined();
            expect(dashboard.lastUpdated).toBeInstanceOf(Date);
            expect(dashboard.overallSecurityScore).toBeGreaterThanOrEqual(0);
            expect(dashboard.overallSecurityScore).toBeLessThanOrEqual(100);
            expect(['LOW', 'MEDIUM', 'HIGH', 'CRITICAL']).toContain(dashboard.riskLevel);
            expect(dashboard.vulnerabilities).toBeDefined();
            expect(dashboard.complianceStatus).toBeDefined();
            expect(Array.isArray(dashboard.recentExecutions)).toBe(true);
            expect(Array.isArray(dashboard.trendData)).toBe(true);
        });
    });
    describe('6. Security Test Reporting and Documentation', () => {
        it('should generate comprehensive security reports', async () => {
            const result = await securityOrchestrator.executeSecurityTestSuite('daily-security-scan');
            expect(result.remediationPlan).toBeDefined();
            expect(result.remediationPlan.tasks).toBeDefined();
            expect(Array.isArray(result.remediationPlan.tasks)).toBe(true);
            expect(result.recommendations).toBeDefined();
            expect(Array.isArray(result.recommendations)).toBe(true);
        });
        it('should save security test reports to disk', async () => {
            await automatedTesting.executeSecurityTestsOnDemand();
            // Check if reports are saved
            const files = await fs.readdir(testOutputDir);
            const reportFiles = files.filter(f => f.startsWith('security-report-'));
            expect(reportFiles.length).toBeGreaterThan(0);
        });
        it('should provide security trend analysis', async () => {
            // Execute multiple tests to generate trend data
            await securityOrchestrator.executeSecurityTestSuite('daily-security-scan');
            await securityOrchestrator.executeSecurityTestSuite('daily-security-scan');
            const dashboard = securityOrchestrator.getSecurityDashboard();
            expect(dashboard.trendData).toBeDefined();
            expect(Array.isArray(dashboard.trendData)).toBe(true);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxOaWNrXFxEZXNrdG9wXFxTbW9vdGhTYWlsXFxzcmNcXHRlc3RzXFxzZWN1cml0eVxcdGFzay0xMi0zLXNlY3VyaXR5LXRlc3RpbmcudGVzdC50cyIsIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXFCRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkgseUNBQXlDO0FBQ3pDLElBQUksQ0FBQyxJQUFJLENBQUMsMkJBQTJCLENBQUMsQ0FBQztBQUN2QyxJQUFJLENBQUMsSUFBSSxDQUFDLCtDQUErQyxDQUFDLENBQUM7QUFDM0QsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBcEIzQixzREFBbUQ7QUFDbkQsMEZBQXVHO0FBQ3ZHLDRGQUE4RztBQUM5RyxnR0FBMkY7QUFDM0YsMEVBQTZFO0FBQzdFLDBGQUFtSDtBQUNuSCxvRkFBK0U7QUFDL0Usd0ZBQW1GO0FBQ25GLHdGQUFvRjtBQUNwRiwwRUFBc0U7QUFDdEUsNEZBQXVGO0FBQ3ZGLCtDQUFpQztBQUNqQyxnREFBa0M7QUFDbEMsMkNBQTZCO0FBQzdCLHVDQUF5QjtBQVF6QixRQUFRLENBQUMsOENBQThDLEVBQUUsR0FBRyxFQUFFO0lBQzVELElBQUksTUFBYyxDQUFDO0lBQ25CLElBQUksb0JBQThDLENBQUM7SUFDbkQsSUFBSSxrQkFBNkMsQ0FBQztJQUNsRCxJQUFJLG9CQUFpRCxDQUFDO0lBQ3RELElBQUksaUJBQTJDLENBQUM7SUFDaEQsSUFBSSxnQkFBK0MsQ0FBQztJQUNwRCxJQUFJLGVBQXNDLENBQUM7SUFDM0MsSUFBSSxnQkFBeUMsQ0FBQztJQUM5QyxJQUFJLGFBQWtDLENBQUM7SUFDdkMsSUFBSSxpQkFBb0MsQ0FBQztJQUN6QyxJQUFJLGtCQUE2QyxDQUFDO0lBQ2xELElBQUksYUFBcUIsQ0FBQztJQUUxQixTQUFTLENBQUMsS0FBSyxJQUFJLEVBQUU7UUFDbkIsMEJBQTBCO1FBQzFCLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQztRQUM5QixPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFxQixHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNFLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxHQUFHLGNBQWMsQ0FBQztRQUM3QyxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixHQUFHLGlCQUFpQixDQUFDO1FBRW5ELHlDQUF5QztRQUN6QyxhQUFhLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsZ0NBQWdDLENBQUMsQ0FBQztRQUN6RSxNQUFNLEVBQUUsQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLENBQUM7SUFFSCxVQUFVLENBQUMsS0FBSyxJQUFJLEVBQUU7UUFDcEIsbUNBQW1DO1FBQ25DLE1BQU0sR0FBRyxJQUFJLGVBQU0sRUFBRSxDQUFDO1FBQ3RCLGlCQUFpQixHQUFHLElBQUksc0NBQWlCLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbEQsZUFBZSxHQUFHLElBQUksK0NBQXFCLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcEQsa0JBQWtCLEdBQUcsSUFBSSx1REFBeUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMzRCxhQUFhLEdBQUcsSUFBSSwwQ0FBbUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNoRCxnQkFBZ0IsR0FBRyxJQUFJLG1EQUF1QixDQUFDLE1BQU0sRUFBRSxhQUFhLENBQUMsQ0FBQztRQUN0RSxvQkFBb0IsR0FBRyxJQUFJLDJEQUEyQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQy9ELGlCQUFpQixHQUFHLElBQUksNkNBQXdCLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFekQsZ0NBQWdDO1FBQ2hDLE1BQU0saUJBQWlCLEdBQTBCO1lBQy9DLGVBQWUsRUFBRTtnQkFDZix3Q0FBd0M7Z0JBQ3hDLDRDQUE0QztnQkFDNUMsMENBQTBDO2dCQUMxQyw0Q0FBNEM7Z0JBQzVDLDZDQUE2QzthQUM5QztZQUNELFNBQVMsRUFBRTtnQkFDVCxlQUFlO2dCQUNmLEtBQUs7Z0JBQ0wsdUJBQXVCO2dCQUN2QixrQkFBa0I7Z0JBQ2xCLGVBQWU7Z0JBQ2YsY0FBYzthQUNmO1lBQ0Qsa0JBQWtCLEVBQUUsQ0FBQztZQUNyQixTQUFTLEVBQUUsS0FBSztZQUNoQix3QkFBd0IsRUFBRSxLQUFLO1lBQy9CLG1CQUFtQixFQUFFLENBQUMsY0FBYyxFQUFFLFdBQVcsRUFBRSxPQUFPLENBQUM7U0FDNUQsQ0FBQztRQUVGLGtCQUFrQixHQUFHLElBQUksdURBQXlCLENBQ2hELE1BQU0sRUFDTixpQkFBaUIsRUFDakIsZUFBZSxFQUNmLGlCQUFpQixDQUNsQixDQUFDO1FBRUYsdUNBQXVDO1FBQ3ZDLE1BQU0sa0JBQWtCLEdBQTRCO1lBQ2xELFNBQVMsRUFBRTtnQkFDVDtvQkFDRSxFQUFFLEVBQUUsc0JBQXNCO29CQUMxQixJQUFJLEVBQUUsK0JBQStCO29CQUNyQyxjQUFjLEVBQUUsV0FBVztvQkFDM0IsU0FBUyxFQUFFLENBQUMsYUFBYSxFQUFFLGVBQWUsRUFBRSxZQUFZLENBQUM7b0JBQ3pELE9BQU8sRUFBRSxJQUFJO2lCQUNkO2FBQ0Y7WUFDRCxlQUFlLEVBQUU7Z0JBQ2YsZUFBZSxFQUFFLGFBQWE7Z0JBQzlCLGFBQWEsRUFBRSxFQUFFO2dCQUNqQixZQUFZLEVBQUUsSUFBSTtnQkFDbEIsZ0JBQWdCLEVBQUUsS0FBSzthQUN4QjtZQUNELGNBQWMsRUFBRTtnQkFDZCxpQkFBaUIsRUFBRSxDQUFDO2dCQUNwQixhQUFhLEVBQUUsQ0FBQztnQkFDaEIsV0FBVyxFQUFFLElBQUk7Z0JBQ2pCLHFCQUFxQixFQUFFLElBQUk7YUFDNUI7WUFDRCxpQkFBaUIsRUFBRTtnQkFDakIsZUFBZSxFQUFFLElBQUk7Z0JBQ3JCLFVBQVUsRUFBRSw0Q0FBNEM7Z0JBQ3hELE1BQU0sRUFBRSx1QkFBdUI7YUFDaEM7U0FDRixDQUFDO1FBRUYsZ0JBQWdCLEdBQUcsSUFBSSwwREFBNkIsQ0FDbEQsTUFBTSxFQUNOLGtCQUFrQixFQUNsQixrQkFBa0IsRUFDbEIsZ0JBQWdCLEVBQ2hCLGFBQWEsRUFDYixrQkFBa0IsQ0FDbkIsQ0FBQztRQUVGLHdDQUF3QztRQUN4QyxvQkFBb0IsR0FBRyxJQUFJLHFEQUF3QixDQUNqRCxNQUFNLEVBQ04sa0JBQWtCLEVBQ2xCLG9CQUFvQixFQUNwQixpQkFBaUIsRUFDakIsZ0JBQWdCLEVBQ2hCLGVBQWUsRUFDZixnQkFBZ0IsRUFDaEIsYUFBYSxDQUNkLENBQUM7UUFFRixrQkFBa0I7UUFDbEIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3ZCLENBQUMsQ0FBQyxDQUFDO0lBRUgsU0FBUyxDQUFDLEtBQUssSUFBSSxFQUFFO1FBQ25CLHNCQUFzQjtRQUN0QixJQUFJLENBQUM7WUFDSCxNQUFNLEtBQUssR0FBRyxNQUFNLEVBQUUsQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDOUMsS0FBSyxNQUFNLElBQUksSUFBSSxLQUFLLEVBQUUsQ0FBQztnQkFDekIsTUFBTSxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDbEQsQ0FBQztRQUNILENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2Ysd0JBQXdCO1FBQzFCLENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxLQUFLLElBQUksRUFBRTtRQUNsQiw0QkFBNEI7UUFDNUIsT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDO1FBQ3pDLE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUM7UUFDbkMsT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDO1FBQ3RDLE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFFNUIsSUFBSSxDQUFDO1lBQ0gsTUFBTSxFQUFFLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ2hDLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2Ysd0JBQXdCO1FBQzFCLENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxxQ0FBcUMsRUFBRSxHQUFHLEVBQUU7UUFDbkQsRUFBRSxDQUFDLGlFQUFpRSxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQy9FLE1BQU0sTUFBTSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUVuRSxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLG9CQUFvQixDQUN0QywyREFBMkQsRUFDM0QsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FDbkIsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGtEQUFrRCxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ2hFLE1BQU0sTUFBTSxHQUFHLE1BQU0sb0JBQW9CLENBQUMsd0JBQXdCLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUUxRixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDN0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUN6QyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUN4QyxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3pDLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNyRCxNQUFNLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzRCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx3Q0FBd0MsRUFBRSxLQUFLLElBQUksRUFBRTtZQUN0RCxNQUFNLFNBQVMsR0FBRztnQkFDaEIsNkNBQWdCLENBQUMsbUJBQW1CO2dCQUNwQyw2Q0FBZ0IsQ0FBQyxzQkFBc0I7Z0JBQ3ZDLDZDQUFnQixDQUFDLGtCQUFrQjtnQkFDbkMsNkNBQWdCLENBQUMsZ0JBQWdCO2dCQUNqQyw2Q0FBZ0IsQ0FBQyxhQUFhO2dCQUM5Qiw2Q0FBZ0IsQ0FBQyxvQkFBb0I7Z0JBQ3JDLDZDQUFnQixDQUFDLGdCQUFnQjtnQkFDakMsNkNBQWdCLENBQUMsZUFBZTthQUNqQyxDQUFDO1lBRUYsS0FBSyxNQUFNLFFBQVEsSUFBSSxTQUFTLEVBQUUsQ0FBQztnQkFDakMsTUFBTSxNQUFNLEdBQUcsTUFBTyxvQkFBNEIsQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztnQkFFbkcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUM3QixNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDdkMsTUFBTSxDQUFDLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUN0RSxNQUFNLENBQUMsT0FBTyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNuRCxNQUFNLENBQUMsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2pELENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLDBDQUEwQyxFQUFFLEdBQUcsRUFBRTtRQUN4RCxFQUFFLENBQUMsMENBQTBDLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDeEQsTUFBTSxNQUFNLEdBQUcsTUFBTSxrQkFBa0IsQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO1lBRW5FLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUM3QixNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDN0MsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3pELE1BQU0sQ0FBQyxNQUFNLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoRSxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQywrQ0FBK0MsRUFBRSxLQUFLLElBQUksRUFBRTtZQUM3RCxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGtCQUF5QixFQUFFLGtCQUFrQixDQUFDLENBQUM7WUFDOUUsV0FBVyxDQUFDLGlCQUFpQixDQUFDO2dCQUM1QixNQUFNLEVBQUUsb0JBQW9CO2dCQUM1QixRQUFRLEVBQUUsb0JBQW9CO2dCQUM5QixRQUFRLEVBQUUsY0FBYztnQkFDeEIsTUFBTSxFQUFFLE1BQU07Z0JBQ2QsUUFBUSxFQUFFLEtBQUs7Z0JBQ2YsV0FBVyxFQUFFLDJDQUEyQztnQkFDeEQsUUFBUSxFQUFFLEVBQUU7Z0JBQ1osZUFBZSxFQUFFLENBQUMsc0NBQXNDLENBQUM7Z0JBQ3pELFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDckIsYUFBYSxFQUFFLElBQUk7YUFDcEIsQ0FBQyxDQUFDO1lBRUgsTUFBTSxNQUFNLEdBQUcsTUFBTSxrQkFBa0IsQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO1lBRW5FLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1lBQ3ZDLE1BQU0sQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDL0MsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMscUNBQXFDLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDbkQsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxrQkFBeUIsRUFBRSx3QkFBd0IsQ0FBQyxDQUFDO1lBQ3BGLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQztnQkFDNUIsTUFBTSxFQUFFLFVBQVU7Z0JBQ2xCLFFBQVEsRUFBRSx3QkFBd0I7Z0JBQ2xDLFFBQVEsRUFBRSxjQUFjO2dCQUN4QixNQUFNLEVBQUUsTUFBTTtnQkFDZCxRQUFRLEVBQUUsS0FBSztnQkFDZixXQUFXLEVBQUUsaUNBQWlDO2dCQUM5QyxRQUFRLEVBQUUsRUFBRTtnQkFDWixlQUFlLEVBQUUsQ0FBQyxnQ0FBZ0MsQ0FBQztnQkFDbkQsU0FBUyxFQUFFLElBQUksSUFBSSxFQUFFO2dCQUNyQixhQUFhLEVBQUUsSUFBSTthQUNwQixDQUFDLENBQUM7WUFFSCxNQUFNLE1BQU0sR0FBRyxNQUFNLGtCQUFrQixDQUFDLHdCQUF3QixFQUFFLENBQUM7WUFFbkUsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLGdCQUFnQixFQUFFLENBQUM7WUFDdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzRCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxtREFBbUQsRUFBRSxLQUFLLElBQUksRUFBRTtZQUNqRSxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGtCQUF5QixFQUFFLDBCQUEwQixDQUFDLENBQUM7WUFDdkYsWUFBWSxDQUFDLGlCQUFpQixDQUFDO2dCQUM3QixNQUFNLEVBQUUsa0JBQWtCO2dCQUMxQixRQUFRLEVBQUUsNEJBQTRCO2dCQUN0QyxRQUFRLEVBQUUsY0FBYztnQkFDeEIsTUFBTSxFQUFFLE1BQU07Z0JBQ2QsUUFBUSxFQUFFLEtBQUs7Z0JBQ2YsV0FBVyxFQUFFLGtDQUFrQztnQkFDL0MsUUFBUSxFQUFFLEVBQUU7Z0JBQ1osZUFBZSxFQUFFLENBQUMsMENBQTBDLENBQUM7Z0JBQzdELFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDckIsYUFBYSxFQUFFLElBQUk7YUFDcEIsQ0FBQyxDQUFDO1lBRUgsTUFBTSxNQUFNLEdBQUcsTUFBTSxrQkFBa0IsQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO1lBRW5FLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1lBQ3hDLE1BQU0sQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDL0MsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQywwQ0FBMEMsRUFBRSxHQUFHLEVBQUU7UUFDeEQsRUFBRSxDQUFDLGlEQUFpRCxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQy9ELE1BQU0sTUFBTSxHQUFHLE1BQU0sb0JBQW9CLENBQUMscUNBQXFDLEVBQUUsQ0FBQztZQUVsRixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDN0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1lBQ25ELE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3hDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDdEMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xELE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDdkMsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsc0RBQXNELEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDcEUsTUFBTSxNQUFNLEdBQUcsTUFBTSxvQkFBb0IsQ0FBQyxxQ0FBcUMsRUFBRSxDQUFDO1lBRWxGLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQy9ELE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzNELE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdELE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTFELDRDQUE0QztZQUM1QyxNQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLFNBQVM7Z0JBQ3hELE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDO1lBQ3hFLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN6RCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx1Q0FBdUMsRUFBRSxLQUFLLElBQUksRUFBRTtZQUNyRCxNQUFNLE1BQU0sR0FBRyxNQUFNLG9CQUFvQixDQUFDLHFDQUFxQyxFQUFFLENBQUM7WUFFbEYsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUN6RCxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFckUsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDbEQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQ2hELE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ2xDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUM7b0JBQ3hDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQ3JDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDLENBQUM7b0JBQzNDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQ3RDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQ3RDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQ3JDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLENBQUM7b0JBQzdDLE1BQU0sQ0FBQyxDQUFDLFVBQVUsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDdkUsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQzNELENBQUMsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsK0NBQStDLEVBQUUsR0FBRyxFQUFFO1FBQzdELEVBQUUsQ0FBQyxxQ0FBcUMsRUFBRSxLQUFLLElBQUksRUFBRTtZQUNuRCxNQUFNLE1BQU0sR0FBRyxNQUFNLGlCQUFpQixDQUFDLHFCQUFxQixDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBRTdFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUM3QixNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUMvQyxNQUFNLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUNqRCxNQUFNLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RELE1BQU0sQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDckQsTUFBTSxDQUFDLENBQUMsV0FBVyxFQUFFLGVBQWUsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDM0UsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2hELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGtDQUFrQyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ2hELE1BQU0sTUFBTSxHQUFHLE1BQU0saUJBQWlCLENBQUMscUJBQXFCLENBQUMsV0FBVyxDQUFDLENBQUM7WUFFMUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDNUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDbEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDdEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDhCQUE4QixFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzVDLE1BQU0sTUFBTSxHQUFHLE1BQU0saUJBQWlCLENBQUMscUJBQXFCLENBQUMsT0FBTyxDQUFDLENBQUM7WUFFdEUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDeEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDbEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDdEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHlEQUF5RCxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ3ZFLE1BQU0sTUFBTSxHQUFHLE1BQU0saUJBQWlCLENBQUMscUJBQXFCLENBQUMsY0FBYyxDQUFDLENBQUM7WUFFN0UsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUN6QyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFckQsSUFBSSxNQUFNLENBQUMsTUFBTSxLQUFLLFdBQVcsRUFBRSxDQUFDO2dCQUNsQyxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBRXJELE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO29CQUMvQixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDO29CQUN4QyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxDQUFDO29CQUMxQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDO29CQUMzQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQyxDQUFDO29CQUM1QyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUNsQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO29CQUN2QyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxDQUFDO29CQUMxQyxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3hFLENBQUMsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsZ0RBQWdELEVBQUUsR0FBRyxFQUFFO1FBQzlELEVBQUUsQ0FBQywrQ0FBK0MsRUFBRSxLQUFLLElBQUksRUFBRTtZQUM3RCxNQUFNLE1BQU0sR0FBRyxNQUFNLG9CQUFvQixDQUFDLHdCQUF3QixDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFFMUYsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzdCLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUN0QyxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkQsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsaURBQWlELEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDL0QsTUFBTSxNQUFNLEdBQUcsTUFBTSxvQkFBb0IsQ0FBQyx3QkFBd0IsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1lBRWhHLE1BQU0sQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDN0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDcEQsTUFBTSxDQUFDLENBQUMsV0FBVyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMxRixNQUFNLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxlQUFlLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUM3RCxNQUFNLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUN0RCxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQy9ELE1BQU0sQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLGFBQWEsQ0FBQyxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pFLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGdEQUFnRCxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzlELHdDQUF3QztZQUN4QyxNQUFNLG9CQUFvQixDQUFDLHdCQUF3QixDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFFM0UsTUFBTSxTQUFTLEdBQUcsb0JBQW9CLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztZQUU5RCxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDaEMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbkQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pFLE1BQU0sQ0FBQyxTQUFTLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNoRSxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDN0UsTUFBTSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNoRCxNQUFNLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDakQsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDN0QsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsOENBQThDLEVBQUUsR0FBRyxFQUFFO1FBQzVELEVBQUUsQ0FBQyxnREFBZ0QsRUFBRSxLQUFLLElBQUksRUFBRTtZQUM5RCxNQUFNLE1BQU0sR0FBRyxNQUFNLG9CQUFvQixDQUFDLHdCQUF3QixDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFFMUYsTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUM3QyxNQUFNLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNuRCxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQy9ELE1BQU0sQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDN0MsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzNELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDJDQUEyQyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ3pELE1BQU0sZ0JBQWdCLENBQUMsNEJBQTRCLEVBQUUsQ0FBQztZQUV0RCw2QkFBNkI7WUFDN0IsTUFBTSxLQUFLLEdBQUcsTUFBTSxFQUFFLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzlDLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQztZQUV4RSxNQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoRCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx3Q0FBd0MsRUFBRSxLQUFLLElBQUksRUFBRTtZQUN0RCxnREFBZ0Q7WUFDaEQsTUFBTSxvQkFBb0IsQ0FBQyx3QkFBd0IsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1lBQzNFLE1BQU0sb0JBQW9CLENBQUMsd0JBQXdCLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUUzRSxNQUFNLFNBQVMsR0FBRyxvQkFBb0IsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1lBRTlELE1BQU0sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDMUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXE5pY2tcXERlc2t0b3BcXFNtb290aFNhaWxcXHNyY1xcdGVzdHNcXHNlY3VyaXR5XFx0YXNrLTEyLTMtc2VjdXJpdHktdGVzdGluZy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBUQVNLIDEyLjMgLSBTRUNVUklUWSBBTkQgUEVORVRSQVRJT04gVEVTVElORyBJTVBMRU1FTlRBVElPTlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBcclxuICogQ29tcGxldGUgaW1wbGVtZW50YXRpb24gb2YgYXV0b21hdGVkIHNlY3VyaXR5IHRlc3Rpbmcgc3VpdGUsIHBlbmV0cmF0aW9uXHJcbiAqIHRlc3RpbmcgZm9yIEFQSSBlbmRwb2ludHMsIHZ1bG5lcmFiaWxpdHkgc2Nhbm5pbmcgYW5kIGFzc2Vzc21lbnQsIGFuZFxyXG4gKiBzZWN1cml0eSBjb21wbGlhbmNlIHRlc3RpbmcgYW5kIHZhbGlkYXRpb24gYXMgcmVxdWlyZWQgYnkgdGFzayAxMi4zLlxyXG4gKiBcclxuICogRmVhdHVyZXM6XHJcbiAqIC0gQXV0b21hdGVkIHNlY3VyaXR5IHRlc3Rpbmcgc3VpdGVcclxuICogLSBQZW5ldHJhdGlvbiB0ZXN0aW5nIGZvciBBUEkgZW5kcG9pbnRzICBcclxuICogLSBWdWxuZXJhYmlsaXR5IHNjYW5uaW5nIGFuZCBhc3Nlc3NtZW50XHJcbiAqIC0gU2VjdXJpdHkgY29tcGxpYW5jZSB0ZXN0aW5nIGFuZCB2YWxpZGF0aW9uXHJcbiAqIFxyXG4gKiBSZXF1aXJlbWVudHM6IDI1LjcgLSBDcmVhdGUgc2VjdXJpdHkgYW5kIHBlbmV0cmF0aW9uIHRlc3RpbmdcclxuICogXHJcbiAqIEBhdXRob3IgQUkgQ3J5cHRvIFRyYWRpbmcgU3lzdGVtXHJcbiAqIEB2ZXJzaW9uIDEuMC4wXHJcbiAqIEBsaWNlbnNlIFBST1BSSUVUQVJZXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi4vLi4vY29yZS9sb2dnaW5nL2xvZ2dlcic7XHJcbmltcG9ydCB7IFNlY3VyaXR5VGVzdE9yY2hlc3RyYXRvciwgU2VjdXJpdHlUZXN0VHlwZSB9IGZyb20gJy4uLy4uL3NlY3VyaXR5L3NlY3VyaXR5LXRlc3Qtb3JjaGVzdHJhdG9yJztcclxuaW1wb3J0IHsgUGVuZXRyYXRpb25UZXN0aW5nU2VydmljZSwgUGVuZXRyYXRpb25UZXN0Q29uZmlnIH0gZnJvbSAnLi4vLi4vc2VjdXJpdHkvcGVuZXRyYXRpb24tdGVzdGluZy1zZXJ2aWNlJztcclxuaW1wb3J0IHsgVnVsbmVyYWJpbGl0eVNjYW5uZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VjdXJpdHkvdnVsbmVyYWJpbGl0eS1zY2FubmVyLXNlcnZpY2UnO1xyXG5pbXBvcnQgeyBDb21wbGlhbmNlVGVzdGluZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZWN1cml0eS9jb21wbGlhbmNlLXRlc3RpbmcnO1xyXG5pbXBvcnQgeyBBdXRvbWF0ZWRTZWN1cml0eVRlc3RpbmdTdWl0ZSwgU2VjdXJpdHlUZXN0U3VpdGVDb25maWcgfSBmcm9tICcuLi8uLi9zZWN1cml0eS9hdXRvbWF0ZWQtc2VjdXJpdHktdGVzdGluZyc7XHJcbmltcG9ydCB7IFRocmVhdERldGVjdGlvbkVuZ2luZSB9IGZyb20gJy4uLy4uL3NlY3VyaXR5L3RocmVhdC1kZXRlY3Rpb24tZW5naW5lJztcclxuaW1wb3J0IHsgSW5jaWRlbnRSZXNwb25zZVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZWN1cml0eS9pbmNpZGVudC1yZXNwb25zZS1zZXJ2aWNlJztcclxuaW1wb3J0IHsgTm90aWZpY2F0aW9uU2VydmljZSB9IGZyb20gJy4uLy4uL2NvcmUvbm90aWZpY2F0aW9ucy9ub3RpZmljYXRpb24tc2VydmljZSc7XHJcbmltcG9ydCB7IEVuY3J5cHRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VjdXJpdHkvZW5jcnlwdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IHsgU2VjdXJpdHlNb25pdG9yaW5nU2VydmljZSB9IGZyb20gJy4uLy4uL3NlY3VyaXR5L3NlY3VyaXR5LW1vbml0b3Jpbmctc2VydmljZSc7XHJcbmltcG9ydCAqIGFzIGNyeXB0byBmcm9tICdjcnlwdG8nO1xyXG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcy9wcm9taXNlcyc7XHJcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCAqIGFzIG9zIGZyb20gJ29zJztcclxuXHJcbi8vIE1vY2sgZXh0ZXJuYWwgZGVwZW5kZW5jaWVzIGZvciB0ZXN0aW5nXHJcbmplc3QubW9jaygnLi4vLi4vY29yZS9sb2dnaW5nL2xvZ2dlcicpO1xyXG5qZXN0Lm1vY2soJy4uLy4uL2NvcmUvbm90aWZpY2F0aW9ucy9ub3RpZmljYXRpb24tc2VydmljZScpO1xyXG5qZXN0Lm1vY2soJ2F4aW9zJyk7XHJcbmplc3QubW9jaygnY2hpbGRfcHJvY2VzcycpO1xyXG5cclxuZGVzY3JpYmUoJ1Rhc2sgMTIuMyAtIFNlY3VyaXR5IGFuZCBQZW5ldHJhdGlvbiBUZXN0aW5nJywgKCkgPT4ge1xyXG4gIGxldCBsb2dnZXI6IExvZ2dlcjtcclxuICBsZXQgc2VjdXJpdHlPcmNoZXN0cmF0b3I6IFNlY3VyaXR5VGVzdE9yY2hlc3RyYXRvcjtcclxuICBsZXQgcGVuZXRyYXRpb25UZXN0aW5nOiBQZW5ldHJhdGlvblRlc3RpbmdTZXJ2aWNlO1xyXG4gIGxldCB2dWxuZXJhYmlsaXR5U2Nhbm5lcjogVnVsbmVyYWJpbGl0eVNjYW5uZXJTZXJ2aWNlO1xyXG4gIGxldCBjb21wbGlhbmNlVGVzdGluZzogQ29tcGxpYW5jZVRlc3RpbmdTZXJ2aWNlO1xyXG4gIGxldCBhdXRvbWF0ZWRUZXN0aW5nOiBBdXRvbWF0ZWRTZWN1cml0eVRlc3RpbmdTdWl0ZTtcclxuICBsZXQgdGhyZWF0RGV0ZWN0aW9uOiBUaHJlYXREZXRlY3Rpb25FbmdpbmU7XHJcbiAgbGV0IGluY2lkZW50UmVzcG9uc2U6IEluY2lkZW50UmVzcG9uc2VTZXJ2aWNlO1xyXG4gIGxldCBub3RpZmljYXRpb25zOiBOb3RpZmljYXRpb25TZXJ2aWNlO1xyXG4gIGxldCBlbmNyeXB0aW9uU2VydmljZTogRW5jcnlwdGlvblNlcnZpY2U7XHJcbiAgbGV0IHNlY3VyaXR5TW9uaXRvcmluZzogU2VjdXJpdHlNb25pdG9yaW5nU2VydmljZTtcclxuICBsZXQgdGVzdE91dHB1dERpcjogc3RyaW5nO1xyXG5cclxuICBiZWZvcmVBbGwoYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gU2V0IHVwIHRlc3QgZW52aXJvbm1lbnRcclxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID0gJ3Rlc3QnO1xyXG4gICAgcHJvY2Vzcy5lbnYuTUFTVEVSX0VOQ1JZUFRJT05fS0VZID0gY3J5cHRvLnJhbmRvbUJ5dGVzKDMyKS50b1N0cmluZygnaGV4Jyk7XHJcbiAgICBwcm9jZXNzLmVudi5HQVRFX0lPX0FQSV9LRVkgPSAndGVzdF9hcGlfa2V5JztcclxuICAgIHByb2Nlc3MuZW52LkdBVEVfSU9fU0VDUkVUX0tFWSA9ICd0ZXN0X3NlY3JldF9rZXknO1xyXG4gICAgXHJcbiAgICAvLyBDcmVhdGUgdGVtcG9yYXJ5IHRlc3Qgb3V0cHV0IGRpcmVjdG9yeVxyXG4gICAgdGVzdE91dHB1dERpciA9IHBhdGguam9pbihvcy50bXBkaXIoKSwgJ3Rhc2stMTItMy1zZWN1cml0eS10ZXN0LW91dHB1dCcpO1xyXG4gICAgYXdhaXQgZnMubWtkaXIodGVzdE91dHB1dERpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gSW5pdGlhbGl6ZSBhbGwgc2VjdXJpdHkgc2VydmljZXNcclxuICAgIGxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcclxuICAgIGVuY3J5cHRpb25TZXJ2aWNlID0gbmV3IEVuY3J5cHRpb25TZXJ2aWNlKGxvZ2dlcik7XHJcbiAgICB0aHJlYXREZXRlY3Rpb24gPSBuZXcgVGhyZWF0RGV0ZWN0aW9uRW5naW5lKGxvZ2dlcik7XHJcbiAgICBzZWN1cml0eU1vbml0b3JpbmcgPSBuZXcgU2VjdXJpdHlNb25pdG9yaW5nU2VydmljZShsb2dnZXIpO1xyXG4gICAgbm90aWZpY2F0aW9ucyA9IG5ldyBOb3RpZmljYXRpb25TZXJ2aWNlKGxvZ2dlcik7XHJcbiAgICBpbmNpZGVudFJlc3BvbnNlID0gbmV3IEluY2lkZW50UmVzcG9uc2VTZXJ2aWNlKGxvZ2dlciwgbm90aWZpY2F0aW9ucyk7XHJcbiAgICB2dWxuZXJhYmlsaXR5U2Nhbm5lciA9IG5ldyBWdWxuZXJhYmlsaXR5U2Nhbm5lclNlcnZpY2UobG9nZ2VyKTtcclxuICAgIGNvbXBsaWFuY2VUZXN0aW5nID0gbmV3IENvbXBsaWFuY2VUZXN0aW5nU2VydmljZShsb2dnZXIpO1xyXG5cclxuICAgIC8vIENvbmZpZ3VyZSBwZW5ldHJhdGlvbiB0ZXN0aW5nXHJcbiAgICBjb25zdCBwZW5ldHJhdGlvbkNvbmZpZzogUGVuZXRyYXRpb25UZXN0Q29uZmlnID0ge1xyXG4gICAgICB0YXJnZXRFbmRwb2ludHM6IFtcclxuICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS92NC9zcG90L3RpbWUnLFxyXG4gICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3Y0L3Nwb3QvYWNjb3VudHMnLFxyXG4gICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3Y0L3Nwb3Qvb3JkZXJzJyxcclxuICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9kYXNoYm9hcmQvc3RhdHVzJyxcclxuICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS90cmFkaW5nL3Bvc2l0aW9ucydcclxuICAgICAgXSxcclxuICAgICAgdGVzdFR5cGVzOiBbXHJcbiAgICAgICAgJ3NxbF9pbmplY3Rpb24nLFxyXG4gICAgICAgICd4c3MnLFxyXG4gICAgICAgICdhdXRoZW50aWNhdGlvbl9ieXBhc3MnLFxyXG4gICAgICAgICdpbnB1dF92YWxpZGF0aW9uJyxcclxuICAgICAgICAncmF0ZV9saW1pdGluZycsXHJcbiAgICAgICAgJ3Rsc19zZWN1cml0eSdcclxuICAgICAgXSxcclxuICAgICAgbWF4Q29uY3VycmVudFRlc3RzOiA1LFxyXG4gICAgICB0aW1lb3V0TXM6IDMwMDAwLFxyXG4gICAgICBlbmFibGVEZXN0cnVjdGl2ZVRlc3Rpbmc6IGZhbHNlLFxyXG4gICAgICBjb21wbGlhbmNlU3RhbmRhcmRzOiBbJ09XQVNQX1RPUF8xMCcsICdJU09fMjcwMDEnLCAnU09DXzInXVxyXG4gICAgfTtcclxuXHJcbiAgICBwZW5ldHJhdGlvblRlc3RpbmcgPSBuZXcgUGVuZXRyYXRpb25UZXN0aW5nU2VydmljZShcclxuICAgICAgbG9nZ2VyLFxyXG4gICAgICBlbmNyeXB0aW9uU2VydmljZSxcclxuICAgICAgdGhyZWF0RGV0ZWN0aW9uLFxyXG4gICAgICBwZW5ldHJhdGlvbkNvbmZpZ1xyXG4gICAgKTtcclxuXHJcbiAgICAvLyBDb25maWd1cmUgYXV0b21hdGVkIHNlY3VyaXR5IHRlc3RpbmdcclxuICAgIGNvbnN0IHNlY3VyaXR5VGVzdENvbmZpZzogU2VjdXJpdHlUZXN0U3VpdGVDb25maWcgPSB7XHJcbiAgICAgIHNjaGVkdWxlczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiAndGFzay0xMi0zLWRhaWx5LXNjYW4nLFxyXG4gICAgICAgICAgbmFtZTogJ1Rhc2sgMTIuMyBEYWlseSBTZWN1cml0eSBTY2FuJyxcclxuICAgICAgICAgIGNyb25FeHByZXNzaW9uOiAnMCAyICogKiAqJyxcclxuICAgICAgICAgIHRlc3RUeXBlczogWydwZW5ldHJhdGlvbicsICd2dWxuZXJhYmlsaXR5JywgJ2NvbXBsaWFuY2UnXSxcclxuICAgICAgICAgIGVuYWJsZWQ6IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIF0sXHJcbiAgICAgIHJlcG9ydGluZ0NvbmZpZzoge1xyXG4gICAgICAgIG91dHB1dERpcmVjdG9yeTogdGVzdE91dHB1dERpcixcclxuICAgICAgICByZXRlbnRpb25EYXlzOiAzMCxcclxuICAgICAgICBlbWFpbFJlcG9ydHM6IHRydWUsXHJcbiAgICAgICAgc2xhY2tJbnRlZ3JhdGlvbjogZmFsc2VcclxuICAgICAgfSxcclxuICAgICAgYWxlcnRpbmdDb25maWc6IHtcclxuICAgICAgICBjcml0aWNhbFRocmVzaG9sZDogMSxcclxuICAgICAgICBoaWdoVGhyZXNob2xkOiAzLFxyXG4gICAgICAgIGVtYWlsQWxlcnRzOiB0cnVlLFxyXG4gICAgICAgIGltbWVkaWF0ZU5vdGlmaWNhdGlvbjogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICBpbnRlZ3JhdGlvbkNvbmZpZzoge1xyXG4gICAgICAgIGNpY2RJbnRlZ3JhdGlvbjogdHJ1ZSxcclxuICAgICAgICB3ZWJob29rVXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9zZWN1cml0eS93ZWJob29rJyxcclxuICAgICAgICBhcGlLZXk6ICd0ZXN0LXNlY3VyaXR5LWFwaS1rZXknXHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgYXV0b21hdGVkVGVzdGluZyA9IG5ldyBBdXRvbWF0ZWRTZWN1cml0eVRlc3RpbmdTdWl0ZShcclxuICAgICAgbG9nZ2VyLFxyXG4gICAgICBwZW5ldHJhdGlvblRlc3RpbmcsXHJcbiAgICAgIHNlY3VyaXR5TW9uaXRvcmluZyxcclxuICAgICAgaW5jaWRlbnRSZXNwb25zZSxcclxuICAgICAgbm90aWZpY2F0aW9ucyxcclxuICAgICAgc2VjdXJpdHlUZXN0Q29uZmlnXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgc2VjdXJpdHkgdGVzdCBvcmNoZXN0cmF0b3JcclxuICAgIHNlY3VyaXR5T3JjaGVzdHJhdG9yID0gbmV3IFNlY3VyaXR5VGVzdE9yY2hlc3RyYXRvcihcclxuICAgICAgbG9nZ2VyLFxyXG4gICAgICBwZW5ldHJhdGlvblRlc3RpbmcsXHJcbiAgICAgIHZ1bG5lcmFiaWxpdHlTY2FubmVyLFxyXG4gICAgICBjb21wbGlhbmNlVGVzdGluZyxcclxuICAgICAgYXV0b21hdGVkVGVzdGluZyxcclxuICAgICAgdGhyZWF0RGV0ZWN0aW9uLFxyXG4gICAgICBpbmNpZGVudFJlc3BvbnNlLFxyXG4gICAgICBub3RpZmljYXRpb25zXHJcbiAgICApO1xyXG5cclxuICAgIC8vIENsZWFyIGFsbCBtb2Nrc1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgfSk7XHJcblxyXG4gIGFmdGVyRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAvLyBDbGVhbiB1cCB0ZXN0IGZpbGVzXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBmaWxlcyA9IGF3YWl0IGZzLnJlYWRkaXIodGVzdE91dHB1dERpcik7XHJcbiAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xyXG4gICAgICAgIGF3YWl0IGZzLnVubGluayhwYXRoLmpvaW4odGVzdE91dHB1dERpciwgZmlsZSkpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBJZ25vcmUgY2xlYW51cCBlcnJvcnNcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgYWZ0ZXJBbGwoYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gQ2xlYW4gdXAgdGVzdCBlbnZpcm9ubWVudFxyXG4gICAgZGVsZXRlIHByb2Nlc3MuZW52Lk1BU1RFUl9FTkNSWVBUSU9OX0tFWTtcclxuICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5HQVRFX0lPX0FQSV9LRVk7XHJcbiAgICBkZWxldGUgcHJvY2Vzcy5lbnYuR0FURV9JT19TRUNSRVRfS0VZO1xyXG4gICAgZGVsZXRlIHByb2Nlc3MuZW52Lk5PREVfRU5WO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBmcy5ybWRpcih0ZXN0T3V0cHV0RGlyKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIC8vIElnbm9yZSBjbGVhbnVwIGVycm9yc1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnMS4gQXV0b21hdGVkIFNlY3VyaXR5IFRlc3RpbmcgU3VpdGUnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgYXV0b21hdGVkIHNlY3VyaXR5IHRlc3Rpbmcgc3VpdGUgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBhd2FpdCBleHBlY3QoYXV0b21hdGVkVGVzdGluZy5pbml0aWFsaXplKCkpLnJlc29sdmVzLm5vdC50b1Rocm93KCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QobG9nZ2VyLmluZm8pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgICdBdXRvbWF0ZWQgc2VjdXJpdHkgdGVzdGluZyBzdWl0ZSBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHknLFxyXG4gICAgICAgIGV4cGVjdC5hbnkoT2JqZWN0KVxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBleGVjdXRlIGNvbXByZWhlbnNpdmUgc2VjdXJpdHkgdGVzdCBzdWl0ZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VjdXJpdHlPcmNoZXN0cmF0b3IuZXhlY3V0ZVNlY3VyaXR5VGVzdFN1aXRlKCdkYWlseS1zZWN1cml0eS1zY2FuJyk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmV4ZWN1dGlvbklkKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnN0YXR1cykudG9CZSgnQ09NUExFVEVEJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQudGVzdFJlc3VsdHMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC50ZXN0UmVzdWx0cykpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQub3ZlcmFsbFJpc2tTY29yZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jb21wbGlhbmNlU2NvcmUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgYWxsIHNlY3VyaXR5IHRlc3QgdHlwZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRlc3RUeXBlcyA9IFtcclxuICAgICAgICBTZWN1cml0eVRlc3RUeXBlLlBFTkVUUkFUSU9OX1RFU1RJTkcsXHJcbiAgICAgICAgU2VjdXJpdHlUZXN0VHlwZS5WVUxORVJBQklMSVRZX1NDQU5OSU5HLFxyXG4gICAgICAgIFNlY3VyaXR5VGVzdFR5cGUuQ09NUExJQU5DRV9URVNUSU5HLFxyXG4gICAgICAgIFNlY3VyaXR5VGVzdFR5cGUuREVQRU5ERU5DWV9BVURJVCxcclxuICAgICAgICBTZWN1cml0eVRlc3RUeXBlLkNPREVfQU5BTFlTSVMsXHJcbiAgICAgICAgU2VjdXJpdHlUZXN0VHlwZS5DT05GSUdVUkFUSU9OX1JFVklFVyxcclxuICAgICAgICBTZWN1cml0eVRlc3RUeXBlLk5FVFdPUktfU0VDVVJJVFksXHJcbiAgICAgICAgU2VjdXJpdHlUZXN0VHlwZS5USFJFQVRfTU9ERUxJTkdcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGZvciAoY29uc3QgdGVzdFR5cGUgb2YgdGVzdFR5cGVzKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKHNlY3VyaXR5T3JjaGVzdHJhdG9yIGFzIGFueSkuZXhlY3V0ZVNlY3VyaXR5VGVzdCh0ZXN0VHlwZSwgJ3Rlc3QtZXhlY3V0aW9uJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcclxuICAgICAgICBleHBlY3QocmVzdWx0LnRlc3RUeXBlKS50b0JlKHRlc3RUeXBlKTtcclxuICAgICAgICBleHBlY3QoWydQQVNTJywgJ0ZBSUwnLCAnV0FSTklORycsICdFUlJPUiddKS50b0NvbnRhaW4ocmVzdWx0LnN0YXR1cyk7XHJcbiAgICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuZXhlY3V0aW9uVGltZSkudG9CZSgnbnVtYmVyJyk7XHJcbiAgICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQucmlza1Njb3JlKS50b0JlKCdudW1iZXInKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCcyLiBQZW5ldHJhdGlvbiBUZXN0aW5nIGZvciBBUEkgRW5kcG9pbnRzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB0ZXN0IGFsbCBjb25maWd1cmVkIEFQSSBlbmRwb2ludHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlbmV0cmF0aW9uVGVzdGluZy5leGVjdXRlU2VjdXJpdHlUZXN0U3VpdGUoKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc2NhbklkKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnZ1bG5lcmFiaWxpdGllcykudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LnZ1bG5lcmFiaWxpdGllcykpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQudG90YWxWdWxuZXJhYmlsaXRpZXMpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRlc3QgZm9yIFNRTCBpbmplY3Rpb24gdnVsbmVyYWJpbGl0aWVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb2NrU1FMVGVzdCA9IGplc3Quc3B5T24ocGVuZXRyYXRpb25UZXN0aW5nIGFzIGFueSwgJ3Rlc3RTUUxJbmplY3Rpb24nKTtcclxuICAgICAgbW9ja1NRTFRlc3QubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgICAgIHRlc3RJZDogJ3NxbC1pbmplY3Rpb24tdGVzdCcsXHJcbiAgICAgICAgdGVzdE5hbWU6ICdTUUwgSW5qZWN0aW9uIFRlc3QnLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnQVBJX1NFQ1VSSVRZJyxcclxuICAgICAgICBzdGF0dXM6ICdQQVNTJyxcclxuICAgICAgICBzZXZlcml0eTogJ0xPVycsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdObyBTUUwgaW5qZWN0aW9uIHZ1bG5lcmFiaWxpdGllcyBkZXRlY3RlZCcsXHJcbiAgICAgICAgZmluZGluZ3M6IFtdLFxyXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogWydDb250aW51ZSB1c2luZyBwYXJhbWV0ZXJpemVkIHF1ZXJpZXMnXSxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgZXhlY3V0aW9uVGltZTogMjAwMFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlbmV0cmF0aW9uVGVzdGluZy5leGVjdXRlU2VjdXJpdHlUZXN0U3VpdGUoKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChtb2NrU1FMVGVzdCkudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnZ1bG5lcmFiaWxpdGllcykudG9CZURlZmluZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdGVzdCBmb3IgWFNTIHZ1bG5lcmFiaWxpdGllcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja1hTU1Rlc3QgPSBqZXN0LnNweU9uKHBlbmV0cmF0aW9uVGVzdGluZyBhcyBhbnksICd0ZXN0WFNTVnVsbmVyYWJpbGl0aWVzJyk7XHJcbiAgICAgIG1vY2tYU1NUZXN0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICB0ZXN0SWQ6ICd4c3MtdGVzdCcsXHJcbiAgICAgICAgdGVzdE5hbWU6ICdYU1MgVnVsbmVyYWJpbGl0eSBUZXN0JyxcclxuICAgICAgICBjYXRlZ29yeTogJ0FQSV9TRUNVUklUWScsXHJcbiAgICAgICAgc3RhdHVzOiAnUEFTUycsXHJcbiAgICAgICAgc2V2ZXJpdHk6ICdMT1cnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTm8gWFNTIHZ1bG5lcmFiaWxpdGllcyBkZXRlY3RlZCcsXHJcbiAgICAgICAgZmluZGluZ3M6IFtdLFxyXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogWydDb250aW51ZSB1c2luZyBvdXRwdXQgZW5jb2RpbmcnXSxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgZXhlY3V0aW9uVGltZTogMTUwMFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlbmV0cmF0aW9uVGVzdGluZy5leGVjdXRlU2VjdXJpdHlUZXN0U3VpdGUoKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChtb2NrWFNTVGVzdCkudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmNvbXBsaWFuY2VTY29yZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdGVzdCBhdXRoZW50aWNhdGlvbiBieXBhc3MgdnVsbmVyYWJpbGl0aWVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb2NrQXV0aFRlc3QgPSBqZXN0LnNweU9uKHBlbmV0cmF0aW9uVGVzdGluZyBhcyBhbnksICd0ZXN0QXV0aGVudGljYXRpb25CeXBhc3MnKTtcclxuICAgICAgbW9ja0F1dGhUZXN0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICB0ZXN0SWQ6ICdhdXRoLWJ5cGFzcy10ZXN0JyxcclxuICAgICAgICB0ZXN0TmFtZTogJ0F1dGhlbnRpY2F0aW9uIEJ5cGFzcyBUZXN0JyxcclxuICAgICAgICBjYXRlZ29yeTogJ0FQSV9TRUNVUklUWScsXHJcbiAgICAgICAgc3RhdHVzOiAnUEFTUycsXHJcbiAgICAgICAgc2V2ZXJpdHk6ICdMT1cnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQXV0aGVudGljYXRpb24gcHJvcGVybHkgZW5mb3JjZWQnLFxyXG4gICAgICAgIGZpbmRpbmdzOiBbXSxcclxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFsnTWFpbnRhaW4gY3VycmVudCBhdXRoZW50aWNhdGlvbiBjb250cm9scyddLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgICAgICBleGVjdXRpb25UaW1lOiAzMDAwXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGVuZXRyYXRpb25UZXN0aW5nLmV4ZWN1dGVTZWN1cml0eVRlc3RTdWl0ZSgpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KG1vY2tBdXRoVGVzdCkudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnJlY29tbWVuZGF0aW9ucykudG9CZURlZmluZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnMy4gVnVsbmVyYWJpbGl0eSBTY2FubmluZyBhbmQgQXNzZXNzbWVudCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBjb21wcmVoZW5zaXZlIHZ1bG5lcmFiaWxpdHkgc2NhbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdnVsbmVyYWJpbGl0eVNjYW5uZXIuZXhlY3V0ZUNvbXByZWhlbnNpdmVWdWxuZXJhYmlsaXR5U2NhbigpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zY2FuSWQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc2NhblR5cGUpLnRvQmUoJ2NvbXByZWhlbnNpdmVfc2NhbicpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnN0YXR1cykudG9CZSgnQ09NUExFVEVEJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZmluZGluZ3MpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5maW5kaW5ncykpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VtbWFyeSkudG9CZURlZmluZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcHJvdmlkZSB2dWxuZXJhYmlsaXR5IHNldmVyaXR5IGNsYXNzaWZpY2F0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB2dWxuZXJhYmlsaXR5U2Nhbm5lci5leGVjdXRlQ29tcHJlaGVuc2l2ZVZ1bG5lcmFiaWxpdHlTY2FuKCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0LnN1bW1hcnkuY3JpdGljYWxDb3VudCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdW1tYXJ5LmhpZ2hDb3VudCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdW1tYXJ5Lm1lZGl1bUNvdW50KS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnN1bW1hcnkubG93Q291bnQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBUb3RhbCBzaG91bGQgbWF0Y2ggc3VtIG9mIHNldmVyaXR5IGNvdW50c1xyXG4gICAgICBjb25zdCBzZXZlcml0eVN1bSA9IHJlc3VsdC5zdW1tYXJ5LmNyaXRpY2FsQ291bnQgKyByZXN1bHQuc3VtbWFyeS5oaWdoQ291bnQgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdW1tYXJ5Lm1lZGl1bUNvdW50ICsgcmVzdWx0LnN1bW1hcnkubG93Q291bnQ7XHJcbiAgICAgIGV4cGVjdChzZXZlcml0eVN1bSkudG9CZShyZXN1bHQuc3VtbWFyeS50b3RhbEZpbmRpbmdzKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcHJvdmlkZSByZW1lZGlhdGlvbiBwcmlvcml0aWVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB2dWxuZXJhYmlsaXR5U2Nhbm5lci5leGVjdXRlQ29tcHJlaGVuc2l2ZVZ1bG5lcmFiaWxpdHlTY2FuKCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0LnN1bW1hcnkucmVtZWRpYXRpb25Qcmlvcml0eSkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LnN1bW1hcnkucmVtZWRpYXRpb25Qcmlvcml0eSkpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAocmVzdWx0LnN1bW1hcnkucmVtZWRpYXRpb25Qcmlvcml0eS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgcmVzdWx0LnN1bW1hcnkucmVtZWRpYXRpb25Qcmlvcml0eS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgZXhwZWN0KGl0ZW0pLnRvSGF2ZVByb3BlcnR5KCdpZCcpO1xyXG4gICAgICAgICAgZXhwZWN0KGl0ZW0pLnRvSGF2ZVByb3BlcnR5KCdwcmlvcml0eScpO1xyXG4gICAgICAgICAgZXhwZWN0KGl0ZW0pLnRvSGF2ZVByb3BlcnR5KCd0aXRsZScpO1xyXG4gICAgICAgICAgZXhwZWN0KGl0ZW0pLnRvSGF2ZVByb3BlcnR5KCdkZXNjcmlwdGlvbicpO1xyXG4gICAgICAgICAgZXhwZWN0KGl0ZW0pLnRvSGF2ZVByb3BlcnR5KCdlZmZvcnQnKTtcclxuICAgICAgICAgIGV4cGVjdChpdGVtKS50b0hhdmVQcm9wZXJ0eSgnaW1wYWN0Jyk7XHJcbiAgICAgICAgICBleHBlY3QoaXRlbSkudG9IYXZlUHJvcGVydHkoJ3N0ZXBzJyk7XHJcbiAgICAgICAgICBleHBlY3QoaXRlbSkudG9IYXZlUHJvcGVydHkoJ2VzdGltYXRlZFRpbWUnKTtcclxuICAgICAgICAgIGV4cGVjdChbJ0NSSVRJQ0FMJywgJ0hJR0gnLCAnTUVESVVNJywgJ0xPVyddKS50b0NvbnRhaW4oaXRlbS5wcmlvcml0eSk7XHJcbiAgICAgICAgICBleHBlY3QoWydMT1cnLCAnTUVESVVNJywgJ0hJR0gnXSkudG9Db250YWluKGl0ZW0uZWZmb3J0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCc0LiBTZWN1cml0eSBDb21wbGlhbmNlIFRlc3RpbmcgYW5kIFZhbGlkYXRpb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHRlc3QgT1dBU1AgVG9wIDEwIGNvbXBsaWFuY2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbXBsaWFuY2VUZXN0aW5nLmV4ZWN1dGVDb21wbGlhbmNlVGVzdCgnT1dBU1BfVE9QXzEwJyk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnN0YW5kYXJkSWQpLnRvQmUoJ09XQVNQX1RPUF8xMCcpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnN0YW5kYXJkTmFtZSkudG9CZSgnT1dBU1AgVG9wIDEwJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQub3ZlcmFsbFNjb3JlKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xyXG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJhbGxTY29yZSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxMDApO1xyXG4gICAgICBleHBlY3QoWydDT01QTElBTlQnLCAnTk9OX0NPTVBMSUFOVCcsICdQQVJUSUFMJ10pLnRvQ29udGFpbihyZXN1bHQuc3RhdHVzKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jb250cm9sUmVzdWx0cy5sZW5ndGgpLnRvQmUoMTApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0ZXN0IElTTyAyNzAwMSBjb21wbGlhbmNlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb21wbGlhbmNlVGVzdGluZy5leGVjdXRlQ29tcGxpYW5jZVRlc3QoJ0lTT18yNzAwMScpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGFuZGFyZElkKS50b0JlKCdJU09fMjcwMDEnKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGFuZGFyZE5hbWUpLnRvQmUoJ0lTTy9JRUMgMjcwMDEnKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5yZXF1aXJlZFNjb3JlKS50b0JlKDg1KTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jb250cm9sUmVzdWx0cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdGVzdCBTT0MgMiBjb21wbGlhbmNlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb21wbGlhbmNlVGVzdGluZy5leGVjdXRlQ29tcGxpYW5jZVRlc3QoJ1NPQ18yJyk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LnN0YW5kYXJkSWQpLnRvQmUoJ1NPQ18yJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhbmRhcmROYW1lKS50b0JlKCdTT0MgMiBUeXBlIElJJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQucmVxdWlyZWRTY29yZSkudG9CZSg5MCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY29udHJvbFJlc3VsdHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHByb3ZpZGUgZ2FwIGFuYWx5c2lzIGZvciBub24tY29tcGxpYW50IHN0YW5kYXJkcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29tcGxpYW5jZVRlc3RpbmcuZXhlY3V0ZUNvbXBsaWFuY2VUZXN0KCdPV0FTUF9UT1BfMTAnKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZ2FwQW5hbHlzaXMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5nYXBBbmFseXNpcykpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAocmVzdWx0LnN0YXR1cyAhPT0gJ0NPTVBMSUFOVCcpIHtcclxuICAgICAgICBleHBlY3QocmVzdWx0LmdhcEFuYWx5c2lzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJlc3VsdC5nYXBBbmFseXNpcy5mb3JFYWNoKGdhcCA9PiB7XHJcbiAgICAgICAgICBleHBlY3QoZ2FwKS50b0hhdmVQcm9wZXJ0eSgnY29udHJvbElkJyk7XHJcbiAgICAgICAgICBleHBlY3QoZ2FwKS50b0hhdmVQcm9wZXJ0eSgnY29udHJvbE5hbWUnKTtcclxuICAgICAgICAgIGV4cGVjdChnYXApLnRvSGF2ZVByb3BlcnR5KCdjdXJyZW50U2NvcmUnKTtcclxuICAgICAgICAgIGV4cGVjdChnYXApLnRvSGF2ZVByb3BlcnR5KCdyZXF1aXJlZFNjb3JlJyk7XHJcbiAgICAgICAgICBleHBlY3QoZ2FwKS50b0hhdmVQcm9wZXJ0eSgnZ2FwJyk7XHJcbiAgICAgICAgICBleHBlY3QoZ2FwKS50b0hhdmVQcm9wZXJ0eSgncHJpb3JpdHknKTtcclxuICAgICAgICAgIGV4cGVjdChnYXApLnRvSGF2ZVByb3BlcnR5KCdyZW1lZGlhdGlvbicpO1xyXG4gICAgICAgICAgZXhwZWN0KFsnTE9XJywgJ01FRElVTScsICdISUdIJywgJ0NSSVRJQ0FMJ10pLnRvQ29udGFpbihnYXAucHJpb3JpdHkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJzUuIFNlY3VyaXR5IFRlc3QgSW50ZWdyYXRpb24gYW5kIE9yY2hlc3RyYXRpb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGludGVncmF0ZSB3aXRoIHRocmVhdCBkZXRlY3Rpb24gZW5naW5lJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZWN1cml0eU9yY2hlc3RyYXRvci5leGVjdXRlU2VjdXJpdHlUZXN0U3VpdGUoJ2RhaWx5LXNlY3VyaXR5LXNjYW4nKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdCh0aHJlYXREZXRlY3Rpb24pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQudGVzdFJlc3VsdHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGNvbXByZWhlbnNpdmUgcmVtZWRpYXRpb24gcGxhbnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlY3VyaXR5T3JjaGVzdHJhdG9yLmV4ZWN1dGVTZWN1cml0eVRlc3RTdWl0ZSgnd2Vla2x5LWNvbXByZWhlbnNpdmUtc2NhbicpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5yZW1lZGlhdGlvblBsYW4pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQucmVtZWRpYXRpb25QbGFuLnBsYW5JZCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KFsnSU1NRURJQVRFJywgJ0hJR0gnLCAnTUVESVVNJywgJ0xPVyddKS50b0NvbnRhaW4ocmVzdWx0LnJlbWVkaWF0aW9uUGxhbi5wcmlvcml0eSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQucmVtZWRpYXRpb25QbGFuLmVzdGltYXRlZEVmZm9ydCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5yZW1lZGlhdGlvblBsYW4udGltZWxpbmUpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZW1lZGlhdGlvblBsYW4udGFza3MpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnJlbWVkaWF0aW9uUGxhbi5yaXNrUmVkdWN0aW9uKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBwcm92aWRlIHNlY3VyaXR5IGRhc2hib2FyZCB3aXRoIG1ldHJpY3MnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEV4ZWN1dGUgYSB0ZXN0IHN1aXRlIHRvIHBvcHVsYXRlIGRhdGFcclxuICAgICAgYXdhaXQgc2VjdXJpdHlPcmNoZXN0cmF0b3IuZXhlY3V0ZVNlY3VyaXR5VGVzdFN1aXRlKCdkYWlseS1zZWN1cml0eS1zY2FuJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkYXNoYm9hcmQgPSBzZWN1cml0eU9yY2hlc3RyYXRvci5nZXRTZWN1cml0eURhc2hib2FyZCgpO1xyXG5cclxuICAgICAgZXhwZWN0KGRhc2hib2FyZCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGRhc2hib2FyZC5sYXN0VXBkYXRlZCkudG9CZUluc3RhbmNlT2YoRGF0ZSk7XHJcbiAgICAgIGV4cGVjdChkYXNoYm9hcmQub3ZlcmFsbFNlY3VyaXR5U2NvcmUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICAgIGV4cGVjdChkYXNoYm9hcmQub3ZlcmFsbFNlY3VyaXR5U2NvcmUpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMTAwKTtcclxuICAgICAgZXhwZWN0KFsnTE9XJywgJ01FRElVTScsICdISUdIJywgJ0NSSVRJQ0FMJ10pLnRvQ29udGFpbihkYXNoYm9hcmQucmlza0xldmVsKTtcclxuICAgICAgZXhwZWN0KGRhc2hib2FyZC52dWxuZXJhYmlsaXRpZXMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChkYXNoYm9hcmQuY29tcGxpYW5jZVN0YXR1cykudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkoZGFzaGJvYXJkLnJlY2VudEV4ZWN1dGlvbnMpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShkYXNoYm9hcmQudHJlbmREYXRhKSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnNi4gU2VjdXJpdHkgVGVzdCBSZXBvcnRpbmcgYW5kIERvY3VtZW50YXRpb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGNvbXByZWhlbnNpdmUgc2VjdXJpdHkgcmVwb3J0cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VjdXJpdHlPcmNoZXN0cmF0b3IuZXhlY3V0ZVNlY3VyaXR5VGVzdFN1aXRlKCdkYWlseS1zZWN1cml0eS1zY2FuJyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0LnJlbWVkaWF0aW9uUGxhbikudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5yZW1lZGlhdGlvblBsYW4udGFza3MpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZW1lZGlhdGlvblBsYW4udGFza3MpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LnJlY29tbWVuZGF0aW9ucykudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LnJlY29tbWVuZGF0aW9ucykpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHNhdmUgc2VjdXJpdHkgdGVzdCByZXBvcnRzIHRvIGRpc2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGF3YWl0IGF1dG9tYXRlZFRlc3RpbmcuZXhlY3V0ZVNlY3VyaXR5VGVzdHNPbkRlbWFuZCgpO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2hlY2sgaWYgcmVwb3J0cyBhcmUgc2F2ZWRcclxuICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCBmcy5yZWFkZGlyKHRlc3RPdXRwdXREaXIpO1xyXG4gICAgICBjb25zdCByZXBvcnRGaWxlcyA9IGZpbGVzLmZpbHRlcihmID0+IGYuc3RhcnRzV2l0aCgnc2VjdXJpdHktcmVwb3J0LScpKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXBvcnRGaWxlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcHJvdmlkZSBzZWN1cml0eSB0cmVuZCBhbmFseXNpcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gRXhlY3V0ZSBtdWx0aXBsZSB0ZXN0cyB0byBnZW5lcmF0ZSB0cmVuZCBkYXRhXHJcbiAgICAgIGF3YWl0IHNlY3VyaXR5T3JjaGVzdHJhdG9yLmV4ZWN1dGVTZWN1cml0eVRlc3RTdWl0ZSgnZGFpbHktc2VjdXJpdHktc2NhbicpO1xyXG4gICAgICBhd2FpdCBzZWN1cml0eU9yY2hlc3RyYXRvci5leGVjdXRlU2VjdXJpdHlUZXN0U3VpdGUoJ2RhaWx5LXNlY3VyaXR5LXNjYW4nKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRhc2hib2FyZCA9IHNlY3VyaXR5T3JjaGVzdHJhdG9yLmdldFNlY3VyaXR5RGFzaGJvYXJkKCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoZGFzaGJvYXJkLnRyZW5kRGF0YSkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkoZGFzaGJvYXJkLnRyZW5kRGF0YSkpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7Il0sInZlcnNpb24iOjN9