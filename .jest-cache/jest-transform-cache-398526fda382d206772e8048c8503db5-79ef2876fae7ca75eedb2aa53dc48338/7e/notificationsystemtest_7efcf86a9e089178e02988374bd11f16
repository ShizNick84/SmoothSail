c143bd0309180c40c0f10b8de733a0a4
"use strict";
/**
 * =============================================================================
 * NOTIFICATION SYSTEM TESTS
 * =============================================================================
 *
 * Comprehensive test suite for the notification system of the AI crypto
 * trading agent. Tests all notification services, routing, and integration.
 *
 * @author AI Crypto Trading System
 * @version 1.0.0
 * =============================================================================
 */
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("@jest/globals");
const notifications_1 = require("@/core/notifications");
// Mock environment variables
process.env.SMTP_HOST = 'smtp.gmail.com';
process.env.SMTP_PORT = '587';
process.env.SMTP_USER = 'test@example.com';
process.env.SMTP_PASS = 'encrypted_password';
process.env.SMTP_FROM_ADDRESS = 'trading-agent@example.com';
process.env.SMTP_SECURE = 'true';
process.env.TELEGRAM_BOT_TOKEN = 'test_bot_token';
process.env.TELEGRAM_CHAT_ID = '123456789';
process.env.TELEGRAM_AUTHORIZED_USERS = '123456789,987654321';
process.env.TELEGRAM_ADMIN_USERS = '123456789';
process.env.NOTIFICATION_EMAIL = 'notifications@example.com';
(0, globals_1.describe)('Notification System', () => {
    let notificationManager;
    (0, globals_1.beforeEach)(async () => {
        // Mock external dependencies
        globals_1.jest.clearAllMocks();
    });
    (0, globals_1.afterEach)(async () => {
        if (notificationManager) {
            await notificationManager.stop();
        }
    });
    (0, globals_1.describe)('NotificationManager', () => {
        (0, globals_1.test)('should initialize with default configuration', async () => {
            notificationManager = new notifications_1.NotificationManager();
            // Mock the initialization to avoid actual network calls
            globals_1.jest.spyOn(notificationManager, 'initializeEmailService').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeTelegramService').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeNotificationRouter').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeTradingNotifications').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'sendStartupNotification').mockResolvedValue(undefined);
            await notificationManager.initialize();
            const healthStatus = notificationManager.getHealthStatus();
            (0, globals_1.expect)(healthStatus.size).toBeGreaterThan(0);
        });
        (0, globals_1.test)('should handle trade execution notification', async () => {
            notificationManager = new notifications_1.NotificationManager();
            // Mock initialization
            globals_1.jest.spyOn(notificationManager, 'initializeEmailService').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeTelegramService').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeNotificationRouter').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeTradingNotifications').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'sendStartupNotification').mockResolvedValue(undefined);
            await notificationManager.initialize();
            const tradeData = {
                tradeId: 'test_trade_123',
                symbol: 'BTC/USDT',
                action: 'BUY',
                quantity: 0.1,
                price: 45000,
                totalValue: 4500,
                fees: 4.5,
                pnl: 150,
                balance: 10000,
                strategy: 'MA Crossover',
                confidence: 0.85,
                riskReward: 2.5,
                timestamp: new Date(),
                executionTime: 250
            };
            // Mock the trading notifications service
            const mockNotifyTradeExecution = globals_1.jest.fn().mockResolvedValue(undefined);
            notificationManager.tradingNotifications = {
                notifyTradeExecution: mockNotifyTradeExecution
            };
            await notificationManager.notifyTradeExecution(tradeData);
            (0, globals_1.expect)(mockNotifyTradeExecution).toHaveBeenCalledWith(tradeData);
        });
        (0, globals_1.test)('should handle security alerts', async () => {
            notificationManager = new notifications_1.NotificationManager();
            // Mock initialization
            globals_1.jest.spyOn(notificationManager, 'initializeEmailService').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeTelegramService').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeNotificationRouter').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeTradingNotifications').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'sendStartupNotification').mockResolvedValue(undefined);
            await notificationManager.initialize();
            const securityData = {
                threatLevel: 'HIGH',
                incidentType: 'Unauthorized Access Attempt',
                description: 'Multiple failed login attempts detected',
                affectedSystems: ['Trading Engine', 'API Gateway']
            };
            // Mock the notification router
            const mockSendSecurityAlert = globals_1.jest.fn().mockResolvedValue([]);
            notificationManager.notificationRouter = {
                sendSecurityAlert: mockSendSecurityAlert
            };
            await notificationManager.sendSecurityAlert(securityData);
            (0, globals_1.expect)(mockSendSecurityAlert).toHaveBeenCalledWith(securityData);
        });
        (0, globals_1.test)('should provide health statistics', async () => {
            notificationManager = new notifications_1.NotificationManager();
            // Mock initialization
            globals_1.jest.spyOn(notificationManager, 'initializeEmailService').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeTelegramService').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeNotificationRouter').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeTradingNotifications').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'sendStartupNotification').mockResolvedValue(undefined);
            await notificationManager.initialize();
            const statistics = notificationManager.getStatistics();
            (0, globals_1.expect)(statistics).toHaveProperty('services');
            (0, globals_1.expect)(statistics).toHaveProperty('overallHealth');
            (0, globals_1.expect)(statistics).toHaveProperty('lastHealthCheck');
            (0, globals_1.expect)(typeof statistics.overallHealth).toBe('boolean');
        });
    });
    (0, globals_1.describe)('EmailService', () => {
        (0, globals_1.test)('should validate SMTP configuration', () => {
            const emailService = new notifications_1.EmailService();
            // Test that required environment variables are checked
            (0, globals_1.expect)(process.env.SMTP_HOST).toBeDefined();
            (0, globals_1.expect)(process.env.SMTP_PORT).toBeDefined();
            (0, globals_1.expect)(process.env.SMTP_USER).toBeDefined();
            (0, globals_1.expect)(process.env.SMTP_PASS).toBeDefined();
            (0, globals_1.expect)(process.env.SMTP_FROM_ADDRESS).toBeDefined();
        });
        (0, globals_1.test)('should generate email content from templates', async () => {
            const emailService = new notifications_1.EmailService();
            // Mock the template system
            const mockGenerateEmailContent = globals_1.jest.fn().mockResolvedValue('<html>Test Email</html>');
            emailService.generateEmailContent = mockGenerateEmailContent;
            const notification = {
                id: 'test_email_123',
                type: notifications_1.EmailNotificationType.TRADE_EXECUTION,
                priority: 'high',
                to: ['test@example.com'],
                subject: 'Test Trade Notification',
                templateData: {
                    systemName: 'AI Crypto Trading Agent',
                    timestamp: new Date().toISOString(),
                    symbol: 'BTC/USDT',
                    action: 'BUY',
                    quantity: 0.1,
                    price: 45000
                },
                timestamp: new Date()
            };
            await mockGenerateEmailContent(notification);
            (0, globals_1.expect)(mockGenerateEmailContent).toHaveBeenCalledWith(notification);
        });
    });
    (0, globals_1.describe)('TelegramService', () => {
        (0, globals_1.test)('should format trading messages with emojis', () => {
            const telegramService = new notifications_1.TelegramService();
            const tradeData = {
                symbol: 'BTC/USDT',
                action: 'BUY',
                quantity: 0.1,
                price: 45000,
                pnl: 150,
                balance: 10000,
                strategy: 'MA Crossover',
                timestamp: new Date()
            };
            // Test message formatting logic
            const emoji = tradeData.action === 'BUY' ? 'ðŸŸ¢' : 'ðŸ”´';
            const actionEmoji = tradeData.action === 'BUY' ? 'ðŸ“ˆ' : 'ðŸ“‰';
            const pnlEmoji = (tradeData.pnl || 0) >= 0 ? 'ðŸ’°' : 'ðŸ“‰';
            (0, globals_1.expect)(emoji).toBe('ðŸŸ¢');
            (0, globals_1.expect)(actionEmoji).toBe('ðŸ“ˆ');
            (0, globals_1.expect)(pnlEmoji).toBe('ðŸ’°');
        });
        (0, globals_1.test)('should validate authorized users', () => {
            const telegramService = new notifications_1.TelegramService();
            // Test that authorized users are loaded from environment
            (0, globals_1.expect)(process.env.TELEGRAM_AUTHORIZED_USERS).toBeDefined();
            (0, globals_1.expect)(process.env.TELEGRAM_ADMIN_USERS).toBeDefined();
            const authorizedUsers = process.env.TELEGRAM_AUTHORIZED_USERS.split(',');
            const adminUsers = process.env.TELEGRAM_ADMIN_USERS.split(',');
            (0, globals_1.expect)(authorizedUsers.length).toBeGreaterThan(0);
            (0, globals_1.expect)(adminUsers.length).toBeGreaterThan(0);
        });
    });
    (0, globals_1.describe)('NotificationRouter', () => {
        (0, globals_1.test)('should route alerts based on priority and category', () => {
            const router = new notifications_1.NotificationRouter();
            const alert = {
                id: 'test_alert_123',
                category: notifications_1.AlertCategory.TRADING,
                priority: notifications_1.AlertPriority.HIGH,
                title: 'Test Trading Alert',
                message: 'This is a test trading alert',
                data: { symbol: 'BTC/USDT', action: 'BUY' },
                timestamp: new Date(),
                source: 'test',
                tags: ['test', 'trading']
            };
            // Test alert structure
            (0, globals_1.expect)(alert.category).toBe(notifications_1.AlertCategory.TRADING);
            (0, globals_1.expect)(alert.priority).toBe(notifications_1.AlertPriority.HIGH);
            (0, globals_1.expect)(alert.data).toHaveProperty('symbol');
            (0, globals_1.expect)(alert.data).toHaveProperty('action');
        });
        (0, globals_1.test)('should implement rate limiting', () => {
            const router = new notifications_1.NotificationRouter();
            const rateLimitRule = {
                enabled: true,
                maxPerMinute: 10,
                maxPerHour: 100,
                maxPerDay: 1000,
                windowMinutes: 60
            };
            // Test rate limit configuration
            (0, globals_1.expect)(rateLimitRule.enabled).toBe(true);
            (0, globals_1.expect)(rateLimitRule.maxPerMinute).toBe(10);
            (0, globals_1.expect)(rateLimitRule.maxPerHour).toBe(100);
            (0, globals_1.expect)(rateLimitRule.maxPerDay).toBe(1000);
        });
        (0, globals_1.test)('should handle alert deduplication', () => {
            const router = new notifications_1.NotificationRouter();
            const alert1 = {
                id: 'alert_1',
                category: notifications_1.AlertCategory.SYSTEM,
                priority: notifications_1.AlertPriority.NORMAL,
                title: 'High CPU Usage',
                message: 'CPU usage is at 85%',
                data: { cpu: 85 },
                timestamp: new Date(),
                source: 'system-monitor',
                tags: ['system', 'cpu']
            };
            const alert2 = {
                id: 'alert_2',
                category: notifications_1.AlertCategory.SYSTEM,
                priority: notifications_1.AlertPriority.NORMAL,
                title: 'High CPU Usage',
                message: 'CPU usage is at 85%',
                data: { cpu: 85 },
                timestamp: new Date(),
                source: 'system-monitor',
                tags: ['system', 'cpu']
            };
            // Test that alerts with same content should be deduplicated
            (0, globals_1.expect)(alert1.title).toBe(alert2.title);
            (0, globals_1.expect)(alert1.message).toBe(alert2.message);
            (0, globals_1.expect)(alert1.source).toBe(alert2.source);
        });
    });
    (0, globals_1.describe)('TradingNotifications', () => {
        (0, globals_1.test)('should format performance summary data', () => {
            const tradingNotifications = new notifications_1.TradingNotifications();
            const performanceData = {
                period: 'daily',
                startDate: new Date('2024-01-01'),
                endDate: new Date('2024-01-01'),
                totalTrades: 15,
                winningTrades: 10,
                losingTrades: 5,
                winRate: 66.7,
                totalPnL: 250.50,
                grossProfit: 400.75,
                grossLoss: -150.25,
                profitFactor: 2.67,
                sharpeRatio: 1.85,
                maxDrawdown: -75.25,
                maxDrawdownPercent: -2.5,
                bestTrade: 85.50,
                worstTrade: -45.25,
                averageWin: 40.08,
                averageLoss: -30.05,
                largestWinStreak: 4,
                largestLossStreak: 2,
                currentBalance: 10250.50,
                startingBalance: 10000.00,
                returnPercent: 2.51,
                tradingDays: 1,
                averageTradesPerDay: 15,
                strategies: [
                    {
                        name: 'MA Crossover',
                        trades: 8,
                        winRate: 75.0,
                        pnl: 180.25,
                        profitFactor: 3.2,
                        averageReturn: 22.53
                    },
                    {
                        name: 'RSI Momentum',
                        trades: 7,
                        winRate: 57.1,
                        pnl: 70.25,
                        profitFactor: 2.1,
                        averageReturn: 10.04
                    }
                ]
            };
            // Test performance data structure
            (0, globals_1.expect)(performanceData.totalTrades).toBe(15);
            (0, globals_1.expect)(performanceData.winRate).toBe(66.7);
            (0, globals_1.expect)(performanceData.totalPnL).toBe(250.50);
            (0, globals_1.expect)(performanceData.strategies.length).toBe(2);
            (0, globals_1.expect)(performanceData.strategies[0].name).toBe('MA Crossover');
        });
        (0, globals_1.test)('should handle system health data', () => {
            const tradingNotifications = new notifications_1.TradingNotifications();
            const healthData = {
                timestamp: new Date(),
                uptime: 86400, // 24 hours in seconds
                cpu: {
                    usage: 45.5,
                    temperature: 65.2,
                    frequency: 2800
                },
                memory: {
                    used: 8192,
                    available: 4096,
                    usagePercent: 66.7
                },
                disk: {
                    used: 128000,
                    available: 128000,
                    usagePercent: 50.0,
                    ioWait: 2.5
                },
                network: {
                    latency: 25,
                    throughput: 1000,
                    packetsLost: 0,
                    connectionStatus: 'connected'
                },
                trading: {
                    activePositions: 3,
                    dailyTrades: 12,
                    apiLatency: 150,
                    lastTradeTime: new Date()
                }
            };
            // Test system health data structure
            (0, globals_1.expect)(healthData.cpu.usage).toBe(45.5);
            (0, globals_1.expect)(healthData.memory.usagePercent).toBe(66.7);
            (0, globals_1.expect)(healthData.disk.usagePercent).toBe(50.0);
            (0, globals_1.expect)(healthData.network.connectionStatus).toBe('connected');
            (0, globals_1.expect)(healthData.trading.activePositions).toBe(3);
        });
    });
    (0, globals_1.describe)('Integration Tests', () => {
        (0, globals_1.test)('should handle complete notification flow', async () => {
            notificationManager = new notifications_1.NotificationManager({
                emailEnabled: true,
                telegramEnabled: true,
                routingEnabled: true,
                tradingNotificationsEnabled: true,
                healthCheckInterval: 1 // 1 minute for testing
            });
            // Mock all initialization methods
            globals_1.jest.spyOn(notificationManager, 'initializeEmailService').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeTelegramService').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeNotificationRouter').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeTradingNotifications').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'sendStartupNotification').mockResolvedValue(undefined);
            await notificationManager.initialize();
            // Test trade execution flow
            const tradeData = {
                tradeId: 'integration_test_123',
                symbol: 'ETH/USDT',
                action: 'SELL',
                quantity: 2.5,
                price: 2800,
                totalValue: 7000,
                fees: 7.0,
                pnl: -50,
                balance: 9950,
                strategy: 'RSI Divergence',
                confidence: 0.72,
                riskReward: 1.8,
                timestamp: new Date(),
                executionTime: 180
            };
            // Mock the trading notifications
            const mockNotifyTradeExecution = globals_1.jest.fn().mockResolvedValue(undefined);
            notificationManager.tradingNotifications = {
                notifyTradeExecution: mockNotifyTradeExecution
            };
            await notificationManager.notifyTradeExecution(tradeData);
            (0, globals_1.expect)(mockNotifyTradeExecution).toHaveBeenCalledWith(tradeData);
            // Test statistics
            const statistics = notificationManager.getStatistics();
            (0, globals_1.expect)(statistics).toHaveProperty('services');
            (0, globals_1.expect)(statistics).toHaveProperty('overallHealth');
        });
        (0, globals_1.test)('should handle error scenarios gracefully', async () => {
            notificationManager = new notifications_1.NotificationManager();
            // Mock initialization with some failures
            globals_1.jest.spyOn(notificationManager, 'initializeEmailService').mockRejectedValue(new Error('Email service failed'));
            globals_1.jest.spyOn(notificationManager, 'initializeTelegramService').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeNotificationRouter').mockResolvedValue(undefined);
            globals_1.jest.spyOn(notificationManager, 'initializeTradingNotifications').mockResolvedValue(undefined);
            // Should throw error due to email service failure
            await (0, globals_1.expect)(notificationManager.initialize()).rejects.toThrow('Email service failed');
        });
    });
});
(0, globals_1.describe)('Notification System Environment Validation', () => {
    (0, globals_1.test)('should validate required environment variables', () => {
        const requiredVars = [
            'SMTP_HOST',
            'SMTP_PORT',
            'SMTP_USER',
            'SMTP_PASS',
            'SMTP_FROM_ADDRESS',
            'TELEGRAM_BOT_TOKEN',
            'TELEGRAM_CHAT_ID',
            'NOTIFICATION_EMAIL'
        ];
        for (const varName of requiredVars) {
            (0, globals_1.expect)(process.env[varName]).toBeDefined();
        }
    });
    (0, globals_1.test)('should validate email configuration format', () => {
        (0, globals_1.expect)(process.env.SMTP_PORT).toMatch(/^\d+$/);
        (0, globals_1.expect)(process.env.SMTP_FROM_ADDRESS).toMatch(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);
        (0, globals_1.expect)(process.env.NOTIFICATION_EMAIL).toMatch(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);
    });
    (0, globals_1.test)('should validate Telegram configuration format', () => {
        (0, globals_1.expect)(process.env.TELEGRAM_CHAT_ID).toMatch(/^\d+$/);
        (0, globals_1.expect)(process.env.TELEGRAM_AUTHORIZED_USERS).toMatch(/^\d+(,\d+)*$/);
        (0, globals_1.expect)(process.env.TELEGRAM_ADMIN_USERS).toMatch(/^\d+(,\d+)*$/);
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxOaWNrXFxEZXNrdG9wXFxTbW9vdGhTYWlsXFxzcmNcXHRlc3RzXFxub3RpZmljYXRpb25zXFxub3RpZmljYXRpb24tc3lzdGVtLnRlc3QudHMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7OztHQVdHOztBQUVILDJDQUFvRjtBQUNwRix3REFjOEI7QUFFOUIsNkJBQTZCO0FBQzdCLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLGdCQUFnQixDQUFDO0FBQ3pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztBQUM5QixPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxrQkFBa0IsQ0FBQztBQUMzQyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxvQkFBb0IsQ0FBQztBQUM3QyxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixHQUFHLDJCQUEyQixDQUFDO0FBQzVELE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQztBQUNqQyxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixHQUFHLGdCQUFnQixDQUFDO0FBQ2xELE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEdBQUcsV0FBVyxDQUFDO0FBQzNDLE9BQU8sQ0FBQyxHQUFHLENBQUMseUJBQXlCLEdBQUcscUJBQXFCLENBQUM7QUFDOUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsR0FBRyxXQUFXLENBQUM7QUFDL0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsR0FBRywyQkFBMkIsQ0FBQztBQUU3RCxJQUFBLGtCQUFRLEVBQUMscUJBQXFCLEVBQUUsR0FBRyxFQUFFO0lBQ25DLElBQUksbUJBQXdDLENBQUM7SUFFN0MsSUFBQSxvQkFBVSxFQUFDLEtBQUssSUFBSSxFQUFFO1FBQ3BCLDZCQUE2QjtRQUM3QixjQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDdkIsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLG1CQUFTLEVBQUMsS0FB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QUFNLEVBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO0lBQy9FLENBQUMsQ0FBQyxDQUFDO0lBRUgsSUFBQSxjQUFJLEVBQUMsK0NBQStDLEVBQUUsR0FBRyxFQUFFO1FBQ3pELElBQUEsZ0JBQU0sRUFBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3RELElBQUEsZ0JBQU0sRUFBQyxPQUFPLENBQUMsR0FBRyxDQUFDLHlCQUF5QixDQUFDLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ3RFLElBQUEsZ0JBQU0sRUFBQyxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ25FLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxOaWNrXFxEZXNrdG9wXFxTbW9vdGhTYWlsXFxzcmNcXHRlc3RzXFxub3RpZmljYXRpb25zXFxub3RpZmljYXRpb24tc3lzdGVtLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIE5PVElGSUNBVElPTiBTWVNURU0gVEVTVFNcclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogXHJcbiAqIENvbXByZWhlbnNpdmUgdGVzdCBzdWl0ZSBmb3IgdGhlIG5vdGlmaWNhdGlvbiBzeXN0ZW0gb2YgdGhlIEFJIGNyeXB0b1xyXG4gKiB0cmFkaW5nIGFnZW50LiBUZXN0cyBhbGwgbm90aWZpY2F0aW9uIHNlcnZpY2VzLCByb3V0aW5nLCBhbmQgaW50ZWdyYXRpb24uXHJcbiAqIFxyXG4gKiBAYXV0aG9yIEFJIENyeXB0byBUcmFkaW5nIFN5c3RlbVxyXG4gKiBAdmVyc2lvbiAxLjAuMFxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGRlc2NyaWJlLCB0ZXN0LCBleHBlY3QsIGJlZm9yZUVhY2gsIGFmdGVyRWFjaCwgamVzdCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xyXG5pbXBvcnQge1xyXG4gIE5vdGlmaWNhdGlvbk1hbmFnZXIsXHJcbiAgRW1haWxTZXJ2aWNlLFxyXG4gIFRlbGVncmFtU2VydmljZSxcclxuICBOb3RpZmljYXRpb25Sb3V0ZXIsXHJcbiAgVHJhZGluZ05vdGlmaWNhdGlvbnMsXHJcbiAgRW1haWxOb3RpZmljYXRpb25UeXBlLFxyXG4gIFRlbGVncmFtTm90aWZpY2F0aW9uVHlwZSxcclxuICBBbGVydENhdGVnb3J5LFxyXG4gIEFsZXJ0UHJpb3JpdHksXHJcbiAgdHlwZSBUcmFkZUV4ZWN1dGlvbkRhdGEsXHJcbiAgdHlwZSBQb3NpdGlvbkRhdGEsXHJcbiAgdHlwZSBQZXJmb3JtYW5jZVN1bW1hcnlEYXRhLFxyXG4gIHR5cGUgU3lzdGVtSGVhbHRoRGF0YVxyXG59IGZyb20gJ0AvY29yZS9ub3RpZmljYXRpb25zJztcclxuXHJcbi8vIE1vY2sgZW52aXJvbm1lbnQgdmFyaWFibGVzXHJcbnByb2Nlc3MuZW52LlNNVFBfSE9TVCA9ICdzbXRwLmdtYWlsLmNvbSc7XHJcbnByb2Nlc3MuZW52LlNNVFBfUE9SVCA9ICc1ODcnO1xyXG5wcm9jZXNzLmVudi5TTVRQX1VTRVIgPSAndGVzdEBleGFtcGxlLmNvbSc7XHJcbnByb2Nlc3MuZW52LlNNVFBfUEFTUyA9ICdlbmNyeXB0ZWRfcGFzc3dvcmQnO1xyXG5wcm9jZXNzLmVudi5TTVRQX0ZST01fQUREUkVTUyA9ICd0cmFkaW5nLWFnZW50QGV4YW1wbGUuY29tJztcclxucHJvY2Vzcy5lbnYuU01UUF9TRUNVUkUgPSAndHJ1ZSc7XHJcbnByb2Nlc3MuZW52LlRFTEVHUkFNX0JPVF9UT0tFTiA9ICd0ZXN0X2JvdF90b2tlbic7XHJcbnByb2Nlc3MuZW52LlRFTEVHUkFNX0NIQVRfSUQgPSAnMTIzNDU2Nzg5JztcclxucHJvY2Vzcy5lbnYuVEVMRUdSQU1fQVVUSE9SSVpFRF9VU0VSUyA9ICcxMjM0NTY3ODksOTg3NjU0MzIxJztcclxucHJvY2Vzcy5lbnYuVEVMRUdSQU1fQURNSU5fVVNFUlMgPSAnMTIzNDU2Nzg5JztcclxucHJvY2Vzcy5lbnYuTk9USUZJQ0FUSU9OX0VNQUlMID0gJ25vdGlmaWNhdGlvbnNAZXhhbXBsZS5jb20nO1xyXG5cclxuZGVzY3JpYmUoJ05vdGlmaWNhdGlvbiBTeXN0ZW0nLCAoKSA9PiB7XHJcbiAgbGV0IG5vdGlmaWNhdGlvbk1hbmFnZXI6IE5vdGlmaWNhdGlvbk1hbmFnZXI7XHJcblxyXG4gIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gTW9jayBleHRlcm5hbCBkZXBlbmRlbmNpZXNcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIH0pO1xyXG5cclxuICBhZnRlckVhY2goYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKG5vdGlmaWNhdGlvbk1hbmFnZXIpIHtcclxuICAgICAgYXdhaXQgbm90aWZpY2F0aW9uTWFuYWdlci5zdG9wKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdOb3RpZmljYXRpb25NYW5hZ2VyJywgKCkgPT4ge1xyXG4gICAgdGVzdCgnc2hvdWxkIGluaXRpYWxpemUgd2l0aCBkZWZhdWx0IGNvbmZpZ3VyYXRpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIG5vdGlmaWNhdGlvbk1hbmFnZXIgPSBuZXcgTm90aWZpY2F0aW9uTWFuYWdlcigpO1xyXG4gICAgICBcclxuICAgICAgLy8gTW9jayB0aGUgaW5pdGlhbGl6YXRpb24gdG8gYXZvaWQgYWN0dWFsIG5ldHdvcmsgY2FsbHNcclxuICAgICAgamVzdC5zcHlPbihub3RpZmljYXRpb25NYW5hZ2VyIGFzIGFueSwgJ2luaXRpYWxpemVFbWFpbFNlcnZpY2UnKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBqZXN0LnNweU9uKG5vdGlmaWNhdGlvbk1hbmFnZXIgYXMgYW55LCAnaW5pdGlhbGl6ZVRlbGVncmFtU2VydmljZScpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIGplc3Quc3B5T24obm90aWZpY2F0aW9uTWFuYWdlciBhcyBhbnksICdpbml0aWFsaXplTm90aWZpY2F0aW9uUm91dGVyJykubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuICAgICAgamVzdC5zcHlPbihub3RpZmljYXRpb25NYW5hZ2VyIGFzIGFueSwgJ2luaXRpYWxpemVUcmFkaW5nTm90aWZpY2F0aW9ucycpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIGplc3Quc3B5T24obm90aWZpY2F0aW9uTWFuYWdlciBhcyBhbnksICdzZW5kU3RhcnR1cE5vdGlmaWNhdGlvbicpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcblxyXG4gICAgICBhd2FpdCBub3RpZmljYXRpb25NYW5hZ2VyLmluaXRpYWxpemUoKTtcclxuXHJcbiAgICAgIGNvbnN0IGhlYWx0aFN0YXR1cyA9IG5vdGlmaWNhdGlvbk1hbmFnZXIuZ2V0SGVhbHRoU3RhdHVzKCk7XHJcbiAgICAgIGV4cGVjdChoZWFsdGhTdGF0dXMuc2l6ZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSB0cmFkZSBleGVjdXRpb24gbm90aWZpY2F0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBub3RpZmljYXRpb25NYW5hZ2VyID0gbmV3IE5vdGlmaWNhdGlvbk1hbmFnZXIoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIE1vY2sgaW5pdGlhbGl6YXRpb25cclxuICAgICAgamVzdC5zcHlPbihub3RpZmljYXRpb25NYW5hZ2VyIGFzIGFueSwgJ2luaXRpYWxpemVFbWFpbFNlcnZpY2UnKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBqZXN0LnNweU9uKG5vdGlmaWNhdGlvbk1hbmFnZXIgYXMgYW55LCAnaW5pdGlhbGl6ZVRlbGVncmFtU2VydmljZScpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIGplc3Quc3B5T24obm90aWZpY2F0aW9uTWFuYWdlciBhcyBhbnksICdpbml0aWFsaXplTm90aWZpY2F0aW9uUm91dGVyJykubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuICAgICAgamVzdC5zcHlPbihub3RpZmljYXRpb25NYW5hZ2VyIGFzIGFueSwgJ2luaXRpYWxpemVUcmFkaW5nTm90aWZpY2F0aW9ucycpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIGplc3Quc3B5T24obm90aWZpY2F0aW9uTWFuYWdlciBhcyBhbnksICdzZW5kU3RhcnR1cE5vdGlmaWNhdGlvbicpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcblxyXG4gICAgICBhd2FpdCBub3RpZmljYXRpb25NYW5hZ2VyLmluaXRpYWxpemUoKTtcclxuXHJcbiAgICAgIGNvbnN0IHRyYWRlRGF0YTogVHJhZGVFeGVjdXRpb25EYXRhID0ge1xyXG4gICAgICAgIHRyYWRlSWQ6ICd0ZXN0X3RyYWRlXzEyMycsXHJcbiAgICAgICAgc3ltYm9sOiAnQlRDL1VTRFQnLFxyXG4gICAgICAgIGFjdGlvbjogJ0JVWScsXHJcbiAgICAgICAgcXVhbnRpdHk6IDAuMSxcclxuICAgICAgICBwcmljZTogNDUwMDAsXHJcbiAgICAgICAgdG90YWxWYWx1ZTogNDUwMCxcclxuICAgICAgICBmZWVzOiA0LjUsXHJcbiAgICAgICAgcG5sOiAxNTAsXHJcbiAgICAgICAgYmFsYW5jZTogMTAwMDAsXHJcbiAgICAgICAgc3RyYXRlZ3k6ICdNQSBDcm9zc292ZXInLFxyXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuODUsXHJcbiAgICAgICAgcmlza1Jld2FyZDogMi41LFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgICAgICBleGVjdXRpb25UaW1lOiAyNTBcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIE1vY2sgdGhlIHRyYWRpbmcgbm90aWZpY2F0aW9ucyBzZXJ2aWNlXHJcbiAgICAgIGNvbnN0IG1vY2tOb3RpZnlUcmFkZUV4ZWN1dGlvbiA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICAobm90aWZpY2F0aW9uTWFuYWdlciBhcyBhbnkpLnRyYWRpbmdOb3RpZmljYXRpb25zID0ge1xyXG4gICAgICAgIG5vdGlmeVRyYWRlRXhlY3V0aW9uOiBtb2NrTm90aWZ5VHJhZGVFeGVjdXRpb25cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGF3YWl0IG5vdGlmaWNhdGlvbk1hbmFnZXIubm90aWZ5VHJhZGVFeGVjdXRpb24odHJhZGVEYXRhKTtcclxuXHJcbiAgICAgIGV4cGVjdChtb2NrTm90aWZ5VHJhZGVFeGVjdXRpb24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRyYWRlRGF0YSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHNlY3VyaXR5IGFsZXJ0cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgbm90aWZpY2F0aW9uTWFuYWdlciA9IG5ldyBOb3RpZmljYXRpb25NYW5hZ2VyKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBNb2NrIGluaXRpYWxpemF0aW9uXHJcbiAgICAgIGplc3Quc3B5T24obm90aWZpY2F0aW9uTWFuYWdlciBhcyBhbnksICdpbml0aWFsaXplRW1haWxTZXJ2aWNlJykubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuICAgICAgamVzdC5zcHlPbihub3RpZmljYXRpb25NYW5hZ2VyIGFzIGFueSwgJ2luaXRpYWxpemVUZWxlZ3JhbVNlcnZpY2UnKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBqZXN0LnNweU9uKG5vdGlmaWNhdGlvbk1hbmFnZXIgYXMgYW55LCAnaW5pdGlhbGl6ZU5vdGlmaWNhdGlvblJvdXRlcicpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIGplc3Quc3B5T24obm90aWZpY2F0aW9uTWFuYWdlciBhcyBhbnksICdpbml0aWFsaXplVHJhZGluZ05vdGlmaWNhdGlvbnMnKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBqZXN0LnNweU9uKG5vdGlmaWNhdGlvbk1hbmFnZXIgYXMgYW55LCAnc2VuZFN0YXJ0dXBOb3RpZmljYXRpb24nKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG5cclxuICAgICAgYXdhaXQgbm90aWZpY2F0aW9uTWFuYWdlci5pbml0aWFsaXplKCk7XHJcblxyXG4gICAgICBjb25zdCBzZWN1cml0eURhdGEgPSB7XHJcbiAgICAgICAgdGhyZWF0TGV2ZWw6ICdISUdIJyBhcyBjb25zdCxcclxuICAgICAgICBpbmNpZGVudFR5cGU6ICdVbmF1dGhvcml6ZWQgQWNjZXNzIEF0dGVtcHQnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTXVsdGlwbGUgZmFpbGVkIGxvZ2luIGF0dGVtcHRzIGRldGVjdGVkJyxcclxuICAgICAgICBhZmZlY3RlZFN5c3RlbXM6IFsnVHJhZGluZyBFbmdpbmUnLCAnQVBJIEdhdGV3YXknXVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gTW9jayB0aGUgbm90aWZpY2F0aW9uIHJvdXRlclxyXG4gICAgICBjb25zdCBtb2NrU2VuZFNlY3VyaXR5QWxlcnQgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoW10pO1xyXG4gICAgICAobm90aWZpY2F0aW9uTWFuYWdlciBhcyBhbnkpLm5vdGlmaWNhdGlvblJvdXRlciA9IHtcclxuICAgICAgICBzZW5kU2VjdXJpdHlBbGVydDogbW9ja1NlbmRTZWN1cml0eUFsZXJ0XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhd2FpdCBub3RpZmljYXRpb25NYW5hZ2VyLnNlbmRTZWN1cml0eUFsZXJ0KHNlY3VyaXR5RGF0YSk7XHJcblxyXG4gICAgICBleHBlY3QobW9ja1NlbmRTZWN1cml0eUFsZXJ0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChzZWN1cml0eURhdGEpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnc2hvdWxkIHByb3ZpZGUgaGVhbHRoIHN0YXRpc3RpY3MnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIG5vdGlmaWNhdGlvbk1hbmFnZXIgPSBuZXcgTm90aWZpY2F0aW9uTWFuYWdlcigpO1xyXG4gICAgICBcclxuICAgICAgLy8gTW9jayBpbml0aWFsaXphdGlvblxyXG4gICAgICBqZXN0LnNweU9uKG5vdGlmaWNhdGlvbk1hbmFnZXIgYXMgYW55LCAnaW5pdGlhbGl6ZUVtYWlsU2VydmljZScpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIGplc3Quc3B5T24obm90aWZpY2F0aW9uTWFuYWdlciBhcyBhbnksICdpbml0aWFsaXplVGVsZWdyYW1TZXJ2aWNlJykubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuICAgICAgamVzdC5zcHlPbihub3RpZmljYXRpb25NYW5hZ2VyIGFzIGFueSwgJ2luaXRpYWxpemVOb3RpZmljYXRpb25Sb3V0ZXInKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBqZXN0LnNweU9uKG5vdGlmaWNhdGlvbk1hbmFnZXIgYXMgYW55LCAnaW5pdGlhbGl6ZVRyYWRpbmdOb3RpZmljYXRpb25zJykubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuICAgICAgamVzdC5zcHlPbihub3RpZmljYXRpb25NYW5hZ2VyIGFzIGFueSwgJ3NlbmRTdGFydHVwTm90aWZpY2F0aW9uJykubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuXHJcbiAgICAgIGF3YWl0IG5vdGlmaWNhdGlvbk1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xyXG5cclxuICAgICAgY29uc3Qgc3RhdGlzdGljcyA9IG5vdGlmaWNhdGlvbk1hbmFnZXIuZ2V0U3RhdGlzdGljcygpO1xyXG5cclxuICAgICAgZXhwZWN0KHN0YXRpc3RpY3MpLnRvSGF2ZVByb3BlcnR5KCdzZXJ2aWNlcycpO1xyXG4gICAgICBleHBlY3Qoc3RhdGlzdGljcykudG9IYXZlUHJvcGVydHkoJ292ZXJhbGxIZWFsdGgnKTtcclxuICAgICAgZXhwZWN0KHN0YXRpc3RpY3MpLnRvSGF2ZVByb3BlcnR5KCdsYXN0SGVhbHRoQ2hlY2snKTtcclxuICAgICAgZXhwZWN0KHR5cGVvZiBzdGF0aXN0aWNzLm92ZXJhbGxIZWFsdGgpLnRvQmUoJ2Jvb2xlYW4nKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnRW1haWxTZXJ2aWNlJywgKCkgPT4ge1xyXG4gICAgdGVzdCgnc2hvdWxkIHZhbGlkYXRlIFNNVFAgY29uZmlndXJhdGlvbicsICgpID0+IHtcclxuICAgICAgY29uc3QgZW1haWxTZXJ2aWNlID0gbmV3IEVtYWlsU2VydmljZSgpO1xyXG4gICAgICBcclxuICAgICAgLy8gVGVzdCB0aGF0IHJlcXVpcmVkIGVudmlyb25tZW50IHZhcmlhYmxlcyBhcmUgY2hlY2tlZFxyXG4gICAgICBleHBlY3QocHJvY2Vzcy5lbnYuU01UUF9IT1NUKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocHJvY2Vzcy5lbnYuU01UUF9QT1JUKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocHJvY2Vzcy5lbnYuU01UUF9VU0VSKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocHJvY2Vzcy5lbnYuU01UUF9QQVNTKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocHJvY2Vzcy5lbnYuU01UUF9GUk9NX0FERFJFU1MpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgZ2VuZXJhdGUgZW1haWwgY29udGVudCBmcm9tIHRlbXBsYXRlcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgZW1haWxTZXJ2aWNlID0gbmV3IEVtYWlsU2VydmljZSgpO1xyXG4gICAgICBcclxuICAgICAgLy8gTW9jayB0aGUgdGVtcGxhdGUgc3lzdGVtXHJcbiAgICAgIGNvbnN0IG1vY2tHZW5lcmF0ZUVtYWlsQ29udGVudCA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgnPGh0bWw+VGVzdCBFbWFpbDwvaHRtbD4nKTtcclxuICAgICAgKGVtYWlsU2VydmljZSBhcyBhbnkpLmdlbmVyYXRlRW1haWxDb250ZW50ID0gbW9ja0dlbmVyYXRlRW1haWxDb250ZW50O1xyXG5cclxuICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0ge1xyXG4gICAgICAgIGlkOiAndGVzdF9lbWFpbF8xMjMnLFxyXG4gICAgICAgIHR5cGU6IEVtYWlsTm90aWZpY2F0aW9uVHlwZS5UUkFERV9FWEVDVVRJT04sXHJcbiAgICAgICAgcHJpb3JpdHk6ICdoaWdoJyBhcyBhbnksXHJcbiAgICAgICAgdG86IFsndGVzdEBleGFtcGxlLmNvbSddLFxyXG4gICAgICAgIHN1YmplY3Q6ICdUZXN0IFRyYWRlIE5vdGlmaWNhdGlvbicsXHJcbiAgICAgICAgdGVtcGxhdGVEYXRhOiB7XHJcbiAgICAgICAgICBzeXN0ZW1OYW1lOiAnQUkgQ3J5cHRvIFRyYWRpbmcgQWdlbnQnLFxyXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICBzeW1ib2w6ICdCVEMvVVNEVCcsXHJcbiAgICAgICAgICBhY3Rpb246ICdCVVknLFxyXG4gICAgICAgICAgcXVhbnRpdHk6IDAuMSxcclxuICAgICAgICAgIHByaWNlOiA0NTAwMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhd2FpdCBtb2NrR2VuZXJhdGVFbWFpbENvbnRlbnQobm90aWZpY2F0aW9uKTtcclxuXHJcbiAgICAgIGV4cGVjdChtb2NrR2VuZXJhdGVFbWFpbENvbnRlbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG5vdGlmaWNhdGlvbik7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1RlbGVncmFtU2VydmljZScsICgpID0+IHtcclxuICAgIHRlc3QoJ3Nob3VsZCBmb3JtYXQgdHJhZGluZyBtZXNzYWdlcyB3aXRoIGVtb2ppcycsICgpID0+IHtcclxuICAgICAgY29uc3QgdGVsZWdyYW1TZXJ2aWNlID0gbmV3IFRlbGVncmFtU2VydmljZSgpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgdHJhZGVEYXRhID0ge1xyXG4gICAgICAgIHN5bWJvbDogJ0JUQy9VU0RUJyxcclxuICAgICAgICBhY3Rpb246ICdCVVknIGFzIGNvbnN0LFxyXG4gICAgICAgIHF1YW50aXR5OiAwLjEsXHJcbiAgICAgICAgcHJpY2U6IDQ1MDAwLFxyXG4gICAgICAgIHBubDogMTUwLFxyXG4gICAgICAgIGJhbGFuY2U6IDEwMDAwLFxyXG4gICAgICAgIHN0cmF0ZWd5OiAnTUEgQ3Jvc3NvdmVyJyxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIFRlc3QgbWVzc2FnZSBmb3JtYXR0aW5nIGxvZ2ljXHJcbiAgICAgIGNvbnN0IGVtb2ppID0gdHJhZGVEYXRhLmFjdGlvbiA9PT0gJ0JVWScgPyAn8J+foicgOiAn8J+UtCc7XHJcbiAgICAgIGNvbnN0IGFjdGlvbkVtb2ppID0gdHJhZGVEYXRhLmFjdGlvbiA9PT0gJ0JVWScgPyAn8J+TiCcgOiAn8J+TiSc7XHJcbiAgICAgIGNvbnN0IHBubEVtb2ppID0gKHRyYWRlRGF0YS5wbmwgfHwgMCkgPj0gMCA/ICfwn5KwJyA6ICfwn5OJJztcclxuXHJcbiAgICAgIGV4cGVjdChlbW9qaSkudG9CZSgn8J+foicpO1xyXG4gICAgICBleHBlY3QoYWN0aW9uRW1vamkpLnRvQmUoJ/Cfk4gnKTtcclxuICAgICAgZXhwZWN0KHBubEVtb2ppKS50b0JlKCfwn5KwJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgdmFsaWRhdGUgYXV0aG9yaXplZCB1c2VycycsICgpID0+IHtcclxuICAgICAgY29uc3QgdGVsZWdyYW1TZXJ2aWNlID0gbmV3IFRlbGVncmFtU2VydmljZSgpO1xyXG4gICAgICBcclxuICAgICAgLy8gVGVzdCB0aGF0IGF1dGhvcml6ZWQgdXNlcnMgYXJlIGxvYWRlZCBmcm9tIGVudmlyb25tZW50XHJcbiAgICAgIGV4cGVjdChwcm9jZXNzLmVudi5URUxFR1JBTV9BVVRIT1JJWkVEX1VTRVJTKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocHJvY2Vzcy5lbnYuVEVMRUdSQU1fQURNSU5fVVNFUlMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBhdXRob3JpemVkVXNlcnMgPSBwcm9jZXNzLmVudi5URUxFR1JBTV9BVVRIT1JJWkVEX1VTRVJTIS5zcGxpdCgnLCcpO1xyXG4gICAgICBjb25zdCBhZG1pblVzZXJzID0gcHJvY2Vzcy5lbnYuVEVMRUdSQU1fQURNSU5fVVNFUlMhLnNwbGl0KCcsJyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoYXV0aG9yaXplZFVzZXJzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBleHBlY3QoYWRtaW5Vc2Vycy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnTm90aWZpY2F0aW9uUm91dGVyJywgKCkgPT4ge1xyXG4gICAgdGVzdCgnc2hvdWxkIHJvdXRlIGFsZXJ0cyBiYXNlZCBvbiBwcmlvcml0eSBhbmQgY2F0ZWdvcnknLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJvdXRlciA9IG5ldyBOb3RpZmljYXRpb25Sb3V0ZXIoKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGFsZXJ0ID0ge1xyXG4gICAgICAgIGlkOiAndGVzdF9hbGVydF8xMjMnLFxyXG4gICAgICAgIGNhdGVnb3J5OiBBbGVydENhdGVnb3J5LlRSQURJTkcsXHJcbiAgICAgICAgcHJpb3JpdHk6IEFsZXJ0UHJpb3JpdHkuSElHSCxcclxuICAgICAgICB0aXRsZTogJ1Rlc3QgVHJhZGluZyBBbGVydCcsXHJcbiAgICAgICAgbWVzc2FnZTogJ1RoaXMgaXMgYSB0ZXN0IHRyYWRpbmcgYWxlcnQnLFxyXG4gICAgICAgIGRhdGE6IHsgc3ltYm9sOiAnQlRDL1VTRFQnLCBhY3Rpb246ICdCVVknIH0sXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIHNvdXJjZTogJ3Rlc3QnLFxyXG4gICAgICAgIHRhZ3M6IFsndGVzdCcsICd0cmFkaW5nJ11cclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIFRlc3QgYWxlcnQgc3RydWN0dXJlXHJcbiAgICAgIGV4cGVjdChhbGVydC5jYXRlZ29yeSkudG9CZShBbGVydENhdGVnb3J5LlRSQURJTkcpO1xyXG4gICAgICBleHBlY3QoYWxlcnQucHJpb3JpdHkpLnRvQmUoQWxlcnRQcmlvcml0eS5ISUdIKTtcclxuICAgICAgZXhwZWN0KGFsZXJ0LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdzeW1ib2wnKTtcclxuICAgICAgZXhwZWN0KGFsZXJ0LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdhY3Rpb24nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Nob3VsZCBpbXBsZW1lbnQgcmF0ZSBsaW1pdGluZycsICgpID0+IHtcclxuICAgICAgY29uc3Qgcm91dGVyID0gbmV3IE5vdGlmaWNhdGlvblJvdXRlcigpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcmF0ZUxpbWl0UnVsZSA9IHtcclxuICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgIG1heFBlck1pbnV0ZTogMTAsXHJcbiAgICAgICAgbWF4UGVySG91cjogMTAwLFxyXG4gICAgICAgIG1heFBlckRheTogMTAwMCxcclxuICAgICAgICB3aW5kb3dNaW51dGVzOiA2MFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gVGVzdCByYXRlIGxpbWl0IGNvbmZpZ3VyYXRpb25cclxuICAgICAgZXhwZWN0KHJhdGVMaW1pdFJ1bGUuZW5hYmxlZCkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJhdGVMaW1pdFJ1bGUubWF4UGVyTWludXRlKS50b0JlKDEwKTtcclxuICAgICAgZXhwZWN0KHJhdGVMaW1pdFJ1bGUubWF4UGVySG91cikudG9CZSgxMDApO1xyXG4gICAgICBleHBlY3QocmF0ZUxpbWl0UnVsZS5tYXhQZXJEYXkpLnRvQmUoMTAwMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGFsZXJ0IGRlZHVwbGljYXRpb24nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJvdXRlciA9IG5ldyBOb3RpZmljYXRpb25Sb3V0ZXIoKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGFsZXJ0MSA9IHtcclxuICAgICAgICBpZDogJ2FsZXJ0XzEnLFxyXG4gICAgICAgIGNhdGVnb3J5OiBBbGVydENhdGVnb3J5LlNZU1RFTSxcclxuICAgICAgICBwcmlvcml0eTogQWxlcnRQcmlvcml0eS5OT1JNQUwsXHJcbiAgICAgICAgdGl0bGU6ICdIaWdoIENQVSBVc2FnZScsXHJcbiAgICAgICAgbWVzc2FnZTogJ0NQVSB1c2FnZSBpcyBhdCA4NSUnLFxyXG4gICAgICAgIGRhdGE6IHsgY3B1OiA4NSB9LFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgICAgICBzb3VyY2U6ICdzeXN0ZW0tbW9uaXRvcicsXHJcbiAgICAgICAgdGFnczogWydzeXN0ZW0nLCAnY3B1J11cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IGFsZXJ0MiA9IHtcclxuICAgICAgICBpZDogJ2FsZXJ0XzInLFxyXG4gICAgICAgIGNhdGVnb3J5OiBBbGVydENhdGVnb3J5LlNZU1RFTSxcclxuICAgICAgICBwcmlvcml0eTogQWxlcnRQcmlvcml0eS5OT1JNQUwsXHJcbiAgICAgICAgdGl0bGU6ICdIaWdoIENQVSBVc2FnZScsXHJcbiAgICAgICAgbWVzc2FnZTogJ0NQVSB1c2FnZSBpcyBhdCA4NSUnLFxyXG4gICAgICAgIGRhdGE6IHsgY3B1OiA4NSB9LFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgICAgICBzb3VyY2U6ICdzeXN0ZW0tbW9uaXRvcicsXHJcbiAgICAgICAgdGFnczogWydzeXN0ZW0nLCAnY3B1J11cclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIFRlc3QgdGhhdCBhbGVydHMgd2l0aCBzYW1lIGNvbnRlbnQgc2hvdWxkIGJlIGRlZHVwbGljYXRlZFxyXG4gICAgICBleHBlY3QoYWxlcnQxLnRpdGxlKS50b0JlKGFsZXJ0Mi50aXRsZSk7XHJcbiAgICAgIGV4cGVjdChhbGVydDEubWVzc2FnZSkudG9CZShhbGVydDIubWVzc2FnZSk7XHJcbiAgICAgIGV4cGVjdChhbGVydDEuc291cmNlKS50b0JlKGFsZXJ0Mi5zb3VyY2UpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdUcmFkaW5nTm90aWZpY2F0aW9ucycsICgpID0+IHtcclxuICAgIHRlc3QoJ3Nob3VsZCBmb3JtYXQgcGVyZm9ybWFuY2Ugc3VtbWFyeSBkYXRhJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB0cmFkaW5nTm90aWZpY2F0aW9ucyA9IG5ldyBUcmFkaW5nTm90aWZpY2F0aW9ucygpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcGVyZm9ybWFuY2VEYXRhOiBQZXJmb3JtYW5jZVN1bW1hcnlEYXRhID0ge1xyXG4gICAgICAgIHBlcmlvZDogJ2RhaWx5JyxcclxuICAgICAgICBzdGFydERhdGU6IG5ldyBEYXRlKCcyMDI0LTAxLTAxJyksXHJcbiAgICAgICAgZW5kRGF0ZTogbmV3IERhdGUoJzIwMjQtMDEtMDEnKSxcclxuICAgICAgICB0b3RhbFRyYWRlczogMTUsXHJcbiAgICAgICAgd2lubmluZ1RyYWRlczogMTAsXHJcbiAgICAgICAgbG9zaW5nVHJhZGVzOiA1LFxyXG4gICAgICAgIHdpblJhdGU6IDY2LjcsXHJcbiAgICAgICAgdG90YWxQbkw6IDI1MC41MCxcclxuICAgICAgICBncm9zc1Byb2ZpdDogNDAwLjc1LFxyXG4gICAgICAgIGdyb3NzTG9zczogLTE1MC4yNSxcclxuICAgICAgICBwcm9maXRGYWN0b3I6IDIuNjcsXHJcbiAgICAgICAgc2hhcnBlUmF0aW86IDEuODUsXHJcbiAgICAgICAgbWF4RHJhd2Rvd246IC03NS4yNSxcclxuICAgICAgICBtYXhEcmF3ZG93blBlcmNlbnQ6IC0yLjUsXHJcbiAgICAgICAgYmVzdFRyYWRlOiA4NS41MCxcclxuICAgICAgICB3b3JzdFRyYWRlOiAtNDUuMjUsXHJcbiAgICAgICAgYXZlcmFnZVdpbjogNDAuMDgsXHJcbiAgICAgICAgYXZlcmFnZUxvc3M6IC0zMC4wNSxcclxuICAgICAgICBsYXJnZXN0V2luU3RyZWFrOiA0LFxyXG4gICAgICAgIGxhcmdlc3RMb3NzU3RyZWFrOiAyLFxyXG4gICAgICAgIGN1cnJlbnRCYWxhbmNlOiAxMDI1MC41MCxcclxuICAgICAgICBzdGFydGluZ0JhbGFuY2U6IDEwMDAwLjAwLFxyXG4gICAgICAgIHJldHVyblBlcmNlbnQ6IDIuNTEsXHJcbiAgICAgICAgdHJhZGluZ0RheXM6IDEsXHJcbiAgICAgICAgYXZlcmFnZVRyYWRlc1BlckRheTogMTUsXHJcbiAgICAgICAgc3RyYXRlZ2llczogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnTUEgQ3Jvc3NvdmVyJyxcclxuICAgICAgICAgICAgdHJhZGVzOiA4LFxyXG4gICAgICAgICAgICB3aW5SYXRlOiA3NS4wLFxyXG4gICAgICAgICAgICBwbmw6IDE4MC4yNSxcclxuICAgICAgICAgICAgcHJvZml0RmFjdG9yOiAzLjIsXHJcbiAgICAgICAgICAgIGF2ZXJhZ2VSZXR1cm46IDIyLjUzXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnUlNJIE1vbWVudHVtJyxcclxuICAgICAgICAgICAgdHJhZGVzOiA3LFxyXG4gICAgICAgICAgICB3aW5SYXRlOiA1Ny4xLFxyXG4gICAgICAgICAgICBwbmw6IDcwLjI1LFxyXG4gICAgICAgICAgICBwcm9maXRGYWN0b3I6IDIuMSxcclxuICAgICAgICAgICAgYXZlcmFnZVJldHVybjogMTAuMDRcclxuICAgICAgICAgIH1cclxuICAgICAgICBdXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBUZXN0IHBlcmZvcm1hbmNlIGRhdGEgc3RydWN0dXJlXHJcbiAgICAgIGV4cGVjdChwZXJmb3JtYW5jZURhdGEudG90YWxUcmFkZXMpLnRvQmUoMTUpO1xyXG4gICAgICBleHBlY3QocGVyZm9ybWFuY2VEYXRhLndpblJhdGUpLnRvQmUoNjYuNyk7XHJcbiAgICAgIGV4cGVjdChwZXJmb3JtYW5jZURhdGEudG90YWxQbkwpLnRvQmUoMjUwLjUwKTtcclxuICAgICAgZXhwZWN0KHBlcmZvcm1hbmNlRGF0YS5zdHJhdGVnaWVzLmxlbmd0aCkudG9CZSgyKTtcclxuICAgICAgZXhwZWN0KHBlcmZvcm1hbmNlRGF0YS5zdHJhdGVnaWVzWzBdLm5hbWUpLnRvQmUoJ01BIENyb3Nzb3ZlcicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBzeXN0ZW0gaGVhbHRoIGRhdGEnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRyYWRpbmdOb3RpZmljYXRpb25zID0gbmV3IFRyYWRpbmdOb3RpZmljYXRpb25zKCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBoZWFsdGhEYXRhOiBTeXN0ZW1IZWFsdGhEYXRhID0ge1xyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgICAgICB1cHRpbWU6IDg2NDAwLCAvLyAyNCBob3VycyBpbiBzZWNvbmRzXHJcbiAgICAgICAgY3B1OiB7XHJcbiAgICAgICAgICB1c2FnZTogNDUuNSxcclxuICAgICAgICAgIHRlbXBlcmF0dXJlOiA2NS4yLFxyXG4gICAgICAgICAgZnJlcXVlbmN5OiAyODAwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZW1vcnk6IHtcclxuICAgICAgICAgIHVzZWQ6IDgxOTIsXHJcbiAgICAgICAgICBhdmFpbGFibGU6IDQwOTYsXHJcbiAgICAgICAgICB1c2FnZVBlcmNlbnQ6IDY2LjdcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRpc2s6IHtcclxuICAgICAgICAgIHVzZWQ6IDEyODAwMCxcclxuICAgICAgICAgIGF2YWlsYWJsZTogMTI4MDAwLFxyXG4gICAgICAgICAgdXNhZ2VQZXJjZW50OiA1MC4wLFxyXG4gICAgICAgICAgaW9XYWl0OiAyLjVcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5ldHdvcms6IHtcclxuICAgICAgICAgIGxhdGVuY3k6IDI1LFxyXG4gICAgICAgICAgdGhyb3VnaHB1dDogMTAwMCxcclxuICAgICAgICAgIHBhY2tldHNMb3N0OiAwLFxyXG4gICAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ2Nvbm5lY3RlZCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRyYWRpbmc6IHtcclxuICAgICAgICAgIGFjdGl2ZVBvc2l0aW9uczogMyxcclxuICAgICAgICAgIGRhaWx5VHJhZGVzOiAxMixcclxuICAgICAgICAgIGFwaUxhdGVuY3k6IDE1MCxcclxuICAgICAgICAgIGxhc3RUcmFkZVRpbWU6IG5ldyBEYXRlKClcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBUZXN0IHN5c3RlbSBoZWFsdGggZGF0YSBzdHJ1Y3R1cmVcclxuICAgICAgZXhwZWN0KGhlYWx0aERhdGEuY3B1LnVzYWdlKS50b0JlKDQ1LjUpO1xyXG4gICAgICBleHBlY3QoaGVhbHRoRGF0YS5tZW1vcnkudXNhZ2VQZXJjZW50KS50b0JlKDY2LjcpO1xyXG4gICAgICBleHBlY3QoaGVhbHRoRGF0YS5kaXNrLnVzYWdlUGVyY2VudCkudG9CZSg1MC4wKTtcclxuICAgICAgZXhwZWN0KGhlYWx0aERhdGEubmV0d29yay5jb25uZWN0aW9uU3RhdHVzKS50b0JlKCdjb25uZWN0ZWQnKTtcclxuICAgICAgZXhwZWN0KGhlYWx0aERhdGEudHJhZGluZy5hY3RpdmVQb3NpdGlvbnMpLnRvQmUoMyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0ludGVncmF0aW9uIFRlc3RzJywgKCkgPT4ge1xyXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBjb21wbGV0ZSBub3RpZmljYXRpb24gZmxvdycsIGFzeW5jICgpID0+IHtcclxuICAgICAgbm90aWZpY2F0aW9uTWFuYWdlciA9IG5ldyBOb3RpZmljYXRpb25NYW5hZ2VyKHtcclxuICAgICAgICBlbWFpbEVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgdGVsZWdyYW1FbmFibGVkOiB0cnVlLFxyXG4gICAgICAgIHJvdXRpbmdFbmFibGVkOiB0cnVlLFxyXG4gICAgICAgIHRyYWRpbmdOb3RpZmljYXRpb25zRW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICBoZWFsdGhDaGVja0ludGVydmFsOiAxIC8vIDEgbWludXRlIGZvciB0ZXN0aW5nXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gTW9jayBhbGwgaW5pdGlhbGl6YXRpb24gbWV0aG9kc1xyXG4gICAgICBqZXN0LnNweU9uKG5vdGlmaWNhdGlvbk1hbmFnZXIgYXMgYW55LCAnaW5pdGlhbGl6ZUVtYWlsU2VydmljZScpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICAgIGplc3Quc3B5T24obm90aWZpY2F0aW9uTWFuYWdlciBhcyBhbnksICdpbml0aWFsaXplVGVsZWdyYW1TZXJ2aWNlJykubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuICAgICAgamVzdC5zcHlPbihub3RpZmljYXRpb25NYW5hZ2VyIGFzIGFueSwgJ2luaXRpYWxpemVOb3RpZmljYXRpb25Sb3V0ZXInKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBqZXN0LnNweU9uKG5vdGlmaWNhdGlvbk1hbmFnZXIgYXMgYW55LCAnaW5pdGlhbGl6ZVRyYWRpbmdOb3RpZmljYXRpb25zJykubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuICAgICAgamVzdC5zcHlPbihub3RpZmljYXRpb25NYW5hZ2VyIGFzIGFueSwgJ3NlbmRTdGFydHVwTm90aWZpY2F0aW9uJykubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuXHJcbiAgICAgIGF3YWl0IG5vdGlmaWNhdGlvbk1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xyXG5cclxuICAgICAgLy8gVGVzdCB0cmFkZSBleGVjdXRpb24gZmxvd1xyXG4gICAgICBjb25zdCB0cmFkZURhdGE6IFRyYWRlRXhlY3V0aW9uRGF0YSA9IHtcclxuICAgICAgICB0cmFkZUlkOiAnaW50ZWdyYXRpb25fdGVzdF8xMjMnLFxyXG4gICAgICAgIHN5bWJvbDogJ0VUSC9VU0RUJyxcclxuICAgICAgICBhY3Rpb246ICdTRUxMJyxcclxuICAgICAgICBxdWFudGl0eTogMi41LFxyXG4gICAgICAgIHByaWNlOiAyODAwLFxyXG4gICAgICAgIHRvdGFsVmFsdWU6IDcwMDAsXHJcbiAgICAgICAgZmVlczogNy4wLFxyXG4gICAgICAgIHBubDogLTUwLFxyXG4gICAgICAgIGJhbGFuY2U6IDk5NTAsXHJcbiAgICAgICAgc3RyYXRlZ3k6ICdSU0kgRGl2ZXJnZW5jZScsXHJcbiAgICAgICAgY29uZmlkZW5jZTogMC43MixcclxuICAgICAgICByaXNrUmV3YXJkOiAxLjgsXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIGV4ZWN1dGlvblRpbWU6IDE4MFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gTW9jayB0aGUgdHJhZGluZyBub3RpZmljYXRpb25zXHJcbiAgICAgIGNvbnN0IG1vY2tOb3RpZnlUcmFkZUV4ZWN1dGlvbiA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICAobm90aWZpY2F0aW9uTWFuYWdlciBhcyBhbnkpLnRyYWRpbmdOb3RpZmljYXRpb25zID0ge1xyXG4gICAgICAgIG5vdGlmeVRyYWRlRXhlY3V0aW9uOiBtb2NrTm90aWZ5VHJhZGVFeGVjdXRpb25cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGF3YWl0IG5vdGlmaWNhdGlvbk1hbmFnZXIubm90aWZ5VHJhZGVFeGVjdXRpb24odHJhZGVEYXRhKTtcclxuXHJcbiAgICAgIGV4cGVjdChtb2NrTm90aWZ5VHJhZGVFeGVjdXRpb24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRyYWRlRGF0YSk7XHJcblxyXG4gICAgICAvLyBUZXN0IHN0YXRpc3RpY3NcclxuICAgICAgY29uc3Qgc3RhdGlzdGljcyA9IG5vdGlmaWNhdGlvbk1hbmFnZXIuZ2V0U3RhdGlzdGljcygpO1xyXG4gICAgICBleHBlY3Qoc3RhdGlzdGljcykudG9IYXZlUHJvcGVydHkoJ3NlcnZpY2VzJyk7XHJcbiAgICAgIGV4cGVjdChzdGF0aXN0aWNzKS50b0hhdmVQcm9wZXJ0eSgnb3ZlcmFsbEhlYWx0aCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBlcnJvciBzY2VuYXJpb3MgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcclxuICAgICAgbm90aWZpY2F0aW9uTWFuYWdlciA9IG5ldyBOb3RpZmljYXRpb25NYW5hZ2VyKCk7XHJcblxyXG4gICAgICAvLyBNb2NrIGluaXRpYWxpemF0aW9uIHdpdGggc29tZSBmYWlsdXJlc1xyXG4gICAgICBqZXN0LnNweU9uKG5vdGlmaWNhdGlvbk1hbmFnZXIgYXMgYW55LCAnaW5pdGlhbGl6ZUVtYWlsU2VydmljZScpLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignRW1haWwgc2VydmljZSBmYWlsZWQnKSk7XHJcbiAgICAgIGplc3Quc3B5T24obm90aWZpY2F0aW9uTWFuYWdlciBhcyBhbnksICdpbml0aWFsaXplVGVsZWdyYW1TZXJ2aWNlJykubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuICAgICAgamVzdC5zcHlPbihub3RpZmljYXRpb25NYW5hZ2VyIGFzIGFueSwgJ2luaXRpYWxpemVOb3RpZmljYXRpb25Sb3V0ZXInKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xyXG4gICAgICBqZXN0LnNweU9uKG5vdGlmaWNhdGlvbk1hbmFnZXIgYXMgYW55LCAnaW5pdGlhbGl6ZVRyYWRpbmdOb3RpZmljYXRpb25zJykubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcclxuXHJcbiAgICAgIC8vIFNob3VsZCB0aHJvdyBlcnJvciBkdWUgdG8gZW1haWwgc2VydmljZSBmYWlsdXJlXHJcbiAgICAgIGF3YWl0IGV4cGVjdChub3RpZmljYXRpb25NYW5hZ2VyLmluaXRpYWxpemUoKSkucmVqZWN0cy50b1Rocm93KCdFbWFpbCBzZXJ2aWNlIGZhaWxlZCcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ05vdGlmaWNhdGlvbiBTeXN0ZW0gRW52aXJvbm1lbnQgVmFsaWRhdGlvbicsICgpID0+IHtcclxuICB0ZXN0KCdzaG91bGQgdmFsaWRhdGUgcmVxdWlyZWQgZW52aXJvbm1lbnQgdmFyaWFibGVzJywgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVxdWlyZWRWYXJzID0gW1xyXG4gICAgICAnU01UUF9IT1NUJyxcclxuICAgICAgJ1NNVFBfUE9SVCcsXHJcbiAgICAgICdTTVRQX1VTRVInLFxyXG4gICAgICAnU01UUF9QQVNTJyxcclxuICAgICAgJ1NNVFBfRlJPTV9BRERSRVNTJyxcclxuICAgICAgJ1RFTEVHUkFNX0JPVF9UT0tFTicsXHJcbiAgICAgICdURUxFR1JBTV9DSEFUX0lEJyxcclxuICAgICAgJ05PVElGSUNBVElPTl9FTUFJTCdcclxuICAgIF07XHJcblxyXG4gICAgZm9yIChjb25zdCB2YXJOYW1lIG9mIHJlcXVpcmVkVmFycykge1xyXG4gICAgICBleHBlY3QocHJvY2Vzcy5lbnZbdmFyTmFtZV0pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ3Nob3VsZCB2YWxpZGF0ZSBlbWFpbCBjb25maWd1cmF0aW9uIGZvcm1hdCcsICgpID0+IHtcclxuICAgIGV4cGVjdChwcm9jZXNzLmVudi5TTVRQX1BPUlQpLnRvTWF0Y2goL15cXGQrJC8pO1xyXG4gICAgZXhwZWN0KHByb2Nlc3MuZW52LlNNVFBfRlJPTV9BRERSRVNTKS50b01hdGNoKC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvKTtcclxuICAgIGV4cGVjdChwcm9jZXNzLmVudi5OT1RJRklDQVRJT05fRU1BSUwpLnRvTWF0Y2goL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC8pO1xyXG4gIH0pO1xyXG5cclxuICB0ZXN0KCdzaG91bGQgdmFsaWRhdGUgVGVsZWdyYW0gY29uZmlndXJhdGlvbiBmb3JtYXQnLCAoKSA9PiB7XHJcbiAgICBleHBlY3QocHJvY2Vzcy5lbnYuVEVMRUdSQU1fQ0hBVF9JRCkudG9NYXRjaCgvXlxcZCskLyk7XHJcbiAgICBleHBlY3QocHJvY2Vzcy5lbnYuVEVMRUdSQU1fQVVUSE9SSVpFRF9VU0VSUykudG9NYXRjaCgvXlxcZCsoLFxcZCspKiQvKTtcclxuICAgIGV4cGVjdChwcm9jZXNzLmVudi5URUxFR1JBTV9BRE1JTl9VU0VSUykudG9NYXRjaCgvXlxcZCsoLFxcZCspKiQvKTtcclxuICB9KTtcclxufSk7Il0sInZlcnNpb24iOjN9