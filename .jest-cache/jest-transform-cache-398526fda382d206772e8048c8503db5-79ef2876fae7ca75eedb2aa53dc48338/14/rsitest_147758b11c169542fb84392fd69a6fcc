4691b549b2cb41ba6b1b93815d8ecacf
"use strict";
// =============================================================================
// AI CRYPTO TRADING AGENT - RSI STRATEGY UNIT TESTS
// =============================================================================
// Comprehensive unit tests for RSI momentum strategy
// Tests overbought/oversold conditions, divergence detection, and signal generation
// =============================================================================
Object.defineProperty(exports, "__esModule", { value: true });
const rsi_1 = require("@/trading/strategies/rsi");
describe('RSIStrategy', () => {
    let strategy;
    beforeEach(() => {
        strategy = new rsi_1.RSIStrategy();
    });
    describe('calculateRSI', () => {
        it('should calculate RSI correctly for trending up market', () => {
            // Prices trending upward should result in RSI > 50
            const prices = [100, 102, 104, 106, 108, 110, 112, 114, 116, 118, 120, 122, 124, 126, 128];
            const rsi = strategy.calculateRSI(prices, 14);
            expect(rsi).toHaveLength(prices.length);
            expect(rsi.slice(0, 14).every(val => val === null)).toBe(true); // First 14 values null
            expect(rsi[14]).toBeGreaterThan(50); // RSI should be > 50 for uptrend
            expect(rsi[14]).toBeLessThan(100); // RSI should be < 100
        });
        it('should calculate RSI correctly for trending down market', () => {
            // Prices trending downward should result in RSI < 50
            const prices = [128, 126, 124, 122, 120, 118, 116, 114, 112, 110, 108, 106, 104, 102, 100];
            const rsi = strategy.calculateRSI(prices, 14);
            expect(rsi[14]).toBeLessThan(50); // RSI should be < 50 for downtrend
            expect(rsi[14]).toBeGreaterThan(0); // RSI should be > 0
        });
        it('should handle sideways market correctly', () => {
            const prices = [100, 101, 99, 100, 102, 98, 100, 101, 99, 100, 102, 98, 100, 101, 99];
            const rsi = strategy.calculateRSI(prices, 14);
            expect(rsi[14]).toBeGreaterThan(40);
            expect(rsi[14]).toBeLessThan(60); // RSI should be around 50 for sideways
        });
        it('should handle insufficient data', () => {
            const prices = [100, 102, 104, 106, 108];
            const rsi = strategy.calculateRSI(prices, 14);
            expect(rsi.every(val => val === null)).toBe(true);
        });
        it('should handle edge case with identical prices', () => {
            const prices = Array(20).fill(100); // All prices the same
            const rsi = strategy.calculateRSI(prices, 14);
            expect(rsi[14]).toBe(50); // RSI should be 50 when no price movement
        });
    });
    describe('detectOverboughtOversold', () => {
        it('should detect overbought condition', () => {
            const rsiValues = [null, null, 65, 70, 75, 80, 85];
            const conditions = strategy.detectOverboughtOversold(rsiValues, 70, 30);
            expect(conditions).toHaveLength(7);
            expect(conditions[3]).toBe('OVERBOUGHT');
            expect(conditions[4]).toBe('OVERBOUGHT');
            expect(conditions[5]).toBe('OVERBOUGHT');
            expect(conditions[6]).toBe('OVERBOUGHT');
        });
        it('should detect oversold condition', () => {
            const rsiValues = [null, null, 35, 30, 25, 20, 15];
            const conditions = strategy.detectOverboughtOversold(rsiValues, 70, 30);
            expect(conditions[3]).toBe('OVERSOLD');
            expect(conditions[4]).toBe('OVERSOLD');
            expect(conditions[5]).toBe('OVERSOLD');
            expect(conditions[6]).toBe('OVERSOLD');
        });
        it('should detect neutral condition', () => {
            const rsiValues = [null, null, 45, 50, 55, 60, 65];
            const conditions = strategy.detectOverboughtOversold(rsiValues, 70, 30);
            expect(conditions[2]).toBe('NEUTRAL');
            expect(conditions[3]).toBe('NEUTRAL');
            expect(conditions[4]).toBe('NEUTRAL');
            expect(conditions[5]).toBe('NEUTRAL');
            expect(conditions[6]).toBe('NEUTRAL');
        });
        it('should handle null RSI values', () => {
            const rsiValues = [null, null, null, null];
            const conditions = strategy.detectOverboughtOversold(rsiValues, 70, 30);
            expect(conditions.every(val => val === null)).toBe(true);
        });
    });
    describe('detectDivergence', () => {
        it('should detect bullish divergence', () => {
            const prices = [100, 95, 90, 85, 80, 85, 90, 95, 100];
            const rsiValues = [null, null, null, null, 25, 30, 35, 40, 45];
            const divergence = strategy.detectDivergence(prices, rsiValues);
            expect(divergence).toBe('BULLISH'); // Price makes lower low, RSI makes higher low
        });
        it('should detect bearish divergence', () => {
            const prices = [100, 105, 110, 115, 120, 115, 110, 105, 100];
            const rsiValues = [null, null, null, null, 75, 70, 65, 60, 55];
            const divergence = strategy.detectDivergence(prices, rsiValues);
            expect(divergence).toBe('BEARISH'); // Price makes higher high, RSI makes lower high
        });
        it('should return null when no divergence', () => {
            const prices = [100, 105, 110, 115, 120];
            const rsiValues = [null, null, null, 60, 65];
            const divergence = strategy.detectDivergence(prices, rsiValues);
            expect(divergence).toBeNull();
        });
        it('should handle insufficient data', () => {
            const prices = [100, 105];
            const rsiValues = [null, 60];
            const divergence = strategy.detectDivergence(prices, rsiValues);
            expect(divergence).toBeNull();
        });
    });
    describe('generateSignal', () => {
        it('should generate SELL signal for overbought condition', () => {
            // Create data that will result in overbought RSI
            const prices = Array.from({ length: 20 }, (_, i) => 100 + i * 2); // Strong uptrend
            const volumes = Array.from({ length: 20 }, () => 1000);
            const marketData = {
                symbol: 'BTC/USDT',
                prices,
                volumes,
                timestamp: new Date()
            };
            const signal = strategy.generateSignal(marketData);
            expect(signal).toBeDefined();
            expect(signal.type).toBe('SELL');
            expect(signal.symbol).toBe('BTC/USDT');
            expect(signal.indicators).toContain('RSI');
            expect(signal.strength).toBeGreaterThan(0);
        });
        it('should generate BUY signal for oversold condition', () => {
            // Create data that will result in oversold RSI
            const prices = Array.from({ length: 20 }, (_, i) => 100 - i * 2); // Strong downtrend
            const volumes = Array.from({ length: 20 }, () => 1000);
            const marketData = {
                symbol: 'ETH/USDT',
                prices,
                volumes,
                timestamp: new Date()
            };
            const signal = strategy.generateSignal(marketData);
            expect(signal).toBeDefined();
            expect(signal.type).toBe('BUY');
            expect(signal.symbol).toBe('ETH/USDT');
            expect(signal.indicators).toContain('RSI');
        });
        it('should generate HOLD signal for neutral RSI', () => {
            // Create sideways market data
            const prices = Array.from({ length: 20 }, (_, i) => 100 + Math.sin(i) * 2);
            const volumes = Array.from({ length: 20 }, () => 1000);
            const marketData = {
                symbol: 'BTC/USDT',
                prices,
                volumes,
                timestamp: new Date()
            };
            const signal = strategy.generateSignal(marketData);
            expect(signal.type).toBe('HOLD');
            expect(signal.strength).toBeLessThan(70);
        });
        it('should handle insufficient data gracefully', () => {
            const marketData = {
                symbol: 'BTC/USDT',
                prices: [100, 102, 104],
                volumes: [1000, 1100, 1200],
                timestamp: new Date()
            };
            const signal = strategy.generateSignal(marketData);
            expect(signal.type).toBe('HOLD');
            expect(signal.strength).toBe(0);
            expect(signal.confidence).toBe(0);
        });
        it('should increase confidence with divergence confirmation', () => {
            // Create bullish divergence scenario
            const prices = [100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 32, 34, 36, 38, 40];
            const volumes = Array.from({ length: 20 }, () => 1000);
            const marketData = {
                symbol: 'BTC/USDT',
                prices,
                volumes,
                timestamp: new Date()
            };
            const signal = strategy.generateSignal(marketData);
            expect(signal.confidence).toBeGreaterThan(60); // Higher confidence with divergence
        });
    });
    describe('calculateSignalStrength', () => {
        it('should calculate higher strength for extreme RSI values', () => {
            const rsiValue = 85; // Very overbought
            const condition = 'OVERBOUGHT';
            const strength = strategy.calculateSignalStrength(rsiValue, condition);
            expect(strength).toBeGreaterThan(70);
            expect(strength).toBeLessThanOrEqual(100);
        });
        it('should calculate lower strength for moderate RSI values', () => {
            const rsiValue = 72; // Slightly overbought
            const condition = 'OVERBOUGHT';
            const strength = strategy.calculateSignalStrength(rsiValue, condition);
            expect(strength).toBeLessThan(70);
            expect(strength).toBeGreaterThan(0);
        });
        it('should return 0 for neutral condition', () => {
            const rsiValue = 50;
            const condition = 'NEUTRAL';
            const strength = strategy.calculateSignalStrength(rsiValue, condition);
            expect(strength).toBe(0);
        });
    });
    describe('Edge Cases and Error Handling', () => {
        it('should handle NaN values in prices', () => {
            const marketData = {
                symbol: 'BTC/USDT',
                prices: [100, NaN, 102, 104, 106, 108, 110, 112, 114, 116, 118, 120, 122, 124, 126, 128, 130],
                volumes: Array.from({ length: 17 }, () => 1000),
                timestamp: new Date()
            };
            expect(() => strategy.generateSignal(marketData)).not.toThrow();
        });
        it('should handle extreme price movements', () => {
            const prices = [100, 200, 50, 300, 25, 400, 10]; // Extreme volatility
            const volumes = Array.from({ length: 7 }, () => 1000);
            const marketData = {
                symbol: 'BTC/USDT',
                prices,
                volumes,
                timestamp: new Date()
            };
            expect(() => strategy.generateSignal(marketData)).not.toThrow();
        });
        it('should validate configuration parameters', () => {
            expect(() => new rsi_1.RSIStrategy({ period: 0 })).toThrow();
            expect(() => new rsi_1.RSIStrategy({ period: -1 })).toThrow();
            expect(() => new rsi_1.RSIStrategy({ overboughtThreshold: 50 })).toThrow(); // Should be > 50
            expect(() => new rsi_1.RSIStrategy({ oversoldThreshold: 60 })).toThrow(); // Should be < 50
        });
        it('should handle configuration with invalid thresholds', () => {
            expect(() => new rsi_1.RSIStrategy({
                overboughtThreshold: 30,
                oversoldThreshold: 70
            })).toThrow(); // Overbought should be > oversold
        });
    });
    describe('Performance and Accuracy Tests', () => {
        it('should maintain accuracy with large datasets', () => {
            const prices = Array.from({ length: 1000 }, (_, i) => 100 + Math.sin(i / 10) * 20);
            const volumes = Array.from({ length: 1000 }, () => 1000);
            const marketData = {
                symbol: 'BTC/USDT',
                prices,
                volumes,
                timestamp: new Date()
            };
            const startTime = Date.now();
            const signal = strategy.generateSignal(marketData);
            const endTime = Date.now();
            expect(endTime - startTime).toBeLessThan(500); // Should complete within 500ms
            expect(signal).toBeDefined();
            expect(signal.strength).toBeGreaterThanOrEqual(0);
            expect(signal.strength).toBeLessThanOrEqual(100);
        });
        it('should produce consistent results for same input', () => {
            const marketData = {
                symbol: 'BTC/USDT',
                prices: Array.from({ length: 20 }, (_, i) => 100 + i),
                volumes: Array.from({ length: 20 }, () => 1000),
                timestamp: new Date()
            };
            const signal1 = strategy.generateSignal(marketData);
            const signal2 = strategy.generateSignal(marketData);
            expect(signal1.type).toBe(signal2.type);
            expect(signal1.strength).toBe(signal2.strength);
            expect(signal1.confidence).toBe(signal2.confidence);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxOaWNrXFxEZXNrdG9wXFxTbW9vdGhTYWlsXFxzcmNcXHRlc3RzXFx0cmFkaW5nXFxzdHJhdGVnaWVzXFxyc2kudGVzdC50cyIsIm1hcHBpbmdzIjoiO0FBQUEsZ0ZBQWdGO0FBQ2hGLG9EQUFvRDtBQUNwRCxnRkFBZ0Y7QUFDaEYscURBQXFEO0FBQ3JELG9GQUFvRjtBQUNwRixnRkFBZ0Y7O0FBRWhGLGtEQUF1RDtBQUd2RCxRQUFRLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtJQUMzQixJQUFJLFFBQXFCLENBQUM7SUFFMUIsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLFFBQVEsR0FBRyxJQUFJLGlCQUFXLEVBQUUsQ0FBQztJQUMvQixDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxjQUFjLEVBQUUsR0FBRyxFQUFFO1FBQzVCLEVBQUUsQ0FBQyx1REFBdUQsRUFBRSxHQUFHLEVBQUU7WUFDL0QsbURBQW1EO1lBQ25ELE1BQU0sTUFBTSxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUUzRixNQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsQ0FBQztZQUU5QyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN4QyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsdUJBQXVCO1lBQ3ZG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QUFFLElBQUksSUFBSSxFQUFFO2FBQ3RCLENBQUM7WUFFRixNQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3BELE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUM7WUFFcEQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3hDLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNoRCxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdEQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTmlja1xcRGVza3RvcFxcU21vb3RoU2FpbFxcc3JjXFx0ZXN0c1xcdHJhZGluZ1xcc3RyYXRlZ2llc1xccnNpLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQUkgQ1JZUFRPIFRSQURJTkcgQUdFTlQgLSBSU0kgU1RSQVRFR1kgVU5JVCBURVNUU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDb21wcmVoZW5zaXZlIHVuaXQgdGVzdHMgZm9yIFJTSSBtb21lbnR1bSBzdHJhdGVneVxyXG4vLyBUZXN0cyBvdmVyYm91Z2h0L292ZXJzb2xkIGNvbmRpdGlvbnMsIGRpdmVyZ2VuY2UgZGV0ZWN0aW9uLCBhbmQgc2lnbmFsIGdlbmVyYXRpb25cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmltcG9ydCB7IFJTSVN0cmF0ZWd5IH0gZnJvbSAnQC90cmFkaW5nL3N0cmF0ZWdpZXMvcnNpJztcclxuaW1wb3J0IHsgUlNJU2lnbmFsLCBUcmFkaW5nU2lnbmFsIH0gZnJvbSAnQC90cmFkaW5nL3N0cmF0ZWdpZXMvdHlwZXMnO1xyXG5cclxuZGVzY3JpYmUoJ1JTSVN0cmF0ZWd5JywgKCkgPT4ge1xyXG4gIGxldCBzdHJhdGVneTogUlNJU3RyYXRlZ3k7XHJcblxyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgc3RyYXRlZ3kgPSBuZXcgUlNJU3RyYXRlZ3koKTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2NhbGN1bGF0ZVJTSScsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIFJTSSBjb3JyZWN0bHkgZm9yIHRyZW5kaW5nIHVwIG1hcmtldCcsICgpID0+IHtcclxuICAgICAgLy8gUHJpY2VzIHRyZW5kaW5nIHVwd2FyZCBzaG91bGQgcmVzdWx0IGluIFJTSSA+IDUwXHJcbiAgICAgIGNvbnN0IHByaWNlcyA9IFsxMDAsIDEwMiwgMTA0LCAxMDYsIDEwOCwgMTEwLCAxMTIsIDExNCwgMTE2LCAxMTgsIDEyMCwgMTIyLCAxMjQsIDEyNiwgMTI4XTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJzaSA9IHN0cmF0ZWd5LmNhbGN1bGF0ZVJTSShwcmljZXMsIDE0KTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyc2kpLnRvSGF2ZUxlbmd0aChwcmljZXMubGVuZ3RoKTtcclxuICAgICAgZXhwZWN0KHJzaS5zbGljZSgwLCAxNCkuZXZlcnkodmFsID0+IHZhbCA9PT0gbnVsbCkpLnRvQmUodHJ1ZSk7IC8vIEZpcnN0IDE0IHZhbHVlcyBudWxsXHJcbiAgICAgIGV4cGVjdChyc2lbMTRdKS50b0JlR3JlYXRlclRoYW4oNTApOyAvLyBSU0kgc2hvdWxkIGJlID4gNTAgZm9yIHVwdHJlbmRcclxuICAgICAgZXhwZWN0KHJzaVsxNF0pLnRvQmVMZXNzVGhhbigxMDApOyAvLyBSU0kgc2hvdWxkIGJlIDwgMTAwXHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBSU0kgY29ycmVjdGx5IGZvciB0cmVuZGluZyBkb3duIG1hcmtldCcsICgpID0+IHtcclxuICAgICAgLy8gUHJpY2VzIHRyZW5kaW5nIGRvd253YXJkIHNob3VsZCByZXN1bHQgaW4gUlNJIDwgNTBcclxuICAgICAgY29uc3QgcHJpY2VzID0gWzEyOCwgMTI2LCAxMjQsIDEyMiwgMTIwLCAxMTgsIDExNiwgMTE0LCAxMTIsIDExMCwgMTA4LCAxMDYsIDEwNCwgMTAyLCAxMDBdO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcnNpID0gc3RyYXRlZ3kuY2FsY3VsYXRlUlNJKHByaWNlcywgMTQpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJzaVsxNF0pLnRvQmVMZXNzVGhhbig1MCk7IC8vIFJTSSBzaG91bGQgYmUgPCA1MCBmb3IgZG93bnRyZW5kXHJcbiAgICAgIGV4cGVjdChyc2lbMTRdKS50b0JlR3JlYXRlclRoYW4oMCk7IC8vIFJTSSBzaG91bGQgYmUgPiAwXHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzaWRld2F5cyBtYXJrZXQgY29ycmVjdGx5JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwcmljZXMgPSBbMTAwLCAxMDEsIDk5LCAxMDAsIDEwMiwgOTgsIDEwMCwgMTAxLCA5OSwgMTAwLCAxMDIsIDk4LCAxMDAsIDEwMSwgOTldO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcnNpID0gc3RyYXRlZ3kuY2FsY3VsYXRlUlNJKHByaWNlcywgMTQpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJzaVsxNF0pLnRvQmVHcmVhdGVyVGhhbig0MCk7XHJcbiAgICAgIGV4cGVjdChyc2lbMTRdKS50b0JlTGVzc1RoYW4oNjApOyAvLyBSU0kgc2hvdWxkIGJlIGFyb3VuZCA1MCBmb3Igc2lkZXdheXNcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGluc3VmZmljaWVudCBkYXRhJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwcmljZXMgPSBbMTAwLCAxMDIsIDEwNCwgMTA2LCAxMDhdO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcnNpID0gc3RyYXRlZ3kuY2FsY3VsYXRlUlNJKHByaWNlcywgMTQpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJzaS5ldmVyeSh2YWwgPT4gdmFsID09PSBudWxsKSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGVkZ2UgY2FzZSB3aXRoIGlkZW50aWNhbCBwcmljZXMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByaWNlcyA9IEFycmF5KDIwKS5maWxsKDEwMCk7IC8vIEFsbCBwcmljZXMgdGhlIHNhbWVcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJzaSA9IHN0cmF0ZWd5LmNhbGN1bGF0ZVJTSShwcmljZXMsIDE0KTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyc2lbMTRdKS50b0JlKDUwKTsgLy8gUlNJIHNob3VsZCBiZSA1MCB3aGVuIG5vIHByaWNlIG1vdmVtZW50XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2RldGVjdE92ZXJib3VnaHRPdmVyc29sZCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IG92ZXJib3VnaHQgY29uZGl0aW9uJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCByc2lWYWx1ZXMgPSBbbnVsbCwgbnVsbCwgNjUsIDcwLCA3NSwgODAsIDg1XTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNvbmRpdGlvbnMgPSBzdHJhdGVneS5kZXRlY3RPdmVyYm91Z2h0T3ZlcnNvbGQocnNpVmFsdWVzLCA3MCwgMzApO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGNvbmRpdGlvbnMpLnRvSGF2ZUxlbmd0aCg3KTtcclxuICAgICAgZXhwZWN0KGNvbmRpdGlvbnNbM10pLnRvQmUoJ09WRVJCT1VHSFQnKTtcclxuICAgICAgZXhwZWN0KGNvbmRpdGlvbnNbNF0pLnRvQmUoJ09WRVJCT1VHSFQnKTtcclxuICAgICAgZXhwZWN0KGNvbmRpdGlvbnNbNV0pLnRvQmUoJ09WRVJCT1VHSFQnKTtcclxuICAgICAgZXhwZWN0KGNvbmRpdGlvbnNbNl0pLnRvQmUoJ09WRVJCT1VHSFQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IG92ZXJzb2xkIGNvbmRpdGlvbicsICgpID0+IHtcclxuICAgICAgY29uc3QgcnNpVmFsdWVzID0gW251bGwsIG51bGwsIDM1LCAzMCwgMjUsIDIwLCAxNV07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjb25kaXRpb25zID0gc3RyYXRlZ3kuZGV0ZWN0T3ZlcmJvdWdodE92ZXJzb2xkKHJzaVZhbHVlcywgNzAsIDMwKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChjb25kaXRpb25zWzNdKS50b0JlKCdPVkVSU09MRCcpO1xyXG4gICAgICBleHBlY3QoY29uZGl0aW9uc1s0XSkudG9CZSgnT1ZFUlNPTEQnKTtcclxuICAgICAgZXhwZWN0KGNvbmRpdGlvbnNbNV0pLnRvQmUoJ09WRVJTT0xEJyk7XHJcbiAgICAgIGV4cGVjdChjb25kaXRpb25zWzZdKS50b0JlKCdPVkVSU09MRCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgbmV1dHJhbCBjb25kaXRpb24nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJzaVZhbHVlcyA9IFtudWxsLCBudWxsLCA0NSwgNTAsIDU1LCA2MCwgNjVdO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgY29uZGl0aW9ucyA9IHN0cmF0ZWd5LmRldGVjdE92ZXJib3VnaHRPdmVyc29sZChyc2lWYWx1ZXMsIDcwLCAzMCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoY29uZGl0aW9uc1syXSkudG9CZSgnTkVVVFJBTCcpO1xyXG4gICAgICBleHBlY3QoY29uZGl0aW9uc1szXSkudG9CZSgnTkVVVFJBTCcpO1xyXG4gICAgICBleHBlY3QoY29uZGl0aW9uc1s0XSkudG9CZSgnTkVVVFJBTCcpO1xyXG4gICAgICBleHBlY3QoY29uZGl0aW9uc1s1XSkudG9CZSgnTkVVVFJBTCcpO1xyXG4gICAgICBleHBlY3QoY29uZGl0aW9uc1s2XSkudG9CZSgnTkVVVFJBTCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbCBSU0kgdmFsdWVzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCByc2lWYWx1ZXMgPSBbbnVsbCwgbnVsbCwgbnVsbCwgbnVsbF07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjb25kaXRpb25zID0gc3RyYXRlZ3kuZGV0ZWN0T3ZlcmJvdWdodE92ZXJzb2xkKHJzaVZhbHVlcywgNzAsIDMwKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChjb25kaXRpb25zLmV2ZXJ5KHZhbCA9PiB2YWwgPT09IG51bGwpKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdkZXRlY3REaXZlcmdlbmNlJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgYnVsbGlzaCBkaXZlcmdlbmNlJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwcmljZXMgPSBbMTAwLCA5NSwgOTAsIDg1LCA4MCwgODUsIDkwLCA5NSwgMTAwXTtcclxuICAgICAgY29uc3QgcnNpVmFsdWVzID0gW251bGwsIG51bGwsIG51bGwsIG51bGwsIDI1LCAzMCwgMzUsIDQwLCA0NV07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkaXZlcmdlbmNlID0gc3RyYXRlZ3kuZGV0ZWN0RGl2ZXJnZW5jZShwcmljZXMsIHJzaVZhbHVlcyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoZGl2ZXJnZW5jZSkudG9CZSgnQlVMTElTSCcpOyAvLyBQcmljZSBtYWtlcyBsb3dlciBsb3csIFJTSSBtYWtlcyBoaWdoZXIgbG93XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBiZWFyaXNoIGRpdmVyZ2VuY2UnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByaWNlcyA9IFsxMDAsIDEwNSwgMTEwLCAxMTUsIDEyMCwgMTE1LCAxMTAsIDEwNSwgMTAwXTtcclxuICAgICAgY29uc3QgcnNpVmFsdWVzID0gW251bGwsIG51bGwsIG51bGwsIG51bGwsIDc1LCA3MCwgNjUsIDYwLCA1NV07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkaXZlcmdlbmNlID0gc3RyYXRlZ3kuZGV0ZWN0RGl2ZXJnZW5jZShwcmljZXMsIHJzaVZhbHVlcyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoZGl2ZXJnZW5jZSkudG9CZSgnQkVBUklTSCcpOyAvLyBQcmljZSBtYWtlcyBoaWdoZXIgaGlnaCwgUlNJIG1ha2VzIGxvd2VyIGhpZ2hcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIG51bGwgd2hlbiBubyBkaXZlcmdlbmNlJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwcmljZXMgPSBbMTAwLCAxMDUsIDExMCwgMTE1LCAxMjBdO1xyXG4gICAgICBjb25zdCByc2lWYWx1ZXMgPSBbbnVsbCwgbnVsbCwgbnVsbCwgNjAsIDY1XTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRpdmVyZ2VuY2UgPSBzdHJhdGVneS5kZXRlY3REaXZlcmdlbmNlKHByaWNlcywgcnNpVmFsdWVzKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChkaXZlcmdlbmNlKS50b0JlTnVsbCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgaW5zdWZmaWNpZW50IGRhdGEnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByaWNlcyA9IFsxMDAsIDEwNV07XHJcbiAgICAgIGNvbnN0IHJzaVZhbHVlcyA9IFtudWxsLCA2MF07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkaXZlcmdlbmNlID0gc3RyYXRlZ3kuZGV0ZWN0RGl2ZXJnZW5jZShwcmljZXMsIHJzaVZhbHVlcyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoZGl2ZXJnZW5jZSkudG9CZU51bGwoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2VuZXJhdGVTaWduYWwnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIFNFTEwgc2lnbmFsIGZvciBvdmVyYm91Z2h0IGNvbmRpdGlvbicsICgpID0+IHtcclxuICAgICAgLy8gQ3JlYXRlIGRhdGEgdGhhdCB3aWxsIHJlc3VsdCBpbiBvdmVyYm91Z2h0IFJTSVxyXG4gICAgICBjb25zdCBwcmljZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyMCB9LCAoXywgaSkgPT4gMTAwICsgaSAqIDIpOyAvLyBTdHJvbmcgdXB0cmVuZFxyXG4gICAgICBjb25zdCB2b2x1bWVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMjAgfSwgKCkgPT4gMTAwMCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBtYXJrZXREYXRhID0ge1xyXG4gICAgICAgIHN5bWJvbDogJ0JUQy9VU0RUJyxcclxuICAgICAgICBwcmljZXMsXHJcbiAgICAgICAgdm9sdW1lcyxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHNpZ25hbCA9IHN0cmF0ZWd5LmdlbmVyYXRlU2lnbmFsKG1hcmtldERhdGEpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHNpZ25hbCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHNpZ25hbC50eXBlKS50b0JlKCdTRUxMJyk7XHJcbiAgICAgIGV4cGVjdChzaWduYWwuc3ltYm9sKS50b0JlKCdCVEMvVVNEVCcpO1xyXG4gICAgICBleHBlY3Qoc2lnbmFsLmluZGljYXRvcnMpLnRvQ29udGFpbignUlNJJyk7XHJcbiAgICAgIGV4cGVjdChzaWduYWwuc3RyZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgQlVZIHNpZ25hbCBmb3Igb3ZlcnNvbGQgY29uZGl0aW9uJywgKCkgPT4ge1xyXG4gICAgICAvLyBDcmVhdGUgZGF0YSB0aGF0IHdpbGwgcmVzdWx0IGluIG92ZXJzb2xkIFJTSVxyXG4gICAgICBjb25zdCBwcmljZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyMCB9LCAoXywgaSkgPT4gMTAwIC0gaSAqIDIpOyAvLyBTdHJvbmcgZG93bnRyZW5kXHJcbiAgICAgIGNvbnN0IHZvbHVtZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyMCB9LCAoKSA9PiAxMDAwKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG1hcmtldERhdGEgPSB7XHJcbiAgICAgICAgc3ltYm9sOiAnRVRIL1VTRFQnLFxyXG4gICAgICAgIHByaWNlcyxcclxuICAgICAgICB2b2x1bWVzLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgY29uc3Qgc2lnbmFsID0gc3RyYXRlZ3kuZ2VuZXJhdGVTaWduYWwobWFya2V0RGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3Qoc2lnbmFsKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3Qoc2lnbmFsLnR5cGUpLnRvQmUoJ0JVWScpO1xyXG4gICAgICBleHBlY3Qoc2lnbmFsLnN5bWJvbCkudG9CZSgnRVRIL1VTRFQnKTtcclxuICAgICAgZXhwZWN0KHNpZ25hbC5pbmRpY2F0b3JzKS50b0NvbnRhaW4oJ1JTSScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBIT0xEIHNpZ25hbCBmb3IgbmV1dHJhbCBSU0knLCAoKSA9PiB7XHJcbiAgICAgIC8vIENyZWF0ZSBzaWRld2F5cyBtYXJrZXQgZGF0YVxyXG4gICAgICBjb25zdCBwcmljZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyMCB9LCAoXywgaSkgPT4gMTAwICsgTWF0aC5zaW4oaSkgKiAyKTtcclxuICAgICAgY29uc3Qgdm9sdW1lcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDIwIH0sICgpID0+IDEwMDApO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgbWFya2V0RGF0YSA9IHtcclxuICAgICAgICBzeW1ib2w6ICdCVEMvVVNEVCcsXHJcbiAgICAgICAgcHJpY2VzLFxyXG4gICAgICAgIHZvbHVtZXMsXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBzaWduYWwgPSBzdHJhdGVneS5nZW5lcmF0ZVNpZ25hbChtYXJrZXREYXRhKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChzaWduYWwudHlwZSkudG9CZSgnSE9MRCcpO1xyXG4gICAgICBleHBlY3Qoc2lnbmFsLnN0cmVuZ3RoKS50b0JlTGVzc1RoYW4oNzApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgaW5zdWZmaWNpZW50IGRhdGEgZ3JhY2VmdWxseScsICgpID0+IHtcclxuICAgICAgY29uc3QgbWFya2V0RGF0YSA9IHtcclxuICAgICAgICBzeW1ib2w6ICdCVEMvVVNEVCcsXHJcbiAgICAgICAgcHJpY2VzOiBbMTAwLCAxMDIsIDEwNF0sXHJcbiAgICAgICAgdm9sdW1lczogWzEwMDAsIDExMDAsIDEyMDBdLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgY29uc3Qgc2lnbmFsID0gc3RyYXRlZ3kuZ2VuZXJhdGVTaWduYWwobWFya2V0RGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3Qoc2lnbmFsLnR5cGUpLnRvQmUoJ0hPTEQnKTtcclxuICAgICAgZXhwZWN0KHNpZ25hbC5zdHJlbmd0aCkudG9CZSgwKTtcclxuICAgICAgZXhwZWN0KHNpZ25hbC5jb25maWRlbmNlKS50b0JlKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBpbmNyZWFzZSBjb25maWRlbmNlIHdpdGggZGl2ZXJnZW5jZSBjb25maXJtYXRpb24nLCAoKSA9PiB7XHJcbiAgICAgIC8vIENyZWF0ZSBidWxsaXNoIGRpdmVyZ2VuY2Ugc2NlbmFyaW9cclxuICAgICAgY29uc3QgcHJpY2VzID0gWzEwMCwgOTUsIDkwLCA4NSwgODAsIDc1LCA3MCwgNjUsIDYwLCA1NSwgNTAsIDQ1LCA0MCwgMzUsIDMwLCAzMiwgMzQsIDM2LCAzOCwgNDBdO1xyXG4gICAgICBjb25zdCB2b2x1bWVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMjAgfSwgKCkgPT4gMTAwMCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBtYXJrZXREYXRhID0ge1xyXG4gICAgICAgIHN5bWJvbDogJ0JUQy9VU0RUJyxcclxuICAgICAgICBwcmljZXMsXHJcbiAgICAgICAgdm9sdW1lcyxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHNpZ25hbCA9IHN0cmF0ZWd5LmdlbmVyYXRlU2lnbmFsKG1hcmtldERhdGEpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHNpZ25hbC5jb25maWRlbmNlKS50b0JlR3JlYXRlclRoYW4oNjApOyAvLyBIaWdoZXIgY29uZmlkZW5jZSB3aXRoIGRpdmVyZ2VuY2VcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnY2FsY3VsYXRlU2lnbmFsU3RyZW5ndGgnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBoaWdoZXIgc3RyZW5ndGggZm9yIGV4dHJlbWUgUlNJIHZhbHVlcycsICgpID0+IHtcclxuICAgICAgY29uc3QgcnNpVmFsdWUgPSA4NTsgLy8gVmVyeSBvdmVyYm91Z2h0XHJcbiAgICAgIGNvbnN0IGNvbmRpdGlvbiA9ICdPVkVSQk9VR0hUJztcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHN0cmVuZ3RoID0gc3RyYXRlZ3kuY2FsY3VsYXRlU2lnbmFsU3RyZW5ndGgocnNpVmFsdWUsIGNvbmRpdGlvbik7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3Qoc3RyZW5ndGgpLnRvQmVHcmVhdGVyVGhhbig3MCk7XHJcbiAgICAgIGV4cGVjdChzdHJlbmd0aCkudG9CZUxlc3NUaGFuT3JFcXVhbCgxMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgbG93ZXIgc3RyZW5ndGggZm9yIG1vZGVyYXRlIFJTSSB2YWx1ZXMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJzaVZhbHVlID0gNzI7IC8vIFNsaWdodGx5IG92ZXJib3VnaHRcclxuICAgICAgY29uc3QgY29uZGl0aW9uID0gJ09WRVJCT1VHSFQnO1xyXG4gICAgICBcclxuICAgICAgY29uc3Qgc3RyZW5ndGggPSBzdHJhdGVneS5jYWxjdWxhdGVTaWduYWxTdHJlbmd0aChyc2lWYWx1ZSwgY29uZGl0aW9uKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChzdHJlbmd0aCkudG9CZUxlc3NUaGFuKDcwKTtcclxuICAgICAgZXhwZWN0KHN0cmVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiAwIGZvciBuZXV0cmFsIGNvbmRpdGlvbicsICgpID0+IHtcclxuICAgICAgY29uc3QgcnNpVmFsdWUgPSA1MDtcclxuICAgICAgY29uc3QgY29uZGl0aW9uID0gJ05FVVRSQUwnO1xyXG4gICAgICBcclxuICAgICAgY29uc3Qgc3RyZW5ndGggPSBzdHJhdGVneS5jYWxjdWxhdGVTaWduYWxTdHJlbmd0aChyc2lWYWx1ZSwgY29uZGl0aW9uKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChzdHJlbmd0aCkudG9CZSgwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnRWRnZSBDYXNlcyBhbmQgRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBOYU4gdmFsdWVzIGluIHByaWNlcycsICgpID0+IHtcclxuICAgICAgY29uc3QgbWFya2V0RGF0YSA9IHtcclxuICAgICAgICBzeW1ib2w6ICdCVEMvVVNEVCcsXHJcbiAgICAgICAgcHJpY2VzOiBbMTAwLCBOYU4sIDEwMiwgMTA0LCAxMDYsIDEwOCwgMTEwLCAxMTIsIDExNCwgMTE2LCAxMTgsIDEyMCwgMTIyLCAxMjQsIDEyNiwgMTI4LCAxMzBdLFxyXG4gICAgICAgIHZvbHVtZXM6IEFycmF5LmZyb20oeyBsZW5ndGg6IDE3IH0sICgpID0+IDEwMDApLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KCgpID0+IHN0cmF0ZWd5LmdlbmVyYXRlU2lnbmFsKG1hcmtldERhdGEpKS5ub3QudG9UaHJvdygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZXh0cmVtZSBwcmljZSBtb3ZlbWVudHMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByaWNlcyA9IFsxMDAsIDIwMCwgNTAsIDMwMCwgMjUsIDQwMCwgMTBdOyAvLyBFeHRyZW1lIHZvbGF0aWxpdHlcclxuICAgICAgY29uc3Qgdm9sdW1lcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDcgfSwgKCkgPT4gMTAwMCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBtYXJrZXREYXRhID0ge1xyXG4gICAgICAgIHN5bWJvbDogJ0JUQy9VU0RUJyxcclxuICAgICAgICBwcmljZXMsXHJcbiAgICAgICAgdm9sdW1lcyxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdCgoKSA9PiBzdHJhdGVneS5nZW5lcmF0ZVNpZ25hbChtYXJrZXREYXRhKSkubm90LnRvVGhyb3coKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzJywgKCkgPT4ge1xyXG4gICAgICBleHBlY3QoKCkgPT4gbmV3IFJTSVN0cmF0ZWd5KHsgcGVyaW9kOiAwIH0pKS50b1Rocm93KCk7XHJcbiAgICAgIGV4cGVjdCgoKSA9PiBuZXcgUlNJU3RyYXRlZ3koeyBwZXJpb2Q6IC0xIH0pKS50b1Rocm93KCk7XHJcbiAgICAgIGV4cGVjdCgoKSA9PiBuZXcgUlNJU3RyYXRlZ3koeyBvdmVyYm91Z2h0VGhyZXNob2xkOiA1MCB9KSkudG9UaHJvdygpOyAvLyBTaG91bGQgYmUgPiA1MFxyXG4gICAgICBleHBlY3QoKCkgPT4gbmV3IFJTSVN0cmF0ZWd5KHsgb3ZlcnNvbGRUaHJlc2hvbGQ6IDYwIH0pKS50b1Rocm93KCk7IC8vIFNob3VsZCBiZSA8IDUwXHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb25maWd1cmF0aW9uIHdpdGggaW52YWxpZCB0aHJlc2hvbGRzJywgKCkgPT4ge1xyXG4gICAgICBleHBlY3QoKCkgPT4gbmV3IFJTSVN0cmF0ZWd5KHsgXHJcbiAgICAgICAgb3ZlcmJvdWdodFRocmVzaG9sZDogMzAsIFxyXG4gICAgICAgIG92ZXJzb2xkVGhyZXNob2xkOiA3MCBcclxuICAgICAgfSkpLnRvVGhyb3coKTsgLy8gT3ZlcmJvdWdodCBzaG91bGQgYmUgPiBvdmVyc29sZFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdQZXJmb3JtYW5jZSBhbmQgQWNjdXJhY3kgVGVzdHMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIG1haW50YWluIGFjY3VyYWN5IHdpdGggbGFyZ2UgZGF0YXNldHMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByaWNlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMDAgfSwgKF8sIGkpID0+IDEwMCArIE1hdGguc2luKGkgLyAxMCkgKiAyMCk7XHJcbiAgICAgIGNvbnN0IHZvbHVtZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDAwIH0sICgpID0+IDEwMDApO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgbWFya2V0RGF0YSA9IHtcclxuICAgICAgICBzeW1ib2w6ICdCVEMvVVNEVCcsXHJcbiAgICAgICAgcHJpY2VzLFxyXG4gICAgICAgIHZvbHVtZXMsXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICBjb25zdCBzaWduYWwgPSBzdHJhdGVneS5nZW5lcmF0ZVNpZ25hbChtYXJrZXREYXRhKTtcclxuICAgICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoZW5kVGltZSAtIHN0YXJ0VGltZSkudG9CZUxlc3NUaGFuKDUwMCk7IC8vIFNob3VsZCBjb21wbGV0ZSB3aXRoaW4gNTAwbXNcclxuICAgICAgZXhwZWN0KHNpZ25hbCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHNpZ25hbC5zdHJlbmd0aCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgICAgZXhwZWN0KHNpZ25hbC5zdHJlbmd0aCkudG9CZUxlc3NUaGFuT3JFcXVhbCgxMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBwcm9kdWNlIGNvbnNpc3RlbnQgcmVzdWx0cyBmb3Igc2FtZSBpbnB1dCcsICgpID0+IHtcclxuICAgICAgY29uc3QgbWFya2V0RGF0YSA9IHtcclxuICAgICAgICBzeW1ib2w6ICdCVEMvVVNEVCcsXHJcbiAgICAgICAgcHJpY2VzOiBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyMCB9LCAoXywgaSkgPT4gMTAwICsgaSksXHJcbiAgICAgICAgdm9sdW1lczogQXJyYXkuZnJvbSh7IGxlbmd0aDogMjAgfSwgKCkgPT4gMTAwMCksXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBzaWduYWwxID0gc3RyYXRlZ3kuZ2VuZXJhdGVTaWduYWwobWFya2V0RGF0YSk7XHJcbiAgICAgIGNvbnN0IHNpZ25hbDIgPSBzdHJhdGVneS5nZW5lcmF0ZVNpZ25hbChtYXJrZXREYXRhKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChzaWduYWwxLnR5cGUpLnRvQmUoc2lnbmFsMi50eXBlKTtcclxuICAgICAgZXhwZWN0KHNpZ25hbDEuc3RyZW5ndGgpLnRvQmUoc2lnbmFsMi5zdHJlbmd0aCk7XHJcbiAgICAgIGV4cGVjdChzaWduYWwxLmNvbmZpZGVuY2UpLnRvQmUoc2lnbmFsMi5jb25maWRlbmNlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTsiXSwidmVyc2lvbiI6M30=